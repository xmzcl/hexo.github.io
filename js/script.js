!function(a){
// Search
var t=a("#search-form-wrap"),n=!1,e=function(){n=!0},i=function(a){setTimeout((function(){n=!1,a&&a()}),200)};a(".nav-search-btn").on("click",(function(){n||(e(),t.addClass("on"),i((function(){a(".search-form-input").focus()})))})),a(".search-form-input").on("blur",(function(){e(),t.removeClass("on"),i()})),
// Share
a("body").on("click",(function(){a(".article-share-box.on").removeClass("on")})).on("click",".article-share-link",(function(t){t.stopPropagation();var n=a(this),e=n.attr("data-url"),i=encodeURIComponent(e),s="article-share-box-"+n.attr("data-id"),o=n.attr("data-title"),r=n.offset();if(a("#"+s).length){if((l=a("#"+s)).hasClass("on"))return void l.removeClass("on")}else{var c=['<div id="'+s+'" class="article-share-box">','<input class="article-share-input" value="'+e+'">','<div class="article-share-links">','<a href="https://twitter.com/intent/tweet?text='+encodeURIComponent(o)+"&url="+i+'" class="article-share-twitter" target="_blank" title="Twitter"><span class="fa fa-twitter"></span></a>','<a href="https://www.facebook.com/sharer.php?u='+i+'" class="article-share-facebook" target="_blank" title="Facebook"><span class="fa fa-facebook"></span></a>','<a href="http://pinterest.com/pin/create/button/?url='+i+'" class="article-share-pinterest" target="_blank" title="Pinterest"><span class="fa fa-pinterest"></span></a>','<a href="https://www.linkedin.com/shareArticle?mini=true&url='+i+'" class="article-share-linkedin" target="_blank" title="LinkedIn"><span class="fa fa-linkedin"></span></a>',"</div>","</div>"].join(""),l=a(c);a("body").append(l)}a(".article-share-box.on").hide(),l.css({top:r.top+25,left:r.left}).addClass("on")})).on("click",".article-share-box",(function(a){a.stopPropagation()})).on("click",".article-share-box-input",(function(){a(this).select()})).on("click",".article-share-box-link",(function(a){a.preventDefault(),a.stopPropagation(),window.open(this.href,"article-share-box-window-"+Date.now(),"width=500,height=450")})),
// Caption
a(".article-entry").each((function(t){a(this).find("img").each((function(){if(!a(this).parent().hasClass("fancybox")&&!a(this).parent().is("a")){var t=this.alt;t&&a(this).after('<span class="caption">'+t+"</span>"),a(this).wrap('<a href="'+this.src+'" data-fancybox="gallery" data-caption="'+t+'"></a>')}})),a(this).find(".fancybox").each((function(){a(this).attr("rel","article"+t)}))})),a.fancybox&&a(".fancybox").fancybox();
// Mobile nav
var s=a("#container"),o=!1;a("#main-nav-toggle").on("click",(function(){o||(o=!0,s.toggleClass("mobile-nav-on"),setTimeout((function(){o=!1}),200))})),a("#wrap").on("click",(function(){!o&&s.hasClass("mobile-nav-on")&&s.removeClass("mobile-nav-on")}))}(jQuery);