<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Yaml 基础</title>
    <url>/2023/08/24/Yaml%E5%9F%BA%E7%A1%80/</url>
    <content><![CDATA[<h2 id="YAML-基础"><a href="#YAML-基础" class="headerlink" title="YAML 基础"></a>YAML 基础</h2><p>它的基本语法规则如下：</p>
<ul>
<li>大小写敏感</li>
<li>使用缩进表示层级关系</li>
<li>缩进时不允许使用 Tab 键，只允许使用空格。</li>
<li>缩进的空格数目不重要，只要相同层级的元素左侧对齐即可</li>
<li><code>#</code> 表示注释，从这个字符一直到行尾，都会被解析器忽略。</li>
</ul>
<p>在我们的 kubernetes 中，你只需要两种结构类型就行了：</p>
<ul>
<li>Lists</li>
<li>Maps</li>
</ul>
<p>也就是说，你可能会遇到 Lists 的 Maps 和 Maps 的 Lists，等等。不过不用担心，你只要掌握了这两种结构也就可以了，其他更加复杂的我们暂不讨论。</p>
<h3 id="Maps"><a href="#Maps" class="headerlink" title="Maps"></a>Maps</h3><p>首先我们来看看 Maps，我们都知道 Map 是字典，就是一个 <code>key:value</code> 的键值对，Maps 可以让我们更加方便的去书写配置信息，例如：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">---</span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Pod</span><br></pre></td></tr></tbody></table></figure>

<p>第一行的 <code>---</code> 是分隔符，是可选的，在单一文件中，可用连续三个连字号 <code>---</code> 区分多个文件。这里我们可以看到，我们有两个键：<code>kind</code> 和 <code>apiVersion</code>，他们对应的值分别是：v1 和 Pod。上面的 YAML 文件转换成 JSON 格式的话，你肯定就容易明白了：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">{</span><br><span class="line">    "apiVersion": "v1",</span><br><span class="line">    "kind": "pod"</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>我们在创建一个相对复杂一点的 YAML 文件，创建一个 KEY 对应的值不是字符串而是一个 Maps：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">---</span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Pod</span><br><span class="line">metadata:</span><br><span class="line">  name: kube100-site</span><br><span class="line">  labels:</span><br><span class="line">    app: web</span><br></pre></td></tr></tbody></table></figure>

<p>上面的 YAML 文件，metadata 这个 KEY 对应的值就是一个 Maps 了，而且嵌套的 labels 这个 KEY 的值又是一个 Map，你可以根据你自己的情况进行多层嵌套。</p>
<p>上面我们也提到了 YAML 文件的语法规则，YAML 处理器是根据行缩进来知道内容之间的嗯关联性的。比如我们上面的 YAML 文件，<strong>我用了两个空格作为缩进，空格的数量并不重要，但是你得保持一致，并且至少要求一个空格</strong>（什么意思？就是你别一会缩进两个空格，一会缩进 4 个空格）。</p>
<p>我们可以看到 name 和 labels 是相同级别的缩进，所以 YAML 处理器就知道了他们属于同一个 MAP，而 app 是 labels 的值是因为 app 的缩进更大。</p>
<blockquote>
<p>注意：在 YAML 文件中绝对不要使用 tab 键。</p>
</blockquote>
<p>同样的，我们可以将上面的 YAML 文件转换成 JSON 文件：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">{</span><br><span class="line">  "apiVersion": "v1",</span><br><span class="line">  "kind": "Pod",</span><br><span class="line">  "metadata": {</span><br><span class="line">    "name": "kube100-site",</span><br><span class="line">    "labels": {</span><br><span class="line">      "app": "web"</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>或许你对上面的 JSON 文件更熟悉，但是你不得不承认 YAML 文件的语义化程度更高吧？</p>
<h3 id="Lists"><a href="#Lists" class="headerlink" title="Lists"></a>Lists</h3><p>Lists 就是列表，说白了就是数组，在 YAML 文件中我们可以这样定义：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">args</span><br><span class="line">  - Cat</span><br><span class="line">  - Dog</span><br><span class="line">  - Fish</span><br></pre></td></tr></tbody></table></figure>

<p>你可以有任何数量的项在列表中，每个项的定义以破折号（-）开头的，与父元素直接可以缩进一个空格。对应的 JSON 格式如下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">{</span><br><span class="line">    "args": ["Cat", "Dog", "Fish"]</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>当然，list 的子项也可以是 Maps，Maps 的子项也可以是 list 如下所示：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">---</span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Pod</span><br><span class="line">metadata:</span><br><span class="line">  name: kube100-site</span><br><span class="line">  labels:</span><br><span class="line">    app: web</span><br><span class="line">spec:</span><br><span class="line">  containers:</span><br><span class="line">    - name: front-end</span><br><span class="line">      image: nginx</span><br><span class="line">      ports:</span><br><span class="line">        - containerPort: 80</span><br><span class="line">    - name: flaskapp-demo</span><br><span class="line">      image: jcdemo/flaskapp</span><br><span class="line">      ports:</span><br><span class="line">        - containerPort: 5000</span><br></pre></td></tr></tbody></table></figure>

<p>比如这个 YAML 文件，我们定义了一个叫 containers 的 List 对象，每个子项都由 name、image、ports 组成，每个 ports 都有一个 key 为 containerPort 的 Map 组成，同样的，我们可以转成如下 JSON 格式文件：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">{</span><br><span class="line">    "apiVersion": "v1",</span><br><span class="line">    "kind": "Pod",</span><br><span class="line">    "metadata": {</span><br><span class="line">        "name": "kube100-site",</span><br><span class="line">        "labels": {</span><br><span class="line">            "app": "web"</span><br><span class="line">        }</span><br><span class="line">    },</span><br><span class="line">    "spec": {</span><br><span class="line">        "containers": [{</span><br><span class="line">            "name": "front-end",</span><br><span class="line">            "image": "nginx",</span><br><span class="line">            "ports": [{</span><br><span class="line">                "containerPort": 80</span><br><span class="line">            }]</span><br><span class="line">        }, {</span><br><span class="line">            "name": "flaskapp-demo",</span><br><span class="line">            "image": "jcdemo/flaskapp",</span><br><span class="line">            "ports": [{</span><br><span class="line">                "containerPort": 5000</span><br><span class="line">            }]</span><br><span class="line">        }]</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>是不是觉得用 JSON 格式的话文件明显比 YAML 文件更复杂了呢？</p>
<h3 id="使用-YAML-创建-Pod"><a href="#使用-YAML-创建-Pod" class="headerlink" title="使用 YAML 创建 Pod"></a>使用 YAML 创建 Pod</h3><p>现在我们已经对 YAML 文件有了大概的了解了，我相信你应该没有之前那么懵逼了吧？我们还是来使用 YAML 文件来创建一个 Deployment 吧。</p>
<p>API 说明： <a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.10/">https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.10/</a></p>
<h4 id="创建-Pod"><a href="#创建-Pod" class="headerlink" title="创建 Pod"></a>创建 Pod</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">---</span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Pod</span><br><span class="line">metadata:</span><br><span class="line">  name: kube100-site</span><br><span class="line">  labels:</span><br><span class="line">    app: web</span><br><span class="line">spec:</span><br><span class="line">  containers:</span><br><span class="line">    - name: front-end</span><br><span class="line">      image: nginx</span><br><span class="line">      ports:</span><br><span class="line">        - containerPort: 80</span><br><span class="line">    - name: flaskapp-demo</span><br><span class="line">      image: jcdemo/flaskapp</span><br><span class="line">      ports:</span><br><span class="line">        - containerPort: 5000</span><br></pre></td></tr></tbody></table></figure>

<p>这是我们上面定义的一个普通的 POD 文件，我们先来简单分析下文件内容：</p>
<ul>
<li>apiVersion，这里它的值是 v1，这个版本号需要根据我们安装的 kubernetes 版本和资源类型进行变化的，记住不是写死的</li>
<li> kind，这里我们创建的是一个 Pod，当然根据你的实际情况，这里资源类型可以是 Deployment、Job、Ingress、Service 等待。</li>
<li>metadata：包含了我们定义的 Pod 的一些 meta 信息，比如名称、namespace、标签等等信息。</li>
<li>spec：包括一些 containers，storage，volumes，或者其他 Kubernetes 需要知道的参数，以及诸如是否在容器失败时重新启动容器的属性。你可以在特定 Kubernetes API 找到完整的 Kubernetes Pod 的属性。</li>
</ul>
<p>让我们来看一个典型的容器的定义：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">…spec:</span><br><span class="line">  containers:</span><br><span class="line">    - name: front-end</span><br><span class="line">      image: nginx</span><br><span class="line">      ports:</span><br><span class="line">        - containerPort: 80</span><br><span class="line">…</span><br></pre></td></tr></tbody></table></figure>

<p>在这个例子中，这是一个简单的最小定义：一个名字（front-end），基于 nginx 的镜像，以及容器 将会监听的一个端口（80）。在这些当中，只有名字是非常需要的，你也可以指定一个更加复杂的属性，例如在容器启动时运行的命令，应使用的参数，工作目录，或每次实例化时是否拉取映像的新副本。以下是一些容器可选的设置属性：</p>
<ul>
<li>name</li>
<li>image</li>
<li>command</li>
<li>args</li>
<li>workingDir</li>
<li>ports</li>
<li>env</li>
<li>resources</li>
<li>volumeMounts</li>
<li>livenessProbe</li>
<li>readinessProbe</li>
<li>livecycle</li>
<li>terminationMessagePath</li>
<li>imagePullPolicy</li>
<li>securityContext</li>
<li>stdin</li>
<li>stdinOnce</li>
<li>tty</li>
</ul>
<p>明白了 POD 的定义后，我们将上面创建 POD 的 YAML 文件保存成 pod.yaml，然后使用 <code>kubectl</code> 创建 POD：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">$ kubectl create -f pod.yaml</span><br><span class="line">pod "kube100-site" created</span><br></pre></td></tr></tbody></table></figure>

<p>然后我们就可以使用我们前面比较熟悉的 kubectl 命令来查看 POD 的状态了：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">$ kubectl get pods</span><br><span class="line">NAME           READY     STATUS    RESTARTS   AGE</span><br><span class="line">kube100-site   2/2       Running   0          1m</span><br></pre></td></tr></tbody></table></figure>

<p>到这里我们的 POD 就创建成功了，如果你在创建过程中有任何问题，我们同样可以使用前面的 kubectl describe 进行排查。我们先删除上面创建的 POD：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">$ kubectl delete -f pod.yaml</span><br><span class="line">pod "kube100-site" deleted</span><br></pre></td></tr></tbody></table></figure>

<h4 id="创建-Deployment"><a href="#创建-Deployment" class="headerlink" title="创建 Deployment"></a>创建 Deployment</h4><p>现在我们可以来创建一个真正的 Deployment。在上面的例子中，我们只是单纯的创建了一个 POD 实例，但是如果这个 POD 出现了故障的话，我们的服务也就挂掉了，所以 kubernetes 提供了一个 <code>Deployment</code> 的概念，可以让 kubernetes 去管理一组 POD 的副本，也就是副本集，这样就可以保证一定数量的副本一直可用的，不会因为一个 POD 挂掉导致整个服务挂掉。我们可以这样定义一个 Deployment：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">---</span><br><span class="line">apiVersion: apps/v1</span><br><span class="line">kind: Deployment</span><br><span class="line">metadata:</span><br><span class="line">  name: kube100-site</span><br><span class="line">spec:</span><br><span class="line">  replicas: 2</span><br></pre></td></tr></tbody></table></figure>

<p>注意这里的 <code>apiVersion</code> 对应的值是 <code>apps/v1</code>，当然 kind 要指定为 Deployment，因为这就是我们需要的，然后我们可以指定一些 meta 信息，比如名字，或者标签之类的。最后，最重要的是 <code>spec</code> 配置选项，这里我们定义需要两个副本，当然还有很多可以设置的属性，比如一个 Pod 在没有任何错误变成准备的情况下必须达到的最小秒数。 我们可以在 <a href="https://kubernetes.io/docs/api-reference/extensions/v1beta1/definitions/#_v1beta1_deployment">Kubernetes v1beta1 API</a> 参考中找到一个完整的 Depolyment 可指定的参数列表。 现在我们来定义一个完整的 Deployment 的 YAML 文件：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">---</span><br><span class="line">apiVersion: apps/v1</span><br><span class="line">kind: Deployment</span><br><span class="line">metadata:</span><br><span class="line">  name: kube100-site</span><br><span class="line">spec:</span><br><span class="line">  replicas: 2</span><br><span class="line">  selector:</span><br><span class="line">    matchLabels:</span><br><span class="line">      app: web</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        app: web</span><br><span class="line">    spec:</span><br><span class="line">      containers:</span><br><span class="line">        - name: front-end</span><br><span class="line">          image: nginx</span><br><span class="line">          ports:</span><br><span class="line">            - containerPort: 80</span><br><span class="line">        - name: flaskapp-demo</span><br><span class="line">          image: jcdemo/flaskapp</span><br><span class="line">          ports:</span><br><span class="line">            - containerPort: 5000</span><br></pre></td></tr></tbody></table></figure>

<p>看起来是不是和我们上面的 pod.yaml 很类似啊，注意其中的 template，其实就是对 POD 对象的定义。将上面的 YAML 文件保存为 deployment.yaml，然后创建 Deployment：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">$ kubectl create -f deployment.yaml</span><br><span class="line">deployment "kube100-site" created</span><br></pre></td></tr></tbody></table></figure>

<p>同样的，想要查看它的状态，我们可以检查 Deployment 的列表：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">$ kubectl get deployments</span><br><span class="line">NAME           DESIRED   CURRENT   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">kube100-site   2         2         2            2           2m</span><br></pre></td></tr></tbody></table></figure>

<p>我们可以看到所有的 Pods 都已经正常运行了。</p>
<p>到这里我们就完成了使用 YAML 文件创建 Kubernetes Deployment 的过程，在了解了 YAML 文件的基础后，定义 YAML 文件其实已经很简单了，最主要的是要根据实际情况去定义 YAML 文件，所以查阅 Kubernetes 文档很重要。</p>
<blockquote>
<p>可以使用 <a href="http://www.yamllint.com/%E5%8E%BB%E6%A3%80%E9%AA%8C">http://www.yamllint.com/ 去检验</a> YAML 文件的合法性。</p>
</blockquote>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>k8s</tag>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>[原创] pyzabbix 接口使用</title>
    <url>/2023/08/24/pyzabbix%E6%8E%A5%E5%8F%A3%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<p>pyzabbix 接口使用</p>
<p>pyzabbix github 地址： <a href="https://github.com/lukecyca/pyzabbix">https://github.com/lukecyca/pyzabbix</a></p>
<p>zabbix 官方接口： <a href="https://www.zabbix.com/documentation/4.0/zh/manual/api">https://www.zabbix.com/documentation/4.0/zh/manual/api</a></p>
<hr>
<h2 id="模块说明：直接调用zabbix的函数集合"><a href="#模块说明：直接调用zabbix的函数集合" class="headerlink" title="模块说明：直接调用zabbix的函数集合"></a>模块说明：直接调用 zabbix 的函数集合</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">from pyzabbix import ZabbixAPI</span><br><span class="line">from zabbixApi.api.constP import ZABBIX_SERVER, USER, PASSWD</span><br><span class="line">"""</span><br><span class="line">模块说明：直接调用zabbix的函数集合</span><br><span class="line">"""</span><br><span class="line"></span><br><span class="line">def loginZabbix():</span><br><span class="line">    '''登陆zabbix，返回登陆对象'''</span><br><span class="line">    user = ZabbixAPI(ZABBIX_SERVER)</span><br><span class="line">    user.login(USER, PASSWD)</span><br><span class="line">    return user</span><br><span class="line"></span><br><span class="line">def hostAllInfo(user, host_name):</span><br><span class="line">    '''根据主机名，返回该主机的所有信息'''</span><br><span class="line">    host = user.host.get(search={"name": host_name}, output="extend")</span><br><span class="line">    if len(host) != 0:</span><br><span class="line">        return host</span><br><span class="line">    else:</span><br><span class="line">        return None</span><br><span class="line"></span><br><span class="line">def hostIdInfo(user, host_name):</span><br><span class="line">    '''根据主机名，返回该主机id'''</span><br><span class="line">    host_id = user.host.get(search={"name": host_name}, output=["hostid"])</span><br><span class="line">    if len(host_id) != 0:</span><br><span class="line">        return host_id[0]["hostid"]</span><br><span class="line">    else:</span><br><span class="line">        return None</span><br><span class="line"></span><br><span class="line">def hostItemAllInfo(user, host_name, item):</span><br><span class="line">    '''根据主机名和监控key，返回该监控项的数据'''</span><br><span class="line">    item =  user.item.get(host=host_name, search={"key_": item}, output="extend")</span><br><span class="line">    if len(item) != 0:</span><br><span class="line">        return item</span><br><span class="line">    else:</span><br><span class="line">        return None</span><br><span class="line"></span><br><span class="line">def hostItemIdInfo(user, host_name, item):</span><br><span class="line">    '''根据主机名和监控key，返回该监控项的数据'''</span><br><span class="line">    item_id = user.item.get(host=host_name, search={"key_": item}, output=["itemid"])</span><br><span class="line">    if len(item_id) != 0:</span><br><span class="line">        return item_id[0]["itemid"]</span><br><span class="line">    else:</span><br><span class="line">        return None</span><br><span class="line"></span><br><span class="line">def timeProblemAllInfo(user, time_from):</span><br><span class="line">    '''获取某个时间点后面产生的告警问题'''</span><br><span class="line">    # problem.get的time_from用的是"YY-MM-DD HH:MM:SS"</span><br><span class="line">    return user.problem.get(time_from=time_from, output="extend")</span><br><span class="line"></span><br><span class="line">def hostTimeProblemAllInfo(user, host_name, time_from):</span><br><span class="line">    '''查找某主机在某个时间点后面产生点告警问题'''</span><br><span class="line">    # problem.get的time_from用的是"YY-MM-DD HH:MM:SS"</span><br><span class="line">    host_id = hostIdInfo(user, host_name)</span><br><span class="line">    if host_id != None:</span><br><span class="line">        return user.problem.get(hostids=host_id, time_from=time_from, output="extend")</span><br><span class="line">    else:</span><br><span class="line">        return "该主机已被删除"</span><br><span class="line"></span><br><span class="line">def timeAlertAllInfo(user, time_from):</span><br><span class="line">    '''获取某个时间点后面产生点告警问题'''</span><br><span class="line">    alert = user.alert.get(time_from=time_from, output="extend")</span><br><span class="line">    if len(alert) != 0:</span><br><span class="line">        return alert</span><br><span class="line">    else:</span><br><span class="line">        return None</span><br><span class="line"></span><br><span class="line">def hostTimeAlertAllInfo(user, host_name, time_from):</span><br><span class="line">    '''查找某主机在某个时间点后面产生点告警问题'''</span><br><span class="line">    # alert.get的time_from用的是时间戳（1586012065）格式！！！</span><br><span class="line">    host_id = hostIdInfo(user, host_name)</span><br><span class="line">    if host_id != None:</span><br><span class="line">        return user.alert.get(hostids=host_id, time_from=time_from, output="extend")</span><br><span class="line">    else:</span><br><span class="line">        return "该主机已不存在"</span><br><span class="line"></span><br><span class="line">def hostTimeHistoryInfo(user, host_name, item, time_from):</span><br><span class="line">    '''获取某主机点某个监控项在某个时间点后产生点历史数据'''</span><br><span class="line">    # history.get的time_from用的是时间戳（1586012065）格式！！！</span><br><span class="line">    host_id = hostIdInfo(user, host_name)</span><br><span class="line">    item_id = hostItemIdInfo(user, host_name, item)</span><br><span class="line">    if host_id != None and item_id != None:</span><br><span class="line">        return user.history.get(hostids=host_id, itemids=item_id, time_from=time_from)</span><br><span class="line">    else:</span><br><span class="line">        return "该主机活监控项不存在"</span><br></pre></td></tr></tbody></table></figure>

<h2 id="实例-：打印监控信息并生成xls表格"><a href="#实例-：打印监控信息并生成xls表格" class="headerlink" title="实例 ：打印监控信息并生成xls表格"></a>实例 ：打印监控信息并生成 xls 表格</h2><p>我研究了一下，自己写了一个用 pyzabbix 打印监控信息并生成 xls 表格的功能。现丑了，随便看看吧～</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">#!/usr/bin/env python3</span><br><span class="line"># Author:         思想就是武器 blog.zealot.top</span><br><span class="line"># Mail:           18976787@qq.com</span><br><span class="line">from pyzabbix import ZabbixAPI</span><br><span class="line">import sys</span><br><span class="line">import json</span><br><span class="line">from re import compile,IGNORECASE</span><br><span class="line">from openpyxl import Workbook</span><br><span class="line">ZABBIX_SERVER = "http://x.x.x.x/zabbix"</span><br><span class="line">USER = ""</span><br><span class="line">PASSWORD = ""</span><br><span class="line">#URL="163网址：http://www.163.com"</span><br><span class="line">#URL1=URL.split('：',1)[1]</span><br><span class="line"></span><br><span class="line">def login(ZABBIX_SERVER,USER,PASSWORD):</span><br><span class="line">  zapi = ZabbixAPI(ZABBIX_SERVER)</span><br><span class="line">  zapi.login(USER,PASSWORD)</span><br><span class="line">  return zapi</span><br><span class="line"></span><br><span class="line">def itemid(auth,host_ip,item):</span><br><span class="line">    item = auth.item.get(host=host_ip, search={"key_": item}, output="extend")</span><br><span class="line">    if len(item) != 0:</span><br><span class="line">        print (item)</span><br><span class="line">        return item[0]["lastvalue"]</span><br><span class="line">    else:</span><br><span class="line">        return None</span><br><span class="line"></span><br><span class="line">def host_names(auth,host_ip):</span><br><span class="line">    item = auth.item.get(host=host_ip, search={"key_": "system.uname"}, output="extend")</span><br><span class="line">    item1 = auth.item.get(host=host_ip, search={"key_": "system.sw.os"}, output="extend")</span><br><span class="line">    try:</span><br><span class="line">        if len(item) != 0:</span><br><span class="line">            host_name = item[0]["lastvalue"].split(' ')[1]</span><br><span class="line">            host_type = item[0]["lastvalue"].split(' ')[0]</span><br><span class="line">            if host_type == "Linux":</span><br><span class="line">                host_ver = item1[0]["lastvalue"]</span><br><span class="line">            else:</span><br><span class="line">                host_ver = item[0]["lastvalue"].split(' ',maxsplit=3)[3]</span><br><span class="line">            return host_name,host_type,host_ver</span><br><span class="line">        else:</span><br><span class="line">            return None</span><br><span class="line">    except IndexError:</span><br><span class="line">            print (host_ip,"未获取到主机名")</span><br><span class="line">            return "","",""</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def disk(auth,host_ip):</span><br><span class="line">    b=0</span><br><span class="line">    a=auth.item.get(host=host_ip, search={"key_": "vfs.fs.size"}, output="extend")</span><br><span class="line">    c=["C","D","E","F","G","H","I","J","K","/","/home","/data","/boot","/var"]</span><br><span class="line">    d=0</span><br><span class="line">    e=0</span><br><span class="line">    for x in a:</span><br><span class="line">#        print (x["key_"])</span><br><span class="line">        for y in c:</span><br><span class="line">            if x["key_"]=="vfs.fs.size["+y+":,total]":</span><br><span class="line">                b=b+int(x["lastvalue"])</span><br><span class="line">            elif x["key_"]=="vfs.fs.size["+y+",total]":</span><br><span class="line">                b=b+int(x["lastvalue"])</span><br><span class="line">            elif x["key_"]=="vfs.fs.size["+y+":,free]":</span><br><span class="line">                d=d+int(x["lastvalue"])</span><br><span class="line">            elif x["key_"]=="vfs.fs.size["+y+",free]":</span><br><span class="line">                d=d+int(x["lastvalue"])</span><br><span class="line">            elif x["key_"]=="vfs.fs.size["+y+":,used]":</span><br><span class="line">                e=e+int(x["lastvalue"])</span><br><span class="line">            elif x["key_"]=="vfs.fs.size["+y+",used]":</span><br><span class="line">                e=e+int(x["lastvalue"])</span><br><span class="line">    return b,d,e</span><br><span class="line"></span><br><span class="line">def bytes_to_human(n):</span><br><span class="line">    symbols = ('KB','MB','GB','TB','PB','EB','ZB','YB')</span><br><span class="line">    prefix = {</span><br><span class="line">    }</span><br><span class="line">    for i,s in enumerate(symbols):</span><br><span class="line">        prefix[s] = 1 &lt;&lt; (i + 1) * 10</span><br><span class="line">    for s in reversed(symbols):</span><br><span class="line">        if n &gt;= prefix[s]:</span><br><span class="line">            value = float(n) / prefix[s]</span><br><span class="line">            return '%.1f%s' % (value,s)</span><br><span class="line">    return '%sB' % n</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">       </span><br><span class="line">auth = login(ZABBIX_SERVER,USER,PASSWORD)</span><br><span class="line">wb = Workbook()</span><br><span class="line">sheet = wb.active</span><br><span class="line">sheet.cell(1,1).value = "IP地址"</span><br><span class="line">sheet.cell(1,2).value = "主机名"</span><br><span class="line">sheet.cell(1,3).value = "操作系统"</span><br><span class="line">sheet.cell(1,4).value = "操作系统版本"</span><br><span class="line">sheet.cell(1,5).value = "cpu核心数"</span><br><span class="line">sheet.cell(1,6).value = "CPU使用率"</span><br><span class="line">sheet.cell(1,7).value = "总内存"</span><br><span class="line">sheet.cell(1,8).value = "内存使用率"</span><br><span class="line">sheet.cell(1,9).value = "总硬盘容量"</span><br><span class="line">sheet.cell(1,10).value = "硬盘剩余容量"</span><br><span class="line">sheet.cell(1,11).value = "硬盘使用容量"</span><br><span class="line">sheet.cell(1,12).value = "硬盘使用率"</span><br><span class="line">sheet.cell(1,13).value = "备注"</span><br><span class="line">with open('./desktop/checkip.txt','r') as f:</span><br><span class="line">   for index,value in enumerate(f.readlines()):</span><br><span class="line">#    host_list = auth.host.get(output="extend")   #获取主机信息</span><br><span class="line">#    print (auth.hostgroup.get())    #获取zabbix分组信息 </span><br><span class="line">#    print (auth.apiinfo.version())   #获取ZABBIX API版本</span><br><span class="line">#    print (auth.host.get(search={"host": "10.160.1.50"}, output=["hostid"])) # 返回主机名为10.160.1.50的HOSTID号</span><br><span class="line">        host_ip = value.strip()</span><br><span class="line">        print (host_ip)</span><br><span class="line">        cpu_num = itemid(auth,host_ip,"system.cpu.num")</span><br><span class="line">        print (cpu_num)</span><br><span class="line">        if cpu_num == None or cpu_num == "0":</span><br><span class="line">            sheet.cell(index+2,1).value = host_ip</span><br><span class="line">            if cpu_num == None:</span><br><span class="line">                sheet.cell(index+2,13).value = "ZABBIX中没有这台主机"</span><br><span class="line">            else:</span><br><span class="line">                sheet.cell(index+2,13).value = "ZABBIX中已禁用或这台主机已离线"</span><br><span class="line">            continue</span><br><span class="line">        print (cpu_num)</span><br><span class="line">        memory=itemid(auth,host_ip,"vm.memory.size[total]")</span><br><span class="line">        print (memory)</span><br><span class="line">        memusd=itemid(auth,host_ip,"vm.memory.size[pused]")</span><br><span class="line">        print (memusd)</span><br><span class="line">        cpu_use=itemid(auth,host_ip,"system.cpu.util")</span><br><span class="line">        host_name=itemid(auth,host_ip,"system.uname")</span><br><span class="line">        totile,shenyu,used=disk(auth,host_ip)</span><br><span class="line">        host_name,host_type,host_ver = host_names(auth,host_ip)</span><br><span class="line">        if totile == 0:</span><br><span class="line">            z = 0</span><br><span class="line">        else:</span><br><span class="line">            z = '%.2f'%(used/totile)</span><br><span class="line">            sheet.cell(index+2,1).value = host_ip</span><br><span class="line">            sheet.cell(index+2,5).value = cpu_num + "核"</span><br><span class="line">            sheet.cell(index+2,6).value = cpu_use + "%"</span><br><span class="line">            sheet.cell(index+2,7).value = bytes_to_human(int(memory))</span><br><span class="line">            sheet.cell(index+2,8).value = memusd</span><br><span class="line">            sheet.cell(index+2,9).value = bytes_to_human(totile)</span><br><span class="line">            sheet.cell(index+2,10).value = bytes_to_human(shenyu)</span><br><span class="line">            sheet.cell(index+2,11).value = bytes_to_human(used)</span><br><span class="line">            sheet.cell(index+2,12).value = z</span><br><span class="line">            sheet.cell(index+2,2).value = host_name</span><br><span class="line">            sheet.cell(index+2,3).value = host_type</span><br><span class="line">            sheet.cell(index+2,4).value = host_ver</span><br><span class="line">#        except IndexError:</span><br><span class="line">#            print (host_ip,"未获取到主机名")</span><br><span class="line">#        print (host_ip + "  CPU：" + str(cpu_num) + "核" + "   CPU使用率：" + str(cpu_use) + "%    总内存：" + str(bytes_to_human(int(memory))) + "    硬盘大小：" + str(bytes_to_human(totile)) + "    剩余空间：" + str(bytes_to_human(used)))</span><br><span class="line">wb.save('./desktop/zabbix.xlsx')</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>生成的 xls 文件效果<br><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-24_202308241627778.png"></li>
</ul>
]]></content>
      <categories>
        <category>原创</category>
      </categories>
      <tags>
        <tag>zabbix</tag>
      </tags>
  </entry>
  <entry>
    <title>wireshark 捕获 / 过滤指定 ip 地址数据包</title>
    <url>/2023/08/24/wireshark%E6%8D%95%E8%8E%B7-%E8%BF%87%E6%BB%A4%E6%8C%87%E5%AE%9Aip%E5%9C%B0%E5%9D%80%E6%95%B0%E6%8D%AE%E5%8C%85/</url>
    <content><![CDATA[<h1 id="wireshark捕获-过滤指定ip地址数据包"><a href="#wireshark捕获-过滤指定ip地址数据包" class="headerlink" title="wireshark捕获/过滤指定ip地址数据包"></a>wireshark 捕获 / 过滤指定 ip 地址数据包</h1><p>使用捕获过滤或显示过滤，wireshark 可以仅捕获 / 显示经过指定 ip 的数据包，即某个 ip 收到或发出的所有数据包。</p>
<hr>
<h2 id="显示过滤：wireshark过滤经过指定ip的数据包"><a href="#显示过滤：wireshark过滤经过指定ip的数据包" class="headerlink" title="显示过滤：wireshark过滤经过指定ip的数据包"></a><strong>显示过滤：wireshark 过滤经过指定 ip 的数据包</strong></h2><p>显示过滤可以完整的复现测试时的网络环境，但会产生较大的捕获文件和内存占用。</p>
<blockquote>
<p>ip.addr ==192.168.1.1 // 显示所有目标或源地址是 192.168.1.1 的数据包<br>ip.dst==192.168.1.1 // 显示目标地址是 192.168.1.1 的数据包<br>ip.src ==192.168.1.1 // 显示源地址是 192.168.1.1 的数据包<br>eth.addr== 80:f6:2e:ce:3f:00 &nbsp; // 根据 MAC 地址过滤。<br>ip.src==192.168.0.0/16 &nbsp; // 网络过滤，过滤一个网段</p>
</blockquote>
<h2 id="捕获过滤：wireshark捕获经过指定ip的数据包"><a href="#捕获过滤：wireshark捕获经过指定ip的数据包" class="headerlink" title="捕获过滤：wireshark捕获经过指定ip的数据包"></a><strong>捕获过滤：wireshark 捕获经过指定 ip 的数据包</strong></h2><p>捕捉过滤抓包前在 capture option 中设置，仅捕获符合条件的包，可以避免产生较大的捕获文件和内存占用，但不能完整的复现测试时的网络环境。</p>
<blockquote>
<p>host 192.168.1.1 &nbsp; &nbsp; &nbsp;// 抓取 192.168.1.1 收到和发出的所有数据包<br>src host 192.168.1.1 &nbsp; &nbsp;// 源地址，192.168.1.1 发出的所有数据包<br>dst host 192.168.1.1 &nbsp; &nbsp;// 目标地址，192.168.1.1 收到的所有数据包<br>src host hostname &nbsp; &nbsp;// 根据主机名过滤<br>ether &nbsp;host 80:05:09:03:E4:35 &nbsp; &nbsp;// 根据 MAC 地址过滤<br>net 192.168.1 &nbsp; &nbsp;// 网络过滤，过滤整个网段<br>src net 192.168<br>dst net 192</p>
</blockquote>
<h2 id="使用“非-且-或”建立组合过滤条件可以获得更精确的捕获"><a href="#使用“非-且-或”建立组合过滤条件可以获得更精确的捕获" class="headerlink" title="使用“非/且/或”建立组合过滤条件可以获得更精确的捕获"></a><strong>使用 “非 / 且 / 或” 建立组合过滤条件可以获得更精确的捕获</strong></h2><blockquote>
<p>非: ! or “not” (去掉双引号)<br>且: &amp;&amp; or “and”<br>或: || or “or”</p>
</blockquote>
<h2 id="wirershark过滤指定ip收发数据包示例："><a href="#wirershark过滤指定ip收发数据包示例：" class="headerlink" title="wirershark过滤指定ip收发数据包示例："></a><strong>wirershark 过滤指定 ip 收发数据包示例：</strong></h2><h3 id="抓取所有目的地址是192-168-1-2-或192-168-1-3-端口是80-的TCP-数据"><a href="#抓取所有目的地址是192-168-1-2-或192-168-1-3-端口是80-的TCP-数据" class="headerlink" title="抓取所有目的地址是192.168.1.2 或192.168.1.3 端口是80 的TCP 数据"></a>抓取所有目的地址是 192.168.1.2 或 192.168.1.3 端口是 80 的 TCP 数据</h3><blockquote>
<p>(tcp port 80) and ((dst host 192.168.1.2) or (dst host<br>192.168.1.3)) &nbsp; // 捕获过滤<br>tcp.port==80&amp;&amp;(ip.dst==192.168.1.2||ip.dst==192.168.1.3) &nbsp; &nbsp;// 显示过滤</p>
</blockquote>
<h3 id="抓取所有目标MAC-地址是80-05-09-03-E4-35-的ICMP-数据"><a href="#抓取所有目标MAC-地址是80-05-09-03-E4-35-的ICMP-数据" class="headerlink" title="抓取所有目标MAC 地址是80:05:09:03:E4:35 的ICMP 数据"></a>抓取所有目标 MAC 地址是 80:05:09:03:E4:35 的 ICMP 数据</h3><blockquote>
<p>(icmp) and ((ether dst host 80:05:09:03:E4:35))<br>icmp &amp;&amp; eth.dst==80:05:09:03:E4:35</p>
</blockquote>
<h3 id="抓取所有目的网络是192-168，但目的主机不是192-168-1-2-的TCP-数据"><a href="#抓取所有目的网络是192-168，但目的主机不是192-168-1-2-的TCP-数据" class="headerlink" title="抓取所有目的网络是192.168，但目的主机不是192.168.1.2 的TCP 数据"></a>抓取所有目的网络是 192.168，但目的主机不是 192.168.1.2 的 TCP 数据</h3><blockquote>
<p>(tcp) and ((dst net 192.168) and (not dst host 192.168.1.2))<br>tcp&amp;&amp;ip.src==192.168.0.0/16&amp;&amp;!(ip.src==192.168.1.2)</p>
</blockquote>
<h3 id="捕获主机192-168-1-1-和主机192-168-1-2-或192-168-1-3的通信"><a href="#捕获主机192-168-1-1-和主机192-168-1-2-或192-168-1-3的通信" class="headerlink" title="捕获主机192.168.1.1 和主机192.168.1.2 或192.168.1.3的通信"></a>捕获主机 192.168.1.1 和主机 192.168.1.2 或 192.168.1.3 的通信</h3><blockquote>
<p>host 192.168.1.1 and &nbsp;(192.168.1.2 or 192.168.1.3 )<br>ip.addr==192.168.1.1&amp;&amp;(ip.addr==192.168.1.2||ip.addr==192.168.1.3)</p>
</blockquote>
<h3 id="获取主机192-168-1-1除了和主机192-168-1-2之外所有主机通信的数据包"><a href="#获取主机192-168-1-1除了和主机192-168-1-2之外所有主机通信的数据包" class="headerlink" title="获取主机192.168.1.1除了和主机192.168.1.2之外所有主机通信的数据包"></a>获取主机 192.168.1.1 除了和主机 192.168.1.2 之外所有主机通信的数据包</h3><blockquote>
<p>host 192.168.1.1 and ! 192.168.1.2<br>ip.addr==192.168.1.1&amp;&amp;!ip.addr==192.168.1.2</p>
</blockquote>
<h3 id="获取主机192-168-1-1接收或发出的telnet包，telnet使用tcp-23端口"><a href="#获取主机192-168-1-1接收或发出的telnet包，telnet使用tcp-23端口" class="headerlink" title="获取主机192.168.1.1接收或发出的telnet包，telnet使用tcp 23端口"></a>获取主机 192.168.1.1 接收或发出的 telnet 包，telnet 使用 tcp 23 端口</h3><blockquote>
<p>tcp port 23 and host 192.168.1.1<br>tcp.port==23&amp;&amp;ip.addr==192.168.1.1</p>
</blockquote>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
  </entry>
  <entry>
    <title>通过 F12 查看密码</title>
    <url>/2023/08/23/%E9%80%9A%E8%BF%87F12%E6%9F%A5%E7%9C%8B%E5%AF%86%E7%A0%81/</url>
    <content><![CDATA[<p>通过 F12 查看自己输入的密码</p>
<hr>
<h2 id="未登陆已输入帐号密码查看"><a href="#未登陆已输入帐号密码查看" class="headerlink" title="未登陆已输入帐号密码查看"></a>未登陆已输入帐号密码查看</h2><ul>
<li>查看登陆密码<br><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-23_202308231157822.png"></li>
<li>将 <code>type="password"</code> 修改成 <code>type="text"</code>, 就可以看到输入的密码了。</li>
<li><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-23_202308231159232.png"></li>
</ul>
<h2 id="已登陆后密码查看"><a href="#已登陆后密码查看" class="headerlink" title="已登陆后密码查看"></a>已登陆后密码查看</h2><ul>
<li>查看登陆密码</li>
</ul>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-23_202308231150836.png"></p>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
  </entry>
  <entry>
    <title>Zabbix 容量规则</title>
    <url>/2023/08/22/Zabbix-%E5%AE%B9%E9%87%8F%E8%A7%84%E5%88%99/</url>
    <content><![CDATA[<p>作为开源的企业级监控平台，Zabbix 有着先天的优势：</p>
<p>1、长期由官方提供免费的技术支持服务（亦可购买收费的<a href="https://link.jianshu.com/?t=http://www.zabbix.com/services">高级服务</a>）</p>
<p>2、完全开源（如有自主的技术力量，可扩展性非常强）</p>
<p>3、可实现全栈级监控（从底层硬件、网络、存储，到虚拟化层、操作系统、中间件，以及最上层的应用和 API）</p>
<p>本文主要探讨 Zabbix 部署前的容量规划。</p>
<hr>
<h1 id="CPU"><a href="#CPU" class="headerlink" title="CPU"></a>CPU</h1><p>根据监控参数及选择的数据库引擎，Zabbix，特别是 Zabbix 数据库，可能需要大量的 CPU 资源，</p>
<h1 id="内存和磁盘"><a href="#内存和磁盘" class="headerlink" title="内存和磁盘"></a>内存和磁盘</h1><p>Zabbix 主要是基于 Linux 系统的软件，因此不需要占用过多的内存和磁盘。刚开始使用 Zabbix，建议 128MB 物理内存和 256MB 可用磁盘空间。</p>
<p>然而，具体需要的内存大小和磁盘空间要根据主机数量和监控参数而定。如果你计划对监控的参数进行长期保存，你应该考虑至少在数据库中预留几个 GB 的空间，以用来保留历史数据。 每个 Zabbix 的守护进程需要与数据库服务器建立多个连接。分配给连接的内存数量，取决于数据库引擎的配置。</p>
<p>当然，你使用的内存越多，你的数据库和 Zabbix 工作得越快！</p>
<h1 id="数据库容量"><a href="#数据库容量" class="headerlink" title="数据库容量"></a>数据库容量</h1><p>Zabbix 配置数据需要保留固定的磁盘空间，而且这个空间不会随着 Zabbix 系统的扩容不会增长太多。</p>
<p>Zabbix 数据库容量主要依赖于下列这些参数，这些参数也决定了存储历史数据所需要的空间：</p>
<h2 id="每秒处理值的数量（Number-of-processed-values-per-second）"><a href="#每秒处理值的数量（Number-of-processed-values-per-second）" class="headerlink" title="每秒处理值的数量（Number of processed values per second）"></a>每秒处理值的数量（Number of processed values per second）</h2><p>这个参数是指每秒种 Zabbix server 收到的新值数量的平均数。比如，如果我们有 3000 个监控项（item），监控周期是 60s，经计算所得，每秒处理值的数量为 3000/60 = 50.</p>
<p>这意味着每秒钟有 50 个新值写入 Zabbix 数据库。</p>
<h2 id="历史（History）数据的回收清理设置（Housekeeper）"><a href="#历史（History）数据的回收清理设置（Housekeeper）" class="headerlink" title="历史（History）数据的回收清理设置（Housekeeper）"></a>历史（History）数据的回收清理设置（Housekeeper）</h2><p>Zabbix 会在一个固定周期内保存收到的值。正常情况下保留数周或者数月。每一个新收到的值会占用一定数量的磁盘空间以存放数据和索引。</p>
<p>所以，如果我们每秒钟收到 50 个值，且希望保留 30 天的历史数据，值的总数将大约在 (30*24*3600)* 50 = 129,600,000，即大约 130M 个值。</p>
<p>根据所使用的数据库引擎，以及收到值的类型【浮点（floats），整型（integers），字符串（strings），日志文件（log files）等】，单个值的磁盘使用量从 40 字节到数百个字节不等。一般而言，数值型（Numeric）的监控项占用大约 90 字节。 按之前的例子，这意味着 130M 个值需要占用 130M * 90 bytes = 10.9GB 的磁盘空间。</p>
<p>文本（text）/ 日志（log）类型的监控项值的大小无法准确地预测，但你可以按每个值大约 500 字节来计算。</p>
<h2 id="趋势（Trends）数据的回收清理设置（Housekeeper）"><a href="#趋势（Trends）数据的回收清理设置（Housekeeper）" class="headerlink" title="趋势（Trends）数据的回收清理设置（Housekeeper）"></a>趋势（Trends）数据的回收清理设置（Housekeeper）</h2><p>Zabbix 为 trends 表中的每个监控项的值，保留一组数据：一个小时的最大值／最小值／平均值／数量。这些数据用于趋势图表和历史图表的展现。用户无法自定义这一小时的保留周期。</p>
<p>根据数据库的类型，Zabbix 数据库需要为每组值总共占用约 90 字节的空间。 如果你需要保留趋势数据 5 年，那么 3000 个监控项值，每年需要 3000*24*365* 90 = 2.2GB 的空间，即 5 年需要 11GB 的空间。</p>
<h2 id="事件（Events）数据的回收清理设置（Housekeeper）"><a href="#事件（Events）数据的回收清理设置（Housekeeper）" class="headerlink" title="事件（Events）数据的回收清理设置（Housekeeper）"></a>事件（Events）数据的回收清理设置（Housekeeper）</h2><p>每个 Zabbix 事件需要大约 170 字节的磁盘空间。很难估计 Zabbix 每天生成的事件数量。最糟糕的情况下，我们可能需要假设 Zabbix 每秒会生成一个事件。</p>
<p>这意味着，如果我们需要保留 3 年的事件，需要 3*365*24*3600* 170 = 15GB 的磁盘空间。</p>
<p>下表列出了用于计算 Zabbix 系统所需磁盘空间的计算公式：</p>
<p>范围 所需磁盘空间的计算公式 (单位：字节)</p>
<p>Zabbix 配置文件 固定大小。一般 10MB 或更少。</p>
<p>历史（History） days*(items/refresh rate)*24*3600*bytes</p>
<p>items : 监控项数量</p>
<p>days : 保留历史数据的天数</p>
<p>refresh rate : 监控项平均轮询时间</p>
<p>bytes : 保留单个值所需要占用的字节数，依赖于数据库引擎，一般大约 90 字节。</p>
<p>趋势（Trends） days*(items/3600)*24*3600*bytes</p>
<p>items : 监控项数量</p>
<p>days : 保留趋势数据的天数</p>
<p>bytes : 保留单个趋势数据所需要占用的字节数，依赖于数据库引擎，一般大约 90 字节。</p>
<p>事件（Events） days*events*24*3600*bytes</p>
<p>events : 每秒事件数。最糟糕的情况下，每秒一（1）个事件。</p>
<p>days : 保留事件数据的天数</p>
<p>bytes : 保留单个事件所需要占用的字节数，依赖于数据库引擎，一般大约 90 字节。</p>
<p>根据现实环境中使用的 MySQL 后端数据库的统计，数值型（Numeric）监控项的值平均占用约 90 个字节，事件（Events）平均占用约 170 个字节。</p>
<p>因此，所需要的磁盘总空间按下列方法计算：</p>
<p>配置（Configuration） + 历史（History） + 趋势（Trends） + 事件（Events）</p>
<p>安装完 Zabbix，磁盘空间不会立即被分配。数据库大小根据回收清理（housekeeper）设置，在某些时间点增长或停止增长。</p>
<p>根据上述公式，可计算出 Zabbix 需要使用的空间。同时，考虑到后续的扩容，建议预留至少 20% 的冗余量。</p>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>zabbix</tag>
      </tags>
  </entry>
  <entry>
    <title>zabbix 监控预处理</title>
    <url>/2023/08/17/zabbix%E7%9B%91%E6%8E%A7%E9%A2%84%E5%A4%84%E7%90%86/</url>
    <content><![CDATA[<p>监控结果预处理可以用来定义和根据相应的规则来对采集到的数据进行转换，通过预处理管理进程来管理这些预处理，而具体的步骤则是由多个 work 进程来完成。</p>
<p><strong>Preprocessing</strong> 页可以对接收到的数据定义转换规则，可以允许一个或多个规则同时存在，之后才将转换后的数据写入到数据库。如果有多个规则存在，则会按照定义的顺序来依次进行转换。<strong>Preprocessing</strong> 可以运行在 zabbix server 或 zabbix proxy 上。</p>
<p>为什么需要 <strong>Preprocessing</strong>，因为很多情况下我们获取到的数据是各种各样的格式，并不适合计算、合并或优化存储空间。</p>
<h2 id="Preprocessing支持类型"><a href="#Preprocessing支持类型" class="headerlink" title="Preprocessing支持类型"></a><a href="#Preprocessing%E6%94%AF%E6%8C%81%E7%B1%BB%E5%9E%8B"></a><a href="#Preprocessing%E6%94%AF%E6%8C%81%E7%B1%BB%E5%9E%8B" title="Preprocessing支持类型"></a>Preprocessing 支持类型</h2><p>从 3.4 版本开始支持 preprocessing，原生只支持几种情况：</p>
<ul>
<li>自定义倍数</li>
<li>数值型转换（布尔、hex 等）</li>
<li>简单改变（计算每秒变化等）</li>
</ul>
<p>如果需要更复杂的转换，则需要自己通过其他工具（python、php）等来处理数据，而后来 preprocessing 也支持了更多的方法：</p>
<ul>
<li>正则表达式</li>
<li>简单裁剪</li>
<li> XPath 和 JSONPath 支持</li>
</ul>
<p>随着时间推移，在 4.2 版本中逐步增加了更多的扩展</p>
<ul>
<li>JavaScript 和 Prometheus 支持</li>
<li> Validation - 用于验证数据是否符合某些规则</li>
<li> Throttling - 用于丢弃无用数据</li>
<li>自定义错误处理 - 为了更好的可读性</li>
</ul>
<p>zabbix4.4 中同样进行了非常多的改进，带来了完全不一样的体验：</p>
<ul>
<li>通过 XPath 来处理 XML 数据</li>
<li>通过 JSONPath 来抽取和分割 JSON 数据</li>
<li>扩展自定义错误处理</li>
<li> CSV 转换到 JSON</li>
<li> 将 WMI,JMX 和 ODBC 数据收集到 JSON 数组，然后通过 JSONPath 进行处理</li>
</ul>
<h2 id="监控值处理"><a href="#监控值处理" class="headerlink" title="监控值处理"></a><a href="#%E7%9B%91%E6%8E%A7%E5%80%BC%E5%A4%84%E7%90%86"></a><a href="#%E7%9B%91%E6%8E%A7%E5%80%BC%E5%A4%84%E7%90%86" title="监控值处理"></a>监控值处理</h2><p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171532203.png"></p>
<p>上面这个图示简单的描述了监控值处理过程中对应的步骤，包括进程、对象和动作等，并没有展示条件直接变化、错误处理。</p>
<ul>
<li>开始于从源获取原始数据，这时数据只包含 ID，时间戳和值</li>
<li>不管使用何种类型的数据，对于主动和被动模式或 trapper 等方式都是一样。它只改变数据的格式，原始数据被验证，并从配置缓存里获取 item 配置</li>
<li>基于 socket 的 IPC 机制用来将数据从数据收集者传输给预处理管理进程。这时数据收集者不用等待预处理的响应，而是继续持续的去收集数据</li>
<li>数据预处理时包含预处理步骤的执行和依赖监控项的运行</li>
<li>预处理管理的本地缓存数据被刷新到历史缓存</li>
<li>这时数据流会暂停直到下一次历史缓存的刷新</li>
<li>同步进程开始于数据规范化存储在数据库中。数据规范化包括转换需要的格式，包括截取文本格式的数据为数据库表字段中可以支持的格式，在做完数据规范化后数据才会被发送到 database 中</li>
<li>收集的数据也被处理 - 检查触发器，如果数据不可用则会修改 item 的状态</li>
</ul>
<h2 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a><a href="#Examples"></a><a href="#Examples" title="Examples"></a>Examples</h2><p>主要介绍几种我在实际工作中常用的几种，其他的可以参考官方文档详细说明。</p>
<h3 id="Text-preprocessing"><a href="#Text-preprocessing" class="headerlink" title="Text preprocessing"></a><a href="#Text-preprocessing"></a><a href="#Text-preprocessing" title="Text preprocessing"></a>Text preprocessing</h3><p>使用正则表达式获取数据，然后从文本格式传输最后存储为 number 格式。</p>
<p>这里使用正则表达式的时候包含两个参数：</p>
<ul>
<li>pattern - 具体的表达式</li>
<li> output - 输出格式模板，\N（N=1…9）转义会被替换成第 N 个匹配组，比如 \0 则会被整个匹配文本所替代</li>
</ul>
<p>比如一段日志文本里记录的温度 Temperature: 50C，作为监控需要提取其中的数字 50 作为最后的存储，于是这里则可以使用正则表达</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171532308.png"></p>
<p>如果想将字符格式的值转换成数字型，可以通过 trim 来清除文本中的字符。</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171533642.png"></p>
<h3 id="JSON数据抽取"><a href="#JSON数据抽取" class="headerlink" title="JSON数据抽取"></a><a href="#JSON%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96"></a><a href="#JSON%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96" title="JSON数据抽取"></a>JSON 数据抽取</h3><p>某个程序将进程所占用的资源情况全部记录在了日志当中，格式为</p>
<blockquote>
<p>{“proc”:”TEST”,”cpu”:3.6,”mem”:5559784,”vir_mem”:14303532,”net_in”:2,”net_out”:0}</p>
</blockquote>
<p>zabbix 通过监控得到了这个 json 串，但是对于数据的存放、数据的二次分析以及触发器的配置都是很不方便的，所以需要将 json 串的里每个值都拆开作为单独的多个监控，这里就可以用到 JSONPath 和 dependent item。</p>
<p>新建一个测试监控项，插入一条数据</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171534766.png"></p>
<p>新建 dependent item</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171534363.png"></p>
<p>在 preprocessing tab 页，增加 JSONPath 处理<br><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171534589.png"></p>
<p>生成的结果<br><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171535430.png"></p>
<p>这样对于每次监控的 JSON 结果获取到以后，则会自动生成多个拆分出来的单项监控，便于后期处理。</p>
<p>jsonpath 的详细用法参考：<a href="https://www.zabbix.com/documentation/current/manual/appendix/preprocessing/jsonpath_functionality">https://www.zabbix.com/documentation/current/manual/appendix/preprocessing/jsonpath_functionality</a></p>
<h3 id="自定义倍数"><a href="#自定义倍数" class="headerlink" title="自定义倍数"></a><a href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%80%8D%E6%95%B0"></a><a href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%80%8D%E6%95%B0" title="自定义倍数"></a>自定义倍数</h3><p><strong>custom multipliers</strong> 很好理解，就是简单的乘以一个指定的倍数即可，常见的场景是在转换 bytes 到 bits，或者得到的内存单位是 KB，转换成 B 存储到 zabbix 里等。</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171535273.png"></p>
<h3 id="throttling"><a href="#throttling" class="headerlink" title="throttling"></a><a href="#throttling"></a><a href="#throttling" title="throttling"></a>throttling</h3><p>这个功能主要是为了提高性能和节省数据库存储空间，特别是在一些高频的场景当中，对于那些监控得到的数据基本都是重复的情况下非常有用。</p>
<p>举个例子，当监控 zabbix agent 心跳网络时，我们需要比较高的频次，然后绝大部分情况下获取到的数据都是一模一样，通过 throttling，则可以将重复的数据都过滤掉，只存储监控值产生变化的情况。</p>
<p>throttling 也分为两种模式：</p>
<ul>
<li>丢弃未变化 —— 如果监控值没有变化则丢弃掉，这个数据也不会保存到数据库，zabbix server 也不知道获取到过这个值。触发器也不会生成相应的告警和恢复，因为触发器只会基于存储在数据库里的值起作用。trends 也是基于存储在数据库里的值建立，每个 item 只能有一个 throttling 选项</li>
<li>丢弃未变化（心跳模式）—— 在指定时间范围内丢弃没有变化的监控值，达到心跳时间时会仍然存储数据到数据库</li>
</ul>
<p>下面用图示来表达，监控项不断的进行采集，获取到的数据分布为 0 和 1</p>
<p>未使用 throttling 的情况：所有的数据都被存储到数据库里</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171536043.png"></p>
<p>使用 throttling，重复的数据则被丢掉</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171536650.png"></p>
<p>增加心跳选项，可以避免 nodata 类型的触发器漏报</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171536207.png"></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a><a href="#%E6%80%BB%E7%BB%93"></a><a href="#%E6%80%BB%E7%BB%93" title="总结"></a>总结</h2><p>通常有四大便利是你要考虑使用预处理的原因</p>
<ul>
<li>自动化<ol>
<li>通过主监控项进行 LLD</li>
<li> 通过预处理发现指标</li>
</ol>
</li>
<li>提升<ol>
<li>丢弃重复数据</li>
<li> 4.4 版本上直接在 proxy 层做预处理工作</li>
</ol>
</li>
<li>自定义化<ol>
<li>数据验证</li>
<li>自定义高级预处理规则</li>
</ol>
</li>
<li>转换<ol>
<li>转换数据</li>
<li>通过预处理进行数据合并和计算</li>
</ol>
</li>
</ul>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>zabbix</tag>
      </tags>
  </entry>
  <entry>
    <title>zabbix 数据库表结构解析</title>
    <url>/2023/08/17/abbix%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E7%BB%93%E6%9E%84%E8%A7%A3%E6%9E%90/</url>
    <content><![CDATA[<p>zabbix 数据库表结构解析</p>
<hr>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171428859.png"></p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171428233.png"></p>
<h2 id="监控表结构详解"><a href="#监控表结构详解" class="headerlink" title="监控表结构详解"></a>监控表结构详解</h2><p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171428279.png"></p>
<ul>
<li>hosts，存储被监控的机器的信息，表结构如下：<br><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171429367.png"><br><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171430221.png"><br><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171431316.png"></li>
<li>items<br><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171431188.png"><br><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171431750.png"><br><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171432910.png"></li>
</ul>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171432119.png"><br><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171432434.png"><br><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171432521.png"></p>
<ul>
<li>hosts_templates，存储机器和模版或者模版和模版之间的关系<br><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171433768.png"><blockquote>
<p>由于模版和机器都存储在 hosts 表中，所以 **hosts_templates 和 hosts 之间可以 hostid 关联也可以通过 templateid 关联。<br>interface，存储了所有设备的 ip 和端口的数据。（由于 hosts 表中不仅保存了设备信息还保存了模版信息，所以统计实际监控的设备，此表更加准确）</p>
</blockquote>
</li>
</ul>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171433245.png"></p>
<h2 id="数据存储表结构详解"><a href="#数据存储表结构详解" class="headerlink" title="数据存储表结构详解"></a>数据存储表结构详解</h2><p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171434776.png"></p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171434790.png"></p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171434020.png"></p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171435787.png"></p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171435128.png"></p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171435012.png"></p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171435848.png"></p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171436547.png"></p>
<ul>
<li>将 clock 转化为人性化时间：</li>
</ul>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171436888.png"></p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171436012.png"></p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171436238.png"></p>
<h2 id="报警相关表结构详解"><a href="#报警相关表结构详解" class="headerlink" title="报警相关表结构详解"></a>报警相关表结构详解</h2><p> <img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171437106.png"></p>
<ul>
<li>triggers</li>
</ul>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171437617.png"><br><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171438103.png"><br><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171438860.png"><br><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171438559.png"><br><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171438737.png"><br><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171439887.png"><br><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171439774.png"></p>
<p>附 functions 表结构：</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171439216.png"></p>
<ul>
<li>events</li>
</ul>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171440589.png"></p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171440702.png"></p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171440904.png"></p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171440268.png"></p>
<p>例子：</p>
<p>1. 找出某台主机的所有 items , 含有某个 key_的 item , 统计 items 总个数</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">SELECT \* FROM HOSTS WHERE hostid=10157;  </span><br><span class="line">SELECT \* FROM items WHERE hostid=10157 AND key\_ LIKE '%agent%';  </span><br><span class="line">SELECT COUNT(\*) FROM items;  </span><br><span class="line">```  </span><br><span class="line">2\. 找出触发trigger次数最多的事件，并按trigger 降序排列。  </span><br></pre></td></tr></tbody></table></figure>
<p>SELECT a.description, COUNT(*) cnt FROM TRIGGERS a , EVENTS b<br>WHERE a.triggerid=b.objectid ORDER BY cnt DESC ;  </p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">3\. 从item记录各找出一个value类型为整形，浮点型的key\_。  </span><br><span class="line">统计这两个key\_ 存储在history或者history\_uint 某一个时间段（比如2017/06/12）  </span><br><span class="line">的最大值，最小值，平均值，然后与 trends 或者 trends\_unint 中相应时间段做对比  </span><br><span class="line">```  </span><br><span class="line">整型  </span><br><span class="line">SELECT \* FROM items WHERE value\_type=3 AND hostid=10157 LIMIT 1;  </span><br><span class="line">SELECT \* FROM history\_uint a,trends\_uint b WHERE a.clock=b.clock AND a.itemid=b.itemid LIMIT 1;  </span><br><span class="line">  </span><br><span class="line">浮点型  </span><br><span class="line">SELECT \* FROM items WHERE value\_type=0 AND hostid=10157 LIMIT 1;  </span><br><span class="line">SELECT \* FROM history a,trends b WHERE a.clock=b.clock AND a.itemid=b.itemid LIMIT 1;</span><br></pre></td></tr></tbody></table></figure>
<p>4. 统计 Zabbix Dashboard 中 triggers 总数的来源。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">SELECT&nbsp;&nbsp;count(\*)</span><br><span class="line">&nbsp;&nbsp;FROM TRIGGERS</span><br><span class="line">WHERE triggerid IN</span><br><span class="line">&nbsp; &nbsp; (SELECT triggerid</span><br><span class="line">&nbsp; &nbsp;&nbsp;FROM functions</span><br><span class="line">&nbsp; &nbsp;&nbsp;WHERE itemid IN (SELECT itemid</span><br><span class="line">&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;FROM items</span><br><span class="line">&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;WHERE hostid IN (SELECT hostid FROM interface)</span><br><span class="line">&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;AND key\_ NOT LIKE '%#%'</span><br><span class="line">&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;AND key\_ NOT LIKE '%discovery%'</span><br><span class="line">&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;AND STATUS != 1));</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>说明：<br>通过之前对 zabbix 表结构的学习，我们知道，表 triggers 和 functions 相关联，而 functions 和 items 相关联，那么，要对 triggers 做统计，就需要从这三张表下手。<br>关键就是对 items 表中的数据做出筛选，key_中带 “#” 和 “discovery” 的和 status=1（不可用状态）都要排除，这样就统计出来了。</p>
</blockquote>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>zabbix</tag>
      </tags>
  </entry>
  <entry>
    <title>重置 VCSA 的 SSO Administrator 密码</title>
    <url>/2023/08/17/%E7%BD%AEVCSA%E7%9A%84SSO-Administrator%E5%AF%86%E7%A0%81/</url>
    <content><![CDATA[<p>重置 VCSA 的 SSO Administrator 密码的流程如下：</p>
<ul>
<li>登录到 VCSA 的命令行界面，输入 “shell” 命令激活 bash shell，然后来到如下位置确认缺省的额 Domain 名字是什么：<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">/usr/lib/vmware-vmafd/bin/vmafd-cli get-domain-name --server-name localhost</span><br></pre></td></tr></tbody></table></figure></li>
</ul>
<p>结果如图所示：<br><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171413084.png"></p>
<ul>
<li>得到了缺省的 SSO Domain 讯息后，执行如下命令启动 vdcadmintool 命令准备恢复密码：<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">/usr/lib/vmware-vmdir/bin/vdcadmintool</span><br></pre></td></tr></tbody></table></figure></li>
</ul>
<p>如下图所示：&nbsp;<br><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171414392.png"></p>
<ul>
<li>在这个界面里输入字母 “3” 重置 Account password，然后，输入 UPN 讯息 “&nbsp;<a href="mailto:administrator@vsphere.local">administrator@vsphere.local</a>”，然后可以看到系统生成了新的密码，记录下这个新密码，之后登录到 Web Client 界面里修改即可；</li>
</ul>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
  </entry>
  <entry>
    <title>无 DNS 部署 VMware vCenter Server Appliance (vcsa)</title>
    <url>/2023/08/17/%E6%97%A0DNS%E9%83%A8%E7%BD%B2VMware-vCenter-Server-Appliance-vcsa/</url>
    <content><![CDATA[<p>具体操作步骤如下：</p>
<ul>
<li><p>在 VCSA 安装的第一阶段时，如果我们配置 VC 的网络参数为：</p>
<blockquote>
<p>ip 地址: 192.169.1.22<br>子网掩码：255.255.255.0<br>网关：192.169.1.254<br>系统名称：vcsa01</p>
</blockquote>
</li>
<li><p>在第一阶段完成之后，先不要急着进行操作安装的第二阶段。</p>
<ul>
<li>我们需要先通过控制台访问 VCSA，然后：<br>按 <code>ctrl+alt+f1</code> 进入命令行界面<br>输入 <code>shell</code><br>执行：<code>cp /etc/dnsmasq.conf /etc/dnsmasq-bak.conf</code> <figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">vi /etc/dnsmasq.conf 将no-hosts改为addn-hosts=/etc/dns_add_hosts(此文件和路径由自己定义)</span><br></pre></td></tr></tbody></table></figure>
将 <code>listen-address=127.0.0.1</code> 改为 <code>listen-address=192.169.1.22</code><br>然后保存 wq 退出；<br>vi /etc/dns_add_hosts 添加解析记录：<br><code>192.169.1.22 vcsa01</code>(如果使用主机名来安装 VCSA 添加此记录)<br><code>192.169.1.22 192.169.1.22</code>(如果使用 ip 地址来安装 VCSA 添加此记录)<br>如图：</li>
</ul>
</li>
</ul>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2022-10-30_20221030093434.png"></p>
<p>然后保存 wq 退出，重启 dnsmasq 服务。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">systemctl restart dnsmasq </span><br></pre></td></tr></tbody></table></figure>

<p>通过 <code>nslookup vcsa01</code> 和 <code>nslookup 192.169.1.22</code> 来测试正向和反向解析，测试解析成功，如图：</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2022-10-30_20221030093502.png"></p>
<p>解析的操作完成之后，我们再继续进行 VCSA 的第二步安装，这时就不会出现报错了。</p>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>vmware</tag>
      </tags>
  </entry>
  <entry>
    <title>MYSQL 等保整改配置</title>
    <url>/2023/08/17/MYSQL%E7%AD%89%E4%BF%9D%E6%95%B4%E6%94%B9%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<p>等保要求 mysql 整改项</p>
<hr>
<h2 id="配置密码复杂度"><a href="#配置密码复杂度" class="headerlink" title="配置密码复杂度"></a>配置密码复杂度</h2><ul>
<li><p>看当前复杂度配置  </p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">show variables like ‘validate\_password%’;  </span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171130707.png"></p>
</li>
<li><p>安装插件</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">install plugin validate\_password SONAME 'validate\_password.so';</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171132264.png"><br><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171131196.png"></p>
</li>
<li><p>创建简单密码测试<br><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171134195.png"></p>
</li>
</ul>
<h2 id="应启用登录失败处理功能"><a href="#应启用登录失败处理功能" class="headerlink" title="应启用登录失败处理功能"></a>应启用登录失败处理功能</h2><p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171136738.png"></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">install plugin CONNECTION\_CONTROL soname 'connection\_control.so';</span><br><span class="line">install plugin CONNECTION\_CONTROL\_FAILED\_LOGIN\_ATTEMPTS soname 'connection\_control.so';</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171135192.png"><br>connection_control_min_connection_delay 上面的意思是失败连接超过 3 次，连接延时 1 秒</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171135759.png">  </p>
<ul>
<li>修改配置文件，连接测试</li>
</ul>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171136522.png"><br><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171137566.png"></p>
<p>可以看出失败超过 5 次，连接延时 6 秒  （会影响所有 ip 连接）  </p>
<h2 id="启用ssl连接"><a href="#启用ssl连接" class="headerlink" title="启用ssl连接"></a>启用 ssl 连接</h2><ul>
<li><p>生成证书  </p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">/data/db/mysql-5.7.26/bin/mysql\_ssl\_rsa\_setup -d /data/conf/mysqldb/</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171138044.png"></p>
</li>
<li><p>修改权限  </p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">cd /data/conf/mysqldb &amp;&amp; chown mysql.mysql ./\*</span><br></pre></td></tr></tbody></table></figure></li>
<li><p>修改配置文件 /data/conf/mysqldb/my.cnf ，添加证书</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">ssl-ca=/data/conf/mysqldb/ca.pem  </span><br><span class="line">ssl-cert=/data/conf/mysqldb/server-cert.pem  </span><br><span class="line">ssl-key=/data/conf/mysqldb/server-key.pem</span><br></pre></td></tr></tbody></table></figure>
<p>重启数据库，连接<br><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171140321.png"></p>
</li>
<li><p>启用 ssl 证书后抓包测试<br>配置用户：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">grant all privileges on *.* to 用户@‘%’ identified by ‘密码’ require ssl;  </span><br><span class="line">flush privileges;</span><br></pre></td></tr></tbody></table></figure>
<p>（测试发现使用 root 去连接，抓包也是加密过的，并没配置要求使用 ssl）<br><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171141466.png"></p>
</li>
<li><p>连接抓包测试：  </p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">tcpdump -s 0 -l -w - dst 172.xx.xx.xx and port 3306 |strings  </span><br></pre></td></tr></tbody></table></figure>
<p>可以看出已经加密<br><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171141477.png"><br>另一台没启用 ssl 的则能把语句抓取出来<br><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171142694.png"></p>
</li>
<li><p>只授权库权限给某个用户  </p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">grant 权限 on 数据库.\* to ‘用户名’@‘登录主机’ INDENTIFIED BY ‘用户密码’;  </span><br><span class="line">修改root用户</span><br><span class="line">update user set user='xxxx' where user='root';</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>配置超时：</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">set global interactive_timeout=1800;</span><br><span class="line">set global wait_timeout=1800;</span><br></pre></td></tr></tbody></table></figure>]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title>MYSQL 常用监控指标及监控方法</title>
    <url>/2023/08/17/MYSQL%E5%B8%B8%E7%94%A8%E7%9B%91%E6%8E%A7%E6%8C%87%E6%A0%87%E5%8F%8A%E7%9B%91%E6%8E%A7%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<p>【MySQL】常用监控指标及监控方法</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp;<strong>对之前生产中使用过的 MySQL 数据库监控指标做个小结。</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><strong>指标分类</strong></td>
<td><strong>指标名称</strong></td>
<td><strong>指标说明</strong></td>
</tr>
<tr>
<td><strong>性能类指标</strong></td>
<td> QPS</td>
<td> 数据库每秒处理的请求数量</td>
</tr>
<tr>
<td> TPS</td>
<td> 数据库每秒处理的事务数量</td>
<td></td>
</tr>
<tr>
<td>并发数</td>
<td>数据库实例当前并行处理的会话数量</td>
<td></td>
</tr>
<tr>
<td>连接数</td>
<td>连接到数据库会话的数量</td>
<td></td>
</tr>
<tr>
<td>缓存命中率</td>
<td>查询命中缓存的比例</td>
<td></td>
</tr>
<tr>
<td><strong>高可用指标</strong></td>
<td>可用性</td>
<td>数据库是否可以正常对外服务</td>
</tr>
<tr>
<td>阻塞</td>
<td>当前阻塞的会话数</td>
<td></td>
</tr>
<tr>
<td>慢查询</td>
<td>慢查询情况</td>
<td></td>
</tr>
<tr>
<td>主从延迟</td>
<td>主从延迟时间</td>
<td></td>
</tr>
<tr>
<td>主从状态</td>
<td>主从链路是否正常</td>
<td></td>
</tr>
<tr>
<td>死锁</td>
<td>查看死锁信息</td>
<td></td>
</tr>
</tbody></table>
<h2 id="【QPS指标】"><a href="#【QPS指标】" class="headerlink" title="【QPS指标】"></a>【QPS 指标】</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">show global status where variable\_name in ('Queries', 'uptime');</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p><strong>QPS = (Queries2 -Queries1) / (uptime2 -&nbsp;uptime1)</strong></p>
</blockquote>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171107268.png"></p>
<h2 id="【TPS指标】"><a href="#【TPS指标】" class="headerlink" title="【TPS指标】"></a>【TPS 指标】</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">show global status where variable\_name in ('com\_insert' , 'com\_delete' , 'com\_update', 'uptime');</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p><strong>事务数 TC</strong> ≈’com_insert’ ,&nbsp;‘com_delete’ ,&nbsp;‘com_update’<br><strong>TPS</strong>&nbsp;&nbsp;≈&nbsp;(TC2 -TC1) / (uptime2 -&nbsp;uptime1)</p>
</blockquote>
<h2 id="【并发数】"><a href="#【并发数】" class="headerlink" title="【并发数】"></a>【并发数】</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">show global status like '**Threads\_running**';</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171108313.png"></p>
<h2 id="【连接数】"><a href="#【连接数】" class="headerlink" title="【连接数】"></a>【连接数】</h2><ul>
<li>当前连接数 <figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">show global status like 'Threads\_connected';</span><br></pre></td></tr></tbody></table></figure></li>
<li>最大连接数 <figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">show global status like 'max\_connections';</span><br></pre></td></tr></tbody></table></figure>
生产中配置报警阈值：Threads_connected /&nbsp;&nbsp;max_connections &gt; 0.8</li>
</ul>
<h2 id="【缓存命中率】"><a href="#【缓存命中率】" class="headerlink" title="【缓存命中率】"></a>【缓存命中率】</h2><ul>
<li>innodb 缓冲池查询总数 <figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">show global status like 'innodb\_buffer\_pool\_read\_requests';</span><br></pre></td></tr></tbody></table></figure></li>
<li>innodb 从磁盘查询数 <figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">show global status like 'innodb\_buffer\_pool\_reads';</span><br></pre></td></tr></tbody></table></figure>
生产中配置报警阈值：(innodb_buffer_pool_read_requests - innodb_buffer_pool_reads) /innodb_buffer_pool_read_requests&nbsp;&gt; 0.95</li>
</ul>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171110756.png"></p>
<h2 id="【可用性】"><a href="#【可用性】" class="headerlink" title="【可用性】"></a>【可用性】</h2><ul>
<li><p>方法 1：周期性连接数据库并执行&nbsp; <code>select @@version;</code></p>
</li>
<li><p>方法 2：mysqladmin -u 数据库用户名 -p 数据库密码 -h 数据库实例 IP ping<br><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171112168.png"></p>
</li>
</ul>
<h2 id="【阻塞】"><a href="#【阻塞】" class="headerlink" title="【阻塞】"></a>【阻塞】</h2><ul>
<li>MySQL5.7 之前 <figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">select b.trx\_mysql\_thread\_id as '被阻塞线程',  </span><br><span class="line">b.trx\_query as '被阻塞SQL',  </span><br><span class="line">c.trx\_mysql\_thread\_id as '阻塞线程',  </span><br><span class="line">c.trx\_query as '阻塞SQL',  </span><br><span class="line">(unix\_timestamp()-unix\_timestamp(c.trx\_started)) as '阻塞时间'  </span><br><span class="line">from information\_schema.innodb\_lock\_waits a  </span><br><span class="line">join information\_schema.innodb\_trx b on a.requesting\_trx\_id=b.trx\_id  </span><br><span class="line">join information\_schema.innodb\_trx c on a.blocking\_trx\_id=c.trx.id  </span><br><span class="line">where(unix\_timestamp()-unix\_timestamp(c.trx\_started))&gt;阻塞秒数</span><br></pre></td></tr></tbody></table></figure></li>
<li>MySQL5.7 及之后<br>为方便查询阻塞指标，MySQL 将 2 张表 join 构造了一个 view <strong>sys.innodb_lock_waits</strong>，查询语句得以大大简化。<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">select waiting\_pid as '被阻塞线程',  </span><br><span class="line">waiting\_query as '被阻塞SQL',  </span><br><span class="line">blocking\_pid as '阻塞线程',  </span><br><span class="line">blocking\_query as '阻塞SQL',  </span><br><span class="line">wait\_age as '阻塞时间',  </span><br><span class="line">sql\_kill\_blocking\_query as '建议操作'  </span><br><span class="line">from sys.innodb\_lock\_waits  </span><br><span class="line">where(unix\_timestamp()-unix\_timestamp(wait\_started))&gt;阻塞秒数</span><br></pre></td></tr></tbody></table></figure>
<img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171114989.png"></li>
</ul>
<h2 id="【慢查询】"><a href="#【慢查询】" class="headerlink" title="【慢查询】"></a>【慢查询】</h2><ul>
<li><p>方法 1：开启慢查询日志。</p>
<blockquote>
<p>my.inf</p>
</blockquote>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">slow\_query\_log=on  </span><br><span class="line">slow\_query\_log\_file=存放目录  </span><br><span class="line">long\_query\_time=0.1秒  </span><br><span class="line">log\_queries\_not\_using\_indexes=on</span><br></pre></td></tr></tbody></table></figure>
<p>注：只对新建连接生效，实时生效使用命令 set global 上述配置项。</p>
</li>
<li><p>方法 2：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">select \* from information\_schema.'processlist';</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171115111.png"></p>
</li>
</ul>
<h2 id="【主从延迟】"><a href="#【主从延迟】" class="headerlink" title="【主从延迟】"></a>【主从延迟】</h2><ul>
<li>方法 1：<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">show slave status;</span><br></pre></td></tr></tbody></table></figure>
<img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171116728.png"></li>
</ul>
<blockquote>
<p>问题：<br>该方法是基于 relaylog 的时间与 master 的时间差值，并不太准，例如大事务时，主从延时已发生，但 relaylog 还未生成。</p>
</blockquote>
<ul>
<li>方法 2：使用 Percona 的 pt-heartbeat 工具</li>
</ul>
<p>Master 后台周期写入：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">pt-heartbeat --user=Master用户名 --password=Master密码 --h MasterIP --create-table --database 测试库名 --updatte --daemonize --interval=1</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>–create-table&nbsp; &nbsp;在 Master 上创建心跳监控表 heartbeat，通过更新该表知道主从延迟的差距。<br>–daemonize&nbsp; &nbsp;后台执行。<br>–interval=1 默认 1 秒执行一次。</p>
</blockquote>
<p>Slave 后台周期同步读取：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">pt-heartbeat --user=Slave用户名 --password=Slave密码 --h SlaveIP --database 库名 --monitor --daemonize --log /slave\_lag.log</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>–monitor 参数是持续监测并输出结果</p>
</blockquote>
<h2 id="【主从状态】"><a href="#【主从状态】" class="headerlink" title="【主从状态】"></a>【主从状态】</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">show slave status;</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171119501.png"></p>
<h2 id="【死锁】"><a href="#【死锁】" class="headerlink" title="【死锁】"></a>【死锁】</h2><ul>
<li><p>方法 1：查看最近一次死锁信息：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">show engine innodb status;</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171120300.png"></p>
</li>
<li><p>方法 2：使用 Percona 的 pt-deadlock-logger 工具</p>
</li>
</ul>
<ol>
<li>打开死锁打印全局开关 <figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">set global innodb\_print\_all\_deadlocks=on;</span><br></pre></td></tr></tbody></table></figure></li>
<li>使用 pt-deadlock-logger 工具<br>监控到的死锁结果可以输出到文件、指定表、或者界面打印。</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">pt-deadlock-logger h=数据库IP,u=数据库用户名,p=数据库密码</span><br></pre></td></tr></tbody></table></figure>
<p>输出结果非常详尽：</p>
<blockquote>
<p>server: 数据库服务器地址，即死锁产生的数据库主机<br>ts: 检测到死锁的时间戳<br>thread: 产生死锁的线程 id，这个 id 和 show processlist 里面的线程 id 是一致的<br>txn_id:innodb 的事务 ID<br>txd_time: 死锁检查到前，事务执行时间<br>user: 执行 transcation 的用户名<br>hostname: 客户端主机名<br>ip: 客户端 ip<br>db: 发生死锁的 DB 名<br>tbl: 死锁发生的表名<br>idx: 产生死锁的索引名 (在上面这个 demo 里面， 我们直接走的主键，加的记录锁)<br>lock_type: 锁的类型 (记录锁，gap 锁，next-key 锁)<br>lock_mode: 锁模式 (S,X)<br>wait_hold: 是否等着锁释放，一般死锁都是两个 wait<br>victim: 该会话是否做了牺牲，终止了执行<br>query: 造成死锁的 SQL 语句</p>
</blockquote>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-17_202308171124055.png"></p>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title>WSUS 完整部署笔记</title>
    <url>/2023/08/16/WSUS%E5%AE%8C%E6%95%B4%E9%83%A8%E7%BD%B2%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<p>现在各种利用系统漏洞的黑客层出不穷，为了系统安全。都要为服务器打上最新的系统补丁，老板不出钱，不肯买专业软件。只能自己想办法了。下面是我折腾 WSUS 的完全笔记，网上找得到的那些根本不全，只有简单的搭建方法。还是自己动手丰衣丰食。把所有坑都填完了，做个总结。</p>
<h4 id="WSUS服务端搭建"><a href="#WSUS服务端搭建" class="headerlink" title="WSUS服务端搭建"></a>WSUS 服务端搭建</h4><p>这个就跳过了，太简单。在服务器里选择 server 更新服务。一路下一步就好。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_wsus6.jpg"><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_wsus7.jpg"><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_wsus8.jpg"><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_wsus9.jpg"></p>
<h4 id="WSUS服务端配置"><a href="#WSUS服务端配置" class="headerlink" title="WSUS服务端配置"></a>WSUS 服务端配置</h4><h5 id="第一次打开WSUS就出现配置向导，直接下一步。"><a href="#第一次打开WSUS就出现配置向导，直接下一步。" class="headerlink" title="第一次打开WSUS就出现配置向导，直接下一步。"></a>第一次打开 WSUS 就出现配置向导，直接下一步。</h5><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_wsus11.jpg"></p>
<h5 id="进入“加入Mircrosoft-Update改善计划”对话框，这里我我没有选择“是的，我希望加入Mircosoft-Update改善计划”，可以取不选择改善计划。“下一步”。"><a href="#进入“加入Mircrosoft-Update改善计划”对话框，这里我我没有选择“是的，我希望加入Mircosoft-Update改善计划”，可以取不选择改善计划。“下一步”。" class="headerlink" title="进入“加入Mircrosoft Update改善计划”对话框，这里我我没有选择“是的，我希望加入Mircosoft Update改善计划”，可以取不选择改善计划。“下一步”。"></a>进入 “加入 Mircrosoft Update 改善计划” 对话框，这里我我没有选择 “是的，我希望加入 Mircosoft Update 改善计划”，可以取不选择改善计划。“下一步”。</h5><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_wsus12.jpg"></p>
<h5 id="进入“选择”的对话框，这里选择默认即可，如果你的局域网中已经有另一台Wsus服务器存在，那么也可以选择第二项，从向一个Wsus服务器同步更新。不过需要设置好另一个Wsus服务器的服务器名和端口号。设置好后点击“下一步”。"><a href="#进入“选择”的对话框，这里选择默认即可，如果你的局域网中已经有另一台Wsus服务器存在，那么也可以选择第二项，从向一个Wsus服务器同步更新。不过需要设置好另一个Wsus服务器的服务器名和端口号。设置好后点击“下一步”。" class="headerlink" title="进入“选择<上游服务器>”的对话框，这里选择默认即可，如果你的局域网中已经有另一台Wsus服务器存在，那么也可以选择第二项，从向一个Wsus服务器同步更新。不过需要设置好另一个Wsus服务器的服务器名和端口号。设置好后点击“下一步”。"></a>进入 “选择 &lt; 上游服务器&gt;” 的对话框，这里选择默认即可，如果你的局域网中已经有另一台 Wsus 服务器存在，那么也可以选择第二项，从向一个 Wsus 服务器同步更新。不过需要设置好另一个 Wsus 服务器的服务器名和端口号。设置好后点击 “下一步”。</h5><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_wsus13.jpg"></p>
<h5 id="进入“指定代理服务器”对话框，如果你的这台服务器是通过代理上网的，这里就需要设置代理参数了。如果服务器直接可以上网，就无需任何设置，直接“下一步”。"><a href="#进入“指定代理服务器”对话框，如果你的这台服务器是通过代理上网的，这里就需要设置代理参数了。如果服务器直接可以上网，就无需任何设置，直接“下一步”。" class="headerlink" title="进入“指定代理服务器”对话框，如果你的这台服务器是通过代理上网的，这里就需要设置代理参数了。如果服务器直接可以上网，就无需任何设置，直接“下一步”。"></a>进入 “指定代理服务器” 对话框，如果你的这台服务器是通过代理上网的，这里就需要设置代理参数了。如果服务器直接可以上网，就无需任何设置，直接 “下一步”。</h5><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_wsus14.jpg"></p>
<h5 id="进入“连接到上游服务器”的对话框，这里可以点击“开始连接”测试跟上游服务器是否连通，并下载一些信息，连接的时间会比较长。等了几分钟终于下载成功，“下一步”。"><a href="#进入“连接到上游服务器”的对话框，这里可以点击“开始连接”测试跟上游服务器是否连通，并下载一些信息，连接的时间会比较长。等了几分钟终于下载成功，“下一步”。" class="headerlink" title="进入“连接到上游服务器”的对话框，这里可以点击“开始连接”测试跟上游服务器是否连通，并下载一些信息，连接的时间会比较长。等了几分钟终于下载成功，“下一步”。"></a>进入 “连接到上游服务器” 的对话框，这里可以点击 “开始连接” 测试跟上游服务器是否连通，并下载一些信息，连接的时间会比较长。等了几分钟终于下载成功，“下一步”。</h5><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_wsus15.jpg"></p>
<h5 id="进入“选择语言”对话框，选择更新下载的语言，这里可以根据你服务器和客户机操作系统的语言种类，选择是“简体中文”或者“繁体中文”。并点击下一步。"><a href="#进入“选择语言”对话框，选择更新下载的语言，这里可以根据你服务器和客户机操作系统的语言种类，选择是“简体中文”或者“繁体中文”。并点击下一步。" class="headerlink" title="进入“选择语言”对话框，选择更新下载的语言，这里可以根据你服务器和客户机操作系统的语言种类，选择是“简体中文”或者“繁体中文”。并点击下一步。"></a>进入 “选择语言” 对话框，选择更新下载的语言，这里可以根据你服务器和客户机操作系统的语言种类，选择是 “简体中文” 或者 “繁体中文”。并点击下一步。</h5><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_wsus16.png"></p>
<h5 id="进入“选择产品”对话框，选择要更新系统。"><a href="#进入“选择产品”对话框，选择要更新系统。" class="headerlink" title="进入“选择产品”对话框，选择要更新系统。"></a>进入 “选择产品” 对话框，选择要更新系统。</h5><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_wsus17.png"></p>
<h5 id="进入“选择分类”对话框，选择要更新的内容。"><a href="#进入“选择分类”对话框，选择要更新的内容。" class="headerlink" title="进入“选择分类”对话框，选择要更新的内容。"></a>进入 “选择分类” 对话框，选择要更新的内容。</h5><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_wsus18.png"></p>
<h5 id="手同动步，点击左边树形菜单的同步，出现同步界面如下，正中间上面显示的是历史同步记录，下面显示的是同步详细信息。点击右边操作栏的“立即同步”就可以马上与上游更新服务器同步下载更新了"><a href="#手同动步，点击左边树形菜单的同步，出现同步界面如下，正中间上面显示的是历史同步记录，下面显示的是同步详细信息。点击右边操作栏的“立即同步”就可以马上与上游更新服务器同步下载更新了" class="headerlink" title="手同动步，点击左边树形菜单的同步，出现同步界面如下，正中间上面显示的是历史同步记录，下面显示的是同步详细信息。点击右边操作栏的“立即同步”就可以马上与上游更新服务器同步下载更新了."></a>手同动步，点击左边树形菜单的同步，出现同步界面如下，正中间上面显示的是历史同步记录，下面显示的是同步详细信息。点击右边操作栏的 “立即同步” 就可以马上与上游更新服务器同步下载更新了.</h5><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_wsus19.jpg"></p>
<h5 id="开始初始同步，选择下一步。"><a href="#开始初始同步，选择下一步。" class="headerlink" title="开始初始同步，选择下一步。"></a>开始初始同步，选择下一步。</h5><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_wsus20.jpg"></p>
<h5 id="自此服务端配置完成。"><a href="#自此服务端配置完成。" class="headerlink" title="自此服务端配置完成。"></a>自此服务端配置完成。</h5><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_wsus21.jpg"></p>
<h4 id="WSUS客户端配置"><a href="#WSUS客户端配置" class="headerlink" title="WSUS客户端配置"></a>WSUS 客户端配置</h4><h5 id="运行组策略"><a href="#运行组策略" class="headerlink" title="运行组策略"></a>运行组策略</h5><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_wsus22.jpg"></p>
<h5 id="在计算机配置-管理模板-windows组件-windows-update里，配置4个画红框的项目。"><a href="#在计算机配置-管理模板-windows组件-windows-update里，配置4个画红框的项目。" class="headerlink" title="在计算机配置->管理模板->windows组件->windows update里，配置4个画红框的项目。"></a>在计算机配置 -&gt; 管理模板 -&gt;windows 组件 -&gt;windows update 里，配置 4 个画红框的项目。</h5><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_wsus23.jpg"></p>
<h5 id="配置自动更新"><a href="#配置自动更新" class="headerlink" title="配置自动更新"></a>配置自动更新</h5><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_wsus2.jpg"></p>
<h5 id="允许自动更新立即安装"><a href="#允许自动更新立即安装" class="headerlink" title="允许自动更新立即安装"></a>允许自动更新立即安装</h5><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_wsus1.jpg"></p>
<h5 id="指定Intranet-Microsoft更新服务地址，服务器地址就写成上面那台服务的地址，记得一定是http-ip地址-8530这样的写法。"><a href="#指定Intranet-Microsoft更新服务地址，服务器地址就写成上面那台服务的地址，记得一定是http-ip地址-8530这样的写法。" class="headerlink" title="指定Intranet Microsoft更新服务地址，服务器地址就写成上面那台服务的地址，记得一定是http://ip地址:8530这样的写法。"></a>指定 Intranet Microsoft 更新服务地址，服务器地址就写成上面那台服务的地址，记得一定是 <a href="http://ip地址:8530这样的写法。">http://ip 地址：8530 这样的写法。</a></h5><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_wsus3.jpg"></p>
<h5 id="对于有已登陆用户的计算机，计划的自动更新安装不执行重新启动。如果不想打完补丁，服务器自动重启。这个选项一定要勾选上。"><a href="#对于有已登陆用户的计算机，计划的自动更新安装不执行重新启动。如果不想打完补丁，服务器自动重启。这个选项一定要勾选上。" class="headerlink" title="对于有已登陆用户的计算机，计划的自动更新安装不执行重新启动。如果不想打完补丁，服务器自动重启。这个选项一定要勾选上。"></a>对于有已登陆用户的计算机，计划的自动更新安装不执行重新启动。如果不想打完补丁，服务器自动重启。这个选项一定要勾选上。</h5><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_wsus4.jpg"></p>
<h4 id="WSUS问题检查。"><a href="#WSUS问题检查。" class="headerlink" title="WSUS问题检查。"></a>WSUS 问题检查。</h4><p>上面那些基本上都是网上直接都可以找得到的。但客户端无法同步服务端的各种问题，怎么排查，都没有人写得清楚明白。下面这些才是本人填坑经验，按照我的方法检查下来，基本可以解决 99% 的问题。话不多说，还是分二部分。</p>
<h5 id="WSUS客户端问题"><a href="#WSUS客户端问题" class="headerlink" title="WSUS客户端问题"></a>WSUS 客户端问题</h5><p>1. 没有足够的时间让客户端检测出来，使用下面的命令强制刷新 wsus 更新组策略。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">gpupdate /force</span><br><span class="line">wuauctl.exe /detectnow</span><br></pre></td></tr></tbody></table></figure>
<p>2.WSUS SID 存在相同的客户端 ID<br>系统镜像如果是克隆的话，会存在 WSUS SID 相同的情况。这个时候就需要删除注册表项来解决。在运行里输入 <code>regedit</code>, 删除下面路径的注册项。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\WindowsUpdate\AccountDomainSid</span><br><span class="line">HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\WindowsUpdate\PingID</span><br><span class="line">HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\WindowsUpdate\SusClientId</span><br></pre></td></tr></tbody></table></figure>
<p>然后在 <code>CMD</code> 执行，刷新一遍。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">wuauclt /resetauthorization /detectnow</span><br></pre></td></tr></tbody></table></figure>
<p>下面我自己写了一个脚本。同学们可以复制下来，保存成 bat 批处理文件。跑一遍就可以了。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">@echo off</span><br><span class="line">Echo Save the batch file "AU_Clean_SID.cmd". This batch file will do the following:</span><br><span class="line">Echo 1.    Stops the wuauserv service</span><br><span class="line">Echo 2.    Deletes the AccountDomainSid registry key (if it exists)</span><br><span class="line">Echo 3.    Deletes the PingID registry key (if it exists)</span><br><span class="line">Echo 4.    Deletes the SusClientId registry key (if it exists)</span><br><span class="line">Echo 5.    Restarts the wuauserv service</span><br><span class="line">Echo 6.    Resets the Authorization Cookie</span><br><span class="line">Pause</span><br><span class="line">@echo on</span><br><span class="line">gpupdate /force</span><br><span class="line">net stop wuauserv</span><br><span class="line">REG DELETE "HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\WindowsUpdate" /v AccountDomainSid /f</span><br><span class="line">REG DELETE "HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\WindowsUpdate" /v PingID /f</span><br><span class="line">REG DELETE "HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\WindowsUpdate" /v SusClientId /f</span><br><span class="line">rd /s /q C:\Windows\SoftwareDistribution</span><br><span class="line">net start wuauserv</span><br><span class="line">wuauclt /resetauthorization /detectnow</span><br><span class="line">Pause</span><br></pre></td></tr></tbody></table></figure>
<p>3. 策略里更新服务地址错误。<br>查看：计算机配置 -&gt; 管理模板 -&gt; Windows 组件 -&gt; Windows Update-&gt;</p>
<p>通过计算机名称或 IP 地址将以下两项设置为 WSUS 服务器</p>
<p>“设置 Intranet 更新服务以检测更新”</p>
<p>“设置 Intranet 统计服务器”</p>
<p>4. 测试连接 wsus 服务器是否正常。<br>在客户端浏览器中，访问下面的网址。查看是否为空白页。空白页为正常，不是空白页的话，就需要检查一下网络及防火墙设置了。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">http://WSUS服务器地址:8530/Selfupdate/</span><br></pre></td></tr></tbody></table></figure>

<p>5. 将当前组策略导出，查看是否配置正确。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">gpresult /h C:\report.html</span><br></pre></td></tr></tbody></table></figure>

<p>6. 查看 windowsupdate 错误日志。</p>
<p>另外还可以通过查看 <code>c:\windows\windowsupdate.logs</code> 日志文件来发现所在问题。</p>
<h5 id="WSUS服务端"><a href="#WSUS服务端" class="headerlink" title="WSUS服务端"></a>WSUS 服务端</h5><p>WSUS 控制台报错提示连接错误，通过点击重置服务器节点偶尔能恢复正常，重启 WSUS Service 服务也可立即恢复，但连接故障问题仍频繁出现。如下图：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_wsus_1.png"><br>故障根源：IIS 的应用程序池默认的” 专用内存限制” 是 1.8G 内存，且开启了” 快速故障防护”，但 WSUS 更新达到一定规模，默认分配的内存已不满足需要，导致工作进程崩溃，最终触发了 WsusPool 应用程序池关闭。</p>
<p>解决：根据实际需求调大内存即可。</p>
<p>打开 IIS 管理器 - 应用程序池，找到 WsusPool，右侧点击高级设置，在专用内存限制项中将内存改为合理值如 4GB，此操作亦可优化 WSUS 控制台运行体验。或者将内存项改为 0（不限制）、关闭” 快速故障防护”。</p>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_wsus_2.png"></p>
<h4 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h4><p>为了方便配置客户端，自己写了二个配置脚本。如果有需要的同学可以拿去使用。<br>WSUS.reg 注册表文件，需把服务器地址修改为自己的服务器地址。</p>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_wsus_3.png"></p>
<p>链接: <a href="https://pan.baidu.com/s/1RW05r8rqvoFOsHNdtFhTsw">https://pan.baidu.com/s/1RW05r8rqvoFOsHNdtFhTsw</a> 提取码: cxm3</p>
]]></content>
      <categories>
        <category>原创</category>
      </categories>
      <tags>
        <tag>windows</tag>
      </tags>
  </entry>
  <entry>
    <title>RabbitMQ 配置 SSL</title>
    <url>/2023/08/16/RabbitMQ%E9%85%8D%E7%BD%AESSL/</url>
    <content><![CDATA[<h2 id="引言"><a href="#引言" class="headerlink" title="引言"></a><a id="t0"></a><a id="_1"></a>引言</h2><p>主要介绍了如何通过 <a href="https://so.csdn.net/so/search?q=Docker&amp;spm=1001.2101.3001.7020">Docker</a> 安装 RabbitMQ 并配置 SSL；配置成功之后给出了 SpringBoot 和 Python 集成的例子。</p>
<h2 id="生成证书"><a href="#生成证书" class="headerlink" title="生成证书"></a><a id="t1"></a><a id="_3"></a>生成证书</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">git clone https://github.com/Berico-Technologies/CMF-AMQP-Configuration.git</span><br><span class="line">cd CMF-AMQP-Configuration/ssl/</span><br><span class="line"></span><br><span class="line">sed -i "s/valid=365/valid=3650/g" create_client_cert.sh</span><br><span class="line">sed -i "s/valid=365/valid=3650/g" make_server_cert.sh</span><br><span class="line">sed -i "s/valid=365/valid=3650/g" setup_ca.sh</span><br><span class="line">sed -i "s/default_days = 365/default_days = 3650/g" openssl.cnf</span><br><span class="line"></span><br><span class="line"># Greyfoss 为自定义的证书签发机构名称，该脚本会生成一个ca目录，存储证书颁发机构的信息以及签发的证书</span><br><span class="line">sh setup_ca.sh Greyfoss</span><br><span class="line"># 生成服务端公钥和私钥 rabbit-server为生成的密钥前缀  123456为该秘钥自定义的密码</span><br><span class="line">sh make_server_cert.sh rabbit-server 123456</span><br><span class="line"># 生成客户端公钥和私钥 </span><br><span class="line">sh create_client_cert.sh rabbit-client 123456` </span><br></pre></td></tr></tbody></table></figure>

<h2 id="生成Java客户端需要的证书"><a href="#生成Java客户端需要的证书" class="headerlink" title="生成Java客户端需要的证书"></a><a id="t2"></a><a id="Java_16"></a>生成 Java 客户端需要的证书</h2><p>使用 java 的 keytool 工具生成客户端需要的证书。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">keytool -import -alias rabbit-server -file server/rabbit-server.cert.pem -keystore server.keystore -storepass 123456</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>import 将已签名数字证书导入密钥库</li>
<li> alias 指定导入条目的别名</li>
<li> file 指定要导入的证书</li>
<li> keystore 指定密钥库的名称</li>
<li> storepass 指定生成密钥库的密码</li>
</ul>
<p>运行该命令会生成密钥库文件 <code>server.keystore</code>。</p>
<h2 id="安装Rabbitmq配置SSL"><a href="#安装Rabbitmq配置SSL" class="headerlink" title="安装Rabbitmq配置SSL"></a><a id="t3"></a><a id="RabbitmqSSL_36"></a>安装 <a href="https://so.csdn.net/so/search?q=Rabbitmq&amp;spm=1001.2101.3001.7020">Rabbitmq</a> 配置 SSL</h2><p>先启动 rabbitmq 容器</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker run --name rabbitmq --restart=unless-stopped -d -p 5672:5672 -p 15672:15672   rabbitmq:management</span><br></pre></td></tr></tbody></table></figure>

<p>在宿主机上创建以下文件夹：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">mkdir -p /deploy/rabbitmq/conf/ssl</span><br></pre></td></tr></tbody></table></figure>

<p>拷贝容器中的文件到宿主机 <code>/deploy/rabbitmq/conf</code> 目录下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker cp rabbitmq:/etc/rabbitmq/conf.d /deploy/rabbitmq/conf</span><br><span class="line">docker cp rabbitmq:/etc/rabbitmq/enabled_plugins /deploy/rabbitmq/conf</span><br><span class="line">docker cp rabbitmq:/etc/rabbitmq/rabbitmq.conf /deploy/rabbitmq/conf  #这个文件3.8版本才有，3.9版本不存在</span><br></pre></td></tr></tbody></table></figure>

<p>拷贝需要的证书到 <code>/deploy/rabbitmq/conf/ssl</code> 下</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">cp server/rabbit-server.cert.pem /deploy/rabbitmq/conf/ssl</span><br><span class="line">cp server/rabbit-server.key.pem /deploy/rabbitmq/conf/ssl</span><br><span class="line">cp ca/cacert.pem /deploy/rabbitmq/conf/ssl</span><br></pre></td></tr></tbody></table></figure>

<p>编辑 <code>/deploy/rabbitmq/conf/conf.d/rabbitmq.conf</code> 文件，替换为以下内容：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">`# 禁用非tls连接</span><br><span class="line">listeners.tcp = none</span><br><span class="line"># SSL\TLS通信的端口</span><br><span class="line">listeners.ssl.default = 5671</span><br><span class="line"># 管理控制台端口</span><br><span class="line">management.tcp.port = 15672</span><br><span class="line"></span><br><span class="line"># 服务端私钥和证书文件配置</span><br><span class="line">ssl_options.cacertfile = /etc/rabbitmq/ssl/cacert.pem</span><br><span class="line">ssl_options.certfile   = /etc/rabbitmq/ssl/rabbit-server.cert.pem</span><br><span class="line">ssl_options.keyfile    = /etc/rabbitmq/ssl/rabbit-server.key.pem</span><br><span class="line"># 有verify_none和verify_peer两个选项，verify_none表示完全忽略验证证书的结果，verify_peer表示要求验证对方证书</span><br><span class="line">ssl_options.verify     = verify_peer</span><br><span class="line"># 若为true，服务端会向客户端索要证书，若客户端无证书则中止SSL握手；若为false，则客户端没有证书时依然可完成SSL握手</span><br><span class="line">ssl_options.fail_if_no_peer_cert = true</span><br><span class="line"># 指定开启的tls版本</span><br><span class="line">ssl_options.versions.1=tlsv1.2</span><br><span class="line">ssl_options.versions.2=tlsv1.1</span><br><span class="line"># 指定对应的cipher suites</span><br><span class="line">ssl_options.ciphers.1 = ECDHE-ECDSA-AES256-GCM-SHA384</span><br><span class="line">ssl_options.ciphers.2 = ECDHE-RSA-AES256-GCM-SHA384</span><br><span class="line">ssl_options.ciphers.3 = ECDHE-ECDSA-AES256-SHA384</span><br><span class="line">ssl_options.ciphers.4 = ECDHE-RSA-AES256-SHA384</span><br><span class="line">ssl_options.ciphers.5 = ECDHE-ECDSA-DES-CBC3-SHA</span><br><span class="line">ssl_options.ciphers.6 = ECDH-ECDSA-AES256-GCM-SHA384</span><br><span class="line">ssl_options.ciphers.7 = ECDH-RSA-AES256-GCM-SHA384</span><br><span class="line">ssl_options.ciphers.8 = ECDH-ECDSA-AES256-SHA384</span><br><span class="line">ssl_options.ciphers.9 = ECDH-RSA-AES256-SHA384</span><br><span class="line">ssl_options.ciphers.10 = DHE-DSS-AES256-GCM-SHA384</span><br><span class="line">ssl_options.ciphers.11= DHE-DSS-AES256-SHA256</span><br><span class="line">ssl_options.ciphers.12 = AES256-GCM-SHA384</span><br><span class="line">ssl_options.ciphers.13 = AES256-SHA256</span><br><span class="line">ssl_options.ciphers.14 = ECDHE-ECDSA-AES128-GCM-SHA256</span><br><span class="line">ssl_options.ciphers.15 = ECDHE-RSA-AES128-GCM-SHA256</span><br><span class="line">ssl_options.ciphers.16 = ECDHE-ECDSA-AES128-SHA256</span><br><span class="line">ssl_options.ciphers.17 = ECDHE-RSA-AES128-SHA256</span><br><span class="line">ssl_options.ciphers.18 = ECDH-ECDSA-AES128-GCM-SHA256</span><br><span class="line">ssl_options.ciphers.19= ECDH-RSA-AES128-GCM-SHA256</span><br><span class="line">ssl_options.ciphers.20 = ECDH-ECDSA-AES128-SHA256</span><br><span class="line">ssl_options.ciphers.21 = ECDH-RSA-AES128-SHA256</span><br><span class="line">ssl_options.ciphers.22 = DHE-DSS-AES128-GCM-SHA256</span><br><span class="line">ssl_options.ciphers.23 = DHE-DSS-AES128-SHA256</span><br><span class="line">ssl_options.ciphers.24 = AES128-GCM-SHA256</span><br><span class="line">ssl_options.ciphers.25 = AES128-SHA256</span><br><span class="line">ssl_options.ciphers.26 = ECDHE-ECDSA-AES256-SHA</span><br><span class="line">ssl_options.ciphers.27 = ECDHE-RSA-AES256-SHA</span><br><span class="line">ssl_options.ciphers.28 = DHE-DSS-AES256-SHA</span><br><span class="line">ssl_options.ciphers.29 = ECDH-ECDSA-AES256-SHA</span><br><span class="line">ssl_options.ciphers.30 = ECDH-RSA-AES256-SHA</span><br><span class="line">ssl_options.ciphers.31= AES256-SHA</span><br><span class="line">ssl_options.ciphers.32 = ECDHE-ECDSA-AES128-SHA</span><br><span class="line">ssl_options.ciphers.33 = ECDHE-RSA-AES128-SHA</span><br><span class="line">ssl_options.ciphers.34 = DHE-DSS-AES128-SHA</span><br><span class="line">ssl_options.ciphers.35 = DHE-DSS-AES128-SHA256</span><br><span class="line">ssl_options.ciphers.36 = ECDH-ECDSA-AES128-SHA</span><br><span class="line">ssl_options.ciphers.37 = ECDH-RSA-AES128-SHA</span><br><span class="line">ssl_options.ciphers.38 = AES128-SHA` </span><br></pre></td></tr></tbody></table></figure>

<p>删除正在运行的 rabbitmq:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker rm -f rabbitmq</span><br></pre></td></tr></tbody></table></figure>

<p>使用下面命令重新创建 rabbitmq 容器</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">version: "2.1"</span><br><span class="line">services:</span><br><span class="line">  bitwarden:</span><br><span class="line">    #image: rabbitmq:management</span><br><span class="line">    image: rabbitmq:3-management-qz</span><br><span class="line">    container_name: rabbitmq</span><br><span class="line">    environment:</span><br><span class="line">      - TZ=Asia/Shanghai</span><br><span class="line">    volumes:</span><br><span class="line">      - /deploy/rabbitmq/data:/var/lib/rabbitmq</span><br><span class="line">      - /deploy/rabbitmq/conf:/etc/rabbitmq/</span><br><span class="line">    ports:</span><br><span class="line">      - 15672:15672</span><br><span class="line">      - 5672:5672</span><br><span class="line">      - 5671:5671</span><br><span class="line">    restart: unless-stopped</span><br></pre></td></tr></tbody></table></figure>

<p><code>docker logs -f rabbitmq</code> 看到日志内以下内容说明配置成功。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">`2021-07-09 02:47:14.453 [info] &lt;0.882.0&gt; started TLS (SSL) listener on [::]:5671</span><br><span class="line">{removed_failing_handler,rabbit_log}</span><br><span class="line">2021-07-09 02:47:17.092 [info] &lt;0.736.0&gt; Server startup complete; 4 plugins started.</span><br><span class="line"> * rabbitmq_prometheus</span><br><span class="line"> * rabbitmq_management</span><br><span class="line"> * rabbitmq_web_dispatch</span><br><span class="line"> * rabbitmq_management_agent</span><br><span class="line"> completed with 4 plugins.</span><br><span class="line">2021-07-09 02:47:17.093 [info] &lt;0.736.0&gt; Resetting node maintenance status` </span><br></pre></td></tr></tbody></table></figure>

<p>默认的 guest 用户不能远程访问，因此需要创建一个可以远程访问的用户。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># 进入容器内部</span><br><span class="line">$ docker exec -it rabbitmq bash</span><br><span class="line"></span><br><span class="line"># 创建一个用户名为rabbit，密码为rabbit的用户</span><br><span class="line">$ rabbitmqctl add_user rabbit rabbit</span><br><span class="line"></span><br><span class="line"># 设置用户权限为超级管理员</span><br><span class="line">$ rabbitmqctl set_user_tags rabbit administrator</span><br><span class="line"></span><br><span class="line"># 授权远程访问</span><br><span class="line">$ rabbitmqctl set_permissions -p / rabbit "." "." ".*"</span><br><span class="line"></span><br><span class="line"># 退出容器</span><br><span class="line">$ exit</span><br><span class="line"></span><br><span class="line"># 重启rabbitmq</span><br><span class="line">docker restart rabbitmq</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>通过刚才创建的用户 <code>rabbit</code> 访问管理员页面 <code>http://ip:15672</code></p>
<p>看到 <code>amqp/ssl 5671</code> 说明配置成功！ 🥳</p>
<h2 id="SpringBoot集成RabbitMQ-SSL"><a href="#SpringBoot集成RabbitMQ-SSL" class="headerlink" title="SpringBoot集成RabbitMQ SSL"></a><a id="t4"></a><a id="SpringBootRabbitMQ_SSL_189"></a>SpringBoot 集成 RabbitMQ SSL</h2><p>首先在配置文件中添加以下配置，比如在 <code>application-dev.yaml</code> 中添加:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">`spring:</span><br><span class="line">  rabbitmq:</span><br><span class="line">    virtual-host: /</span><br><span class="line">    host: 127.0.0.1</span><br><span class="line">    port: 5671</span><br><span class="line">    username: ${RABBIT_USERNAME}</span><br><span class="line">    password: ${RABBIT_PASSWORD}</span><br><span class="line">    ssl:</span><br><span class="line">      enabled: true</span><br><span class="line">      key-store: classpath:keyStore/rabbit-client.keycert.p12</span><br><span class="line">      key-store-password: ${KEYSTORE_PASSWORD}</span><br><span class="line">      trust-store: classpath:keyStore/server.keystore</span><br><span class="line">      trust-store-password: ${TRUSTSTORE_PASSWORD}</span><br><span class="line">      algorithm: TLSv1.2</span><br><span class="line">      verify-hostname: false` </span><br></pre></td></tr></tbody></table></figure>

<p>其中 <code>${RABBIT_USERNAME}</code> 等配置在系统变量中。</p>
<p>比较简单，只要导入依赖：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">`&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;` </span><br></pre></td></tr></tbody></table></figure>

<p><code>org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration</code> 类就会自动配置。</p>
<h2 id="Python-集成RabbitMQ-SSL"><a href="#Python-集成RabbitMQ-SSL" class="headerlink" title="Python 集成RabbitMQ SSL"></a><a id="t5"></a><a id="Python_RabbitMQ_SSL_230"></a>Python 集成 RabbitMQ SSL</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">import logging</span><br><span class="line">import pika</span><br><span class="line">import ssl</span><br><span class="line"></span><br><span class="line"># 请替换所有证书路径</span><br><span class="line"># 以下证书分别在目录 ~/rabbitmq/etc/rabbitmq/ssl/ sa和client文件下</span><br><span class="line">ca_certfile = "certs/cacert.pem"</span><br><span class="line">certfile = "certs/rabbit-client.cert.pem"</span><br><span class="line">private_key = "certs/rabbit-client.key.pem"</span><br><span class="line"># 服务器信息</span><br><span class="line">hostname = "127.0.0.1"</span><br><span class="line">port = 5671</span><br><span class="line"></span><br><span class="line"># logging.basicConfig(level=logging.INFO)</span><br><span class="line"></span><br><span class="line">credentials = pika.credentials.PlainCredentials('rabbit', 'rabbit')</span><br><span class="line"></span><br><span class="line">context = ssl.create_default_context(cafile=ca_certfile)</span><br><span class="line"></span><br><span class="line"># 注意：由于证书是不受信任的，因此必须要关闭证书验证，否则会运行报错，提示证书验证失败！</span><br><span class="line">context = ssl._create_unverified_context()</span><br><span class="line"></span><br><span class="line">context.load_cert_chain(certfile, private_key)</span><br><span class="line">ssl_options = pika.SSLOptions(context, hostname)</span><br><span class="line"></span><br><span class="line">conn_params = pika.ConnectionParameters(host=hostname,port=port, ssl_options=ssl_options,credentials=credentials)</span><br><span class="line"></span><br><span class="line">with pika.BlockingConnection(conn_params) as conn:</span><br><span class="line">    ch = conn.channel()</span><br><span class="line">    ch.queue_declare("ssl_test")</span><br><span class="line">    ch.basic_publish("", "ssl_test", "Hello, world!")</span><br><span class="line">    conn.close()` </span><br></pre></td></tr></tbody></table></figure>

<h2 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a><a id="t6"></a><a id="FAQ_275"></a>FAQ</h2><h2 id="启动rabbitmq容器失败，报ssl-options-keyfile-invalid-file-does-not-exist-or-cannot-be-read-by-the-node"><a href="#启动rabbitmq容器失败，报ssl-options-keyfile-invalid-file-does-not-exist-or-cannot-be-read-by-the-node" class="headerlink" title="启动rabbitmq容器失败，报ssl_options.keyfile invalid, file does not exist or cannot be read by the node"></a><a id="t7"></a><a id="rabbitmqssl_optionskeyfile_invalid_file_does_not_exist_or_cannot_be_read_by_the_node_277"></a>启动 rabbitmq 容器失败，报 ssl_options.keyfile invalid, file does not exist or cannot be read by the node</h2><p>启动后查看容器日志，发现以下报错：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">02:56:48.341 [error] ssl_options.keyfile invalid, file does not exist or cannot be read by the node</span><br><span class="line">02:56:48.351 [error] Error preparing configuration in phase validation:</span><br><span class="line">02:56:48.351 [error]   - ssl_options.keyfile invalid, file does not exist or cannot be read by the node</span><br><span class="line">02:56:48.356 [error] </span><br><span class="line">02:56:48.356 [error] BOOT FAILED</span><br></pre></td></tr></tbody></table></figure>

<p>进入宿主机下 <code>~/rabbitmq/etc/rabbitmq/ssl</code> 目录，确定 <code>cacert.pem</code>、<code>rabbit-server.cert.pem</code>、<code>rabbit-server.key.pem</code> 的读写权限。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">ll</span><br><span class="line">total 24</span><br><span class="line">drwxrwxr-x 2 yjw yjw 4096 Jul  9 09:58 ./</span><br><span class="line">drwxrwxr-x 4 yjw yjw 4096 Jul  9 10:25 ../</span><br><span class="line">-rw-rw-r-- 1 yjw yjw 1046 Jul  9 09:56 cacert.pem</span><br><span class="line">-rw------- 1 yjw yjw 2349 Jul  9 09:58 rabbit-client.keycert.p12</span><br><span class="line">-rw-rw-r-- 1 yjw yjw 1070 Jul  9 09:56 rabbit-server.cert.pem</span><br><span class="line">-rw------- 1 yjw yjw 1675 Jul  9 09:56 rabbit-server.key.pem</span><br></pre></td></tr></tbody></table></figure>

<p>这里就需要把 <code>rabbit-server.key.pem</code> 的读写权限设成和其他两个一样。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">chmod 664 rabbit-server.key.pem</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>Rabbitmq</tag>
      </tags>
  </entry>
  <entry>
    <title>ESXI6.7 无法识别 EVC 模式</title>
    <url>/2023/08/16/ESXI6-7%E6%97%A0%E6%B3%95%E8%AF%86%E5%88%ABEVC%E6%A8%A1%E5%BC%8F/</url>
    <content><![CDATA[<p>ESXi6.7 不能正确识别 EVC 模式的解决方法</p>
<hr>
<h1 id="故障情况："><a href="#故障情况：" class="headerlink" title="故障情况："></a>故障情况：</h1><p>有客户反馈，H3C R4900 G3 主机，无法加入已经开启 EVC 模式的集群，在主机进入维护模式下移入集群，有下图告警：</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-16_202308161704847.png"></p>
<p>经排查，该批次主机，摘要，EVC 模式，支持的 EVC 模式 显示为 EVC 不受支持。正常情况下这里应该会有列表出来才对。</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-16_202308161705630.png"></p>
<p>对于这种提示，大部分是 BIOS 选项中 CPU 设置的问题导致。</p>
<p>检查发现服务器 BIOS 设置中的 VT 已经开启</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-16_202308161705777.png"></p>
<h1 id="解决办法："><a href="#解决办法：" class="headerlink" title="解决办法："></a>解决办法：</h1><p>再次进入 BIOS 设置，将 CPU 的 Monitor/Mwait 功能设置为 Enabled。</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-16_202308161706787.png"></p>
<p>开机后发现主机 EVC 模式识别已经正常，再次移入开启 EVC 功能的集群，正常</p>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>vmware</tag>
      </tags>
  </entry>
  <entry>
    <title>WINDOWS 系统安全应急事件处置</title>
    <url>/2023/08/16/WINDOWS-%E7%B3%BB%E7%BB%9F%E5%AE%89%E5%85%A8%E5%BA%94%E6%80%A5%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%BD%AE/</url>
    <content><![CDATA[<p>Windows 系统安全事件应急响应</p>
<hr>
<h1 id="1-Windows-的应急事件分类"><a href="#1-Windows-的应急事件分类" class="headerlink" title="1. Windows 的应急事件分类"></a>1. Windows 的应急事件分类</h1><p>Windows 系统的应急事件，按照处理的方式，可分为下面几种类别：</p>
<ul>
<li>病毒、木马、蠕虫事件</li>
<li> Web 服务器入侵事件或第三方服务入侵事件</li>
<li>系统入侵事件，如利用 Windows 的漏洞攻击入侵系统、利用弱口令入侵、利用其他服务的漏洞入侵，跟 Web 入侵有所区别，Web 入侵需要对 Web 日志进行分析，系统入侵只能查看 Windows 的事件日志。</li>
<li>网络攻击事件（DDoS、ARP、DNS 劫持等）</li>
</ul>
<h1 id="2-通用排查思路"><a href="#2-通用排查思路" class="headerlink" title="2. 通用排查思路"></a>2. 通用排查思路</h1><blockquote>
<p>入侵肯定会留下痕迹，另外重点强调的是不要一上来就各种查查查，问清楚谁在什么时间发现的主机异常情况，异常的现象是什么，受害用户做了什么样的紧急处理。问清楚主机异常情况后，需要动脑考虑为什么会产生某种异常，从现象反推可能的入侵思路，再考虑会在 Windows 主机上可能留下的痕迹，最后才是排除各种可能，确定入侵的过程。</p>
</blockquote>
<p>获取 Windows 的基本信息，如机器名称、操作系统版本、OS 安装时间、启动时间、域名、补丁安装情况，使用 <code>systeminfo</code> 命令获取。运行 <code>msinfo32</code> 也可以查看计算机的详细信息。</p>
<h2 id="2-1-直接检查相关日志"><a href="#2-1-直接检查相关日志" class="headerlink" title="2.1 直接检查相关日志"></a>2.1 直接检查相关日志</h2><blockquote>
<p>任何操作（人、程序、进程）都会导致产生相关日志</p>
</blockquote>
<h3 id="2-1-1-Windows-日志简介"><a href="#2-1-1-Windows-日志简介" class="headerlink" title="2.1.1 Windows 日志简介"></a>2.1.1 Windows 日志简介</h3><p>日志记录了系统中硬件、软件和系统问题的信息，同时还监视着系统中发生的事件。当服务器被入侵或者系统（应用）出现问题时，管理员可以根据日志迅速定位问题的关键，再快速处理问题，从而极大地提高工作效率和服务器的安全性。<br>Widdows 通过自带事件查看器管理日志，使用命令 <code>eventvwr.msc</code> 打开，或者 Windows 10 搜索框直接搜索<code>事件查看器</code>，或者使用<code>开始菜单</code> -<code>Windows 管理工具</code> - <code>事件查看器打开</code>。</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-16_202308161127003.png"></p>
<p>Windows 日志位置<br><strong>Windows 2000/Server2003/Windows XP</strong></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">\%SystemRoot%\System32\Config\*.evt</span><br></pre></td></tr></tbody></table></figure>

<p><strong>Windows Vista/7/10/Server2008:</strong></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">\%SystemRoot%\System32\winevt\Logs\*.evtx</span><br></pre></td></tr></tbody></table></figure>

<p>日志审核策略，使用命令 <code>auditpol /get /category:*</code></p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-16_202308161127474.png"></p>
<p>其他一些可能会用到的事件日志的位置：</p>
<ul>
<li><p>C:\Windows\System32\WDI\LogFiles</p>
<ul>
<li>BootCKCL.etl</li>
<li>ShutdownCKCL.etl</li>
<li>SecondaryLogOnCKCL.etl</li>
<li>WdiContext.etl.&lt;###&gt;</li>
</ul>
</li>
<li><p>C:\Windows\System32\WDI\&lt;guid&gt;\&lt;guid&gt;</p>
<ul>
<li>snapshot.etl&lt;/guid&gt;&lt;/guid&gt;</li>
</ul>
</li>
<li><p>C:\Windows\System32\LogFiles\WMI</p>
<ul>
<li>Wifi.etl</li>
<li>LwNetLog.etl</li>
</ul>
</li>
<li><p>C:\Windows\System32\SleepStudy</p>
<ul>
<li><p>UserNotPresentSession.etl</p>
</li>
<li><p>abnormal-shutdown-&lt;yyyy&gt;-&lt;mm&gt;-</p>
<p>  -&lt;hh&gt;-&lt;mm&gt;-&lt;ss&gt;.etl&lt;/ss&gt;&lt;/mm&gt;&lt;/hh&gt;</p>
<p>  &lt;/mm&gt;&lt;/yyyy&gt;</p>
</li>
<li><p>user-not-present-trace-&lt;yyyy&gt;-&lt;mm&gt;-</p>
<p>  -&lt;hh&gt;-&lt;mm&gt;-&lt;ss&gt;.etl&lt;/ss&gt;&lt;/mm&gt;&lt;/hh&gt;</p>
<p>  &lt;/mm&gt;&lt;/yyyy&gt;</p>
</li>
<li><p>ScreenOnPowerStudyTraceSession-&lt;yyyy&gt;-&lt;mm&gt;-</p>
<p>  -&lt;hh&gt;-&lt;mm&gt;-&lt;ss&gt;.etl&lt;/ss&gt;&lt;/mm&gt;&lt;/hh&gt;</p>
<p>  &lt;/mm&gt;&lt;/yyyy&gt;</p>
</li>
</ul>
<p>  <strong>Windows 日志</strong>
  </p>
</li>
<li><p>系统日志<br>  系统日志包含 Windows 系统组件记录的事件。例如，系统日志中会记录在启动过程中加载驱动程序或其他系统组件失败。系统组件所记录的事件类型由 Windows 预先确定。</p>
</li>
<li><p>应用程序日志<br>  应用程序日志包含由应用程序或程序记录的事件。例如，数据库程序可在应用程序日志中记录文件错误。程序开发人员决定记录哪些事件。</p>
</li>
<li><p>安全日志<br>  安全日志包含诸如有效和无效的登录尝试等事件，以及与资源使用相关的事件，如创建、打开或删除文件或其他对象。管理员可以指定在安全日志中记录什么事件。例如，如果已启用登录审核，则安全日志将记录对系统的登录尝试。</p>
</li>
</ul>
<p>关于安全日志登录部分的事件 ID 和登录类型代码的含义见下面 2 个表。</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-16_202308161128925.png"></p>
<p>常用事件 ID 含义</p>
<table>
<thead>
<tr>
<th>Event ID(2000/XP/2003)</th>
<th>Event ID(Vista/7/8/2008/2012)</th>
<th> 描述</th>
<th>日志名称</th>
</tr>
</thead>
<tbody><tr>
<td> 528</td>
<td>4624</td>
<td> 成功登录</td>
<td> Security</td>
</tr>
<tr>
<td>529</td>
<td>4625</td>
<td> 失败登录</td>
<td> Security</td>
</tr>
<tr>
<td>680</td>
<td>4776</td>
<td> 成功 / 失败的账户认证</td>
<td> Security</td>
</tr>
<tr>
<td>624</td>
<td>4720</td>
<td> 创建用户</td>
<td> Security</td>
</tr>
<tr>
<td>636</td>
<td>4732</td>
<td> 添加用户到启用安全性的本地组中</td>
<td> Security</td>
</tr>
<tr>
<td>632</td>
<td>4728</td>
<td> 添加用户到启用安全性的全局组中</td>
<td> Security</td>
</tr>
<tr>
<td>2934</td>
<td>7030</td>
<td> 服务创建错误</td>
<td> System</td>
</tr>
<tr>
<td>2944</td>
<td>7040</td>
<td>IPSEC 服务服务的启动类型已从禁用更改为自动启动</td>
<td> System</td>
</tr>
<tr>
<td>2949</td>
<td>7045</td>
<td> 服务创建</td>
<td> System</td>
</tr>
</tbody></table>
<p>登录类型 ID</p>
<p>成功 / 失败登录事件提供的有用信息之一是用户 / 进程尝试登录（登录类型），但 Windows 将此信息显示为数字，下面是数字和对应的说明：</p>
<table>
<thead>
<tr>
<th><strong>登录类型</strong></th>
<th><strong>登录类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody><tr>
<td> 2</td>
<td>Interactive</td>
<td> 用户登录到本机</td>
</tr>
<tr>
<td> 3</td>
<td>Network</td>
<td> 用户或计算手机从网络登录到本机，如果网络共享，或使用 net use 访问网络共享，net view 查看网络共享</td>
</tr>
<tr>
<td> 4</td>
<td>Batch</td>
<td> 批处理登录类型，无需用户干预</td>
</tr>
<tr>
<td> 5</td>
<td>Service</td>
<td> 服务控制管理器登录</td>
</tr>
<tr>
<td> 7</td>
<td>Unlock</td>
<td> 用户解锁主机</td>
</tr>
<tr>
<td> 8</td>
<td>NetworkCleartext</td>
<td> 用户从网络登录到此计算机，用户密码用非哈希的形式传递</td>
</tr>
<tr>
<td> 9</td>
<td>NewCredentials</td>
<td> 进程或线程克隆了其当前令牌，但为出站连接指定了新凭据</td>
</tr>
<tr>
<td> 10</td>
<td>Remotelnteractive</td>
<td> 使用终端服务或远程桌面连接登录</td>
</tr>
<tr>
<td> 11</td>
<td>Cachedlnteractive</td>
<td> 用户使用本地存储在计算机上的凭据登录到计算机（域控制器可能无法验证凭据），如主机不能连接域控，以前使用域账户登录过这台主机，再登录就会产生这样日志</td>
</tr>
<tr>
<td> 12</td>
<td>CachedRemotelnteractive</td>
<td> 与 Remotelnteractive 相同，内部用于审计目的</td>
</tr>
<tr>
<td> 13</td>
<td>CachedUnlock</td>
<td> 登录尝试解锁</td>
</tr>
</tbody></table>
<p>账户类型</p>
<ul>
<li>用户账户</li>
<li>计算机账户：此帐户类型表示每个主机。 此帐户类型的名称以字符 “$” 结尾。 例如，“DESKTOP-SHCTJ7L $” 是计算机帐户的名称。</li>
<li>服务账户：每个服务帐户都创建为特定服务的所有者。 例如，IUSR 是 IIS 的所有者，而 krbtgt 是作为密钥分发中心一部分的服务的所有者。</li>
</ul>
<p><strong>应用程序和服务日志</strong></p>
<p>应用程序和服务日志是一种新类别的事件日志。这些日志存储来自单个应用程序或组件的事件，而非可能影响整个系统的事件。</p>
<p>查看 PowerShell 的日志<br><code>Microsoft</code>-&gt;<code>Windows</code>-&gt;<code>PowerShell</code>-&gt;<code>OPtions</code></p>
<h3 id="2-1-2-远程登录事件"><a href="#2-1-2-远程登录事件" class="headerlink" title="2.1.2 远程登录事件"></a>2.1.2 远程登录事件</h3><p>攻击者可能造成的远程登录事件</p>
<p><strong>RDP</strong><br>攻击者使用 RDP 远程登录受害者计算机，源主机和目的主机都会生成相应事件。</p>
<p>重要的事件 ID（安全日志，Security.evtx）</p>
<ul>
<li>4624：账户成功登录</li>
<li> 4648：使用明文凭证尝试登录</li>
<li> 4778：重新连接到一台 Windows 主机的会话</li>
<li> 4779：断开到一台 Windows 主机的会话</li>
</ul>
<p>远程连接日志（<code>应用程序和服务日志</code> -&gt;<code>Microsoft</code>-&gt;<code>Windows</code>-&gt;-<code>TerminalServices</code>-&gt;<code>RemoteConnectionManager</code>-&gt;<code>Operational</code>），重要事件 ID 和含义：</p>
<ul>
<li>1149：用户认证成功</li>
<li> 21：远程桌面服务：会话登录成功</li>
<li> 24：远程桌面服务：会话已断开连接</li>
<li> 25：远程桌面服务：会话重新连接成功</li>
</ul>
<p>远程连接日志关注 RemoteInteractive（10） 和 CachedRemoteInteractive（12）表明使用了 RDP ，因为这些登录类型专用于 RDP 使用。</p>
<p><strong>计划任务和 AT</strong><br>关注的事件 ID</p>
<ul>
<li>4624：账户成功登录</li>
</ul>
<p>计划任务事件 Microsoft-Windows-TaskScheduler/Operational.evtx，计划任务 ID 含义：</p>
<ul>
<li>100：任务已开始</li>
<li> 102：任务完成</li>
<li> 106：已注册任务（关注点）</li>
<li>107：在调度程序上触发任务</li>
<li> 110：用户触发的任务</li>
<li> 129：创建任务流程（推出）</li>
<li>140：任务已更新</li>
<li> 141：任务已删除</li>
<li> 200：运行计划任务</li>
<li> 325：启动请求排队</li>
</ul>
<p>统一后台进程管理器（UBPM）</p>
<ul>
<li>服务控制管理器 - 管理 Windows 服务</li>
<li>任务计划程序 - 管理 Windows 任务</li>
<li> Windows Management Instrumentation - 管理 WMI 供应商</li>
<li> DCOM Server Process Launcher - 管理进程外 COM 应用程序</li>
</ul>
<p><strong>PSExec</strong><br>PSExec 是系统管理员的远程命令执行工具，包含在 “Sysinternals Suite” 工具中，但它通常也用于针对性攻击的横向移动。<br>PsExec 的典型行为</p>
<ul>
<li>在具有网络登录（类型 3）的远程计算机上将 PsExec 服务执行文件（默认值：PSEXESVC.exe）复制到<code>％SystemRoot％</code>。</li>
<li>如果使用 <code>-c</code> 选项，则通过 $Admin 共享将文件复制到 ％SystemRoot％ 执行命令。</li>
<li>注册服务（默认值：PSEXESVC），并启动服务以在远程计算机上执行该命令。</li>
<li>停止服务（默认值：PSEXESVC），并在执行后删除远程计算机上的服务。</li>
</ul>
<p>PSExec 选项的重要选项：</p>
<ul>
<li>-r<ul>
<li> 更改复制的文件名和远程计算机的服务名称<br>  （默认值：％SystemRoot％\ PSEXESVC.exe 和 PSEXESVC）</li>
</ul>
</li>
<li>-s<ul>
<li> 由 SYSTEM 帐户执行。</li>
</ul>
</li>
<li>-C<ul>
<li> 将程序复制到远程计算机</li>
<li>被复制到 Admin$（％SystemRoot％）</li>
</ul>
</li>
<li>-u<ul>
<li> 使用特定凭据登录到远程计算机</li>
<li>生成登录类型 2 和登录类型 3 的事件</li>
</ul>
</li>
</ul>
<p>可以从 <code>System.evtx</code> 中查找事件 ID 7045 发现 PSExec，相关的事件 ID</p>
<ul>
<li>Security.evtx<ul>
<li>4624：帐户已成功登录</li>
</ul>
</li>
<li> Ssystem.evtx<ul>
<li>7045：系统中安装了服务</li>
</ul>
</li>
</ul>
<p>PsExec 在执行命令时在远程主机上创建服务，默认服务名称为 <code>PSEXESVC</code>，配合检测系统 7045 事件可以确定。<br>如果使用 <code>-r</code> 参数更改了默认的服务名称，通过以下特征可以检测 PSExec 的执行：</p>
<ul>
<li>PSExec 服务执行文件（默认值：PSEXESVC.exe）被复制到远程计算机上的 “％SystemRoot％” 目录中</li>
<li>服务名称与没有 “.exe” 扩展名的执行名称相同</li>
<li>服务以 “用户模式” 执行，而不是 “内核模式”</li>
<li>“LocalSystem” 帐户用于服务帐户</li>
<li>实际帐户用于执行服务执行文件，而不是 “SYSTEM”</li>
</ul>
<h3 id="2-1-3-GUI-的日志工具介绍"><a href="#2-1-3-GUI-的日志工具介绍" class="headerlink" title="2.1.3 GUI 的日志工具介绍"></a>2.1.3 GUI 的日志工具介绍</h3><p>Widnows 自带事件管理器就是很不错的日志工具，其他可以了解下 <a href="https://eventlogxp.com/">Event Log Explorer</a></p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-16_202308161128706.png"></p>
<p>可以将目标 IP 的所有日志文件复制出来，然后在其他电脑上使用 Event Log Explorer 进行分析。<br>其他一些工具：</p>
<ul>
<li>Microsoft Message Analyzer</li>
<li>ETL Viewer</li>
<li>Log Parser<ul>
<li> 使用示例：<a href="https://mlichtenberg.wordpress.com/2011/02/03/log-parser-rocks-more-than-50-examples/">https://mlichtenberg.wordpress.com/2011/02/03/log-parser-rocks-more-than-50-examples/</a></li>
</ul>
</li>
</ul>
<h3 id="2-2-4-PowerShell-日志操作"><a href="#2-2-4-PowerShell-日志操作" class="headerlink" title="2.2.4 PowerShell 日志操作"></a>2.2.4 PowerShell 日志操作</h3><p>使用 <code>Get-WinEvent</code></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">Get-WinEvent @{logname='application','system'} -MaxEvents 1</span><br></pre></td></tr></tbody></table></figure>

<p>一些常见日志操作</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># Get-WinEvent帮助命令</span><br><span class="line">get-help Get-WinEvent</span><br><span class="line"></span><br><span class="line"># 列出所有事件日志</span><br><span class="line">Get-WinEvent -ListLog *</span><br><span class="line"></span><br><span class="line"># powershell管理员权限下获取安全事件日志</span><br><span class="line">Get-WinEvent -FilterHashtable @{LogName='Security'}</span><br><span class="line"></span><br><span class="line"># 过滤安全事件ID 4624</span><br><span class="line">Get-WinEvent -FilterHashtable @{LogName='Security';ID='4624'}</span><br><span class="line"></span><br><span class="line"># 查询今天的应用和系统日志，显示前2条</span><br><span class="line">Get-WinEvent @{logname='application','system';starttime=[datetime]::today } -MaxEvents 2</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-16_202308161145893.png"></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"># 根据ID查询事件</span><br><span class="line">Get-WinEvent -LogName Microsoft-Windows-PowerShell/Operational | Where-Object {$_.ID -eq "4100" -or $_.ID -eq "4104"}</span><br><span class="line"></span><br><span class="line"># 查询指定时间内的事件</span><br><span class="line">$StartTime=Get-Date  -Year  2017  -Month  1  -Day  1  -Hour  15  -Minute  30</span><br><span class="line">$EndTime=Get-Date  -Year  2017  -Month  2  -Day  15  -Hour  20  -Minute  00</span><br><span class="line"></span><br><span class="line">Get-WinEvent -FilterHashtable @{LogName='System';StartTime=$StartTime;EndTime=$EndTime}</span><br></pre></td></tr></tbody></table></figure>

<p>Get-EventLog 的使用可以参考：<a href="https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.management/get-eventlog?view=powershell-5.1">https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.management/get-eventlog?view=powershell-5.1</a></p>
<h3 id="2-2-5-Windows-日志删除和日志集中化"><a href="#2-2-5-Windows-日志删除和日志集中化" class="headerlink" title="2.2.5 Windows 日志删除和日志集中化"></a>2.2.5 Windows 日志删除和日志集中化</h3><p>攻击者入侵系统后，很可能会删除日志，比较粗暴的手法是直接删除所有日志和停止日志服务，对于应急来说删除掉的日志本身就是就是入侵的明显特征，根据文件创建时间也能大概判断入侵时间。另外有工具可以删除单条日志，这样只是分析 Windows 日志时对分析人员来说很难找到攻击痕迹，单条日志删除工具 <a href="https://github.com/360-A-Team/EventCleaner%EF%BC%8C%E5%8F%A6%E5%A4%96%E5%8F%AF%E4%BB%A5%E5%8F%82%E8%80%83">https://github.com/360-A-Team/EventCleaner，另外可以参考</a> <pangu> </pangu><a href="https://github.com/3gstudent/Eventlogedit-evtx--Evolution%E3%80%82">https://github.com/3gstudent/Eventlogedit-evtx--Evolution。</a></p>
<p>对抗删除的的措施是实施日志集中化，从 Windows 7 开始，Windows 记录日志为 XML 格式，可以使用</p>
<h2 id="2-2-检查账户"><a href="#2-2-检查账户" class="headerlink" title="2.2 检查账户"></a>2.2 检查账户</h2><p>检查账户的几种方式：</p>
<ol>
<li>在本地用户和组里查看，运行 <code>lusrmgr.msc</code></li>
<li>使用 <code>net user</code> 列出当前登录账号，使用 <code>wmic UserAccount get</code> 列出当前系统所有账户</li>
<li>检查注册表 <code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\ProfileList</code>，<code>HKLM\SAM\Domains\Account\</code>（默认是 SYSTEM）权限，需要配置成管理员权限查看。</li>
</ol>
<p>SID 位于 <code>HKU\</code> 和 <code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\ProfileList</code> 两个密钥中。 用户 SID 可以在值 “Profilelist” 下找到 Subkeys（在用户登录系统时创建）。 值 “ProfileImagePath” 将列出该特定用户的配置文件的路径。 在操作系统级别，SID 可识别无疑问题的帐户。 多用户系统看起来像这样</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">HKU\.DEFAULT</span><br><span class="line">HKU\S-1-5-18</span><br><span class="line">HKU\S-1-5-19</span><br><span class="line">HKU\S-1-5-20</span><br><span class="line">HKU\S-1-5-21-1116317227-3122546273-4014252621-1000</span><br><span class="line">HKU\S-1-5-21-1116317227-3122546273-4014252621-1000_Classes</span><br><span class="line">HKU\S-1-5-21-1116317227-3122546273-4014252621-1003</span><br><span class="line">HKU\S-1-5-21-1116317227-3122546273-4014252621-1003_Classes</span><br></pre></td></tr></tbody></table></figure>

<p>前四个密钥是系统帐户，从计算机到计算机通常是相同的。 <code>HKU\.DEFAULT</code> 包含全局用户信息。 <code>HKU\S-1-5-18</code> 属于 “LocalSystem 帐户”。<code>HKU\S-1-5-19</code> 用于运行本地服务，是 “本地服务帐户”。<code>HKU\S-1-5-20</code> 是用于运行网络服务的 “NetworkService 帐户”。 其他子键是唯一的 SID，它们与已登录系统的各个用户相关联。 他们的解释如下：</p>
<ul>
<li>“S” 将字符串标识为 SID。</li>
<li>“1” 是 SID 规范的版本。</li>
<li>“5” 是标识符权限值。</li>
<li>“21-1116317227-3122546273-4014252621” 是域或本地计算机标识符，因计算机与计算机不同，因为它对应于唯一的个人用户帐户。</li>
<li>“1000” 是相对 ID（RID）。 默认情况下未创建的任何组或用户的 RID 均为 1000 或更高。</li>
<li>“1000_Classes” 包含每用户文件关联和类注册。</li>
<li>“1003” 是同一系统上另一个用户的相对 ID（RID）。</li>
<li>“1003_Classes” 包含第二个用户的文件关联和类注册。</li>
</ul>
<h2 id="2-3-检查网络连接"><a href="#2-3-检查网络连接" class="headerlink" title="2.3 检查网络连接"></a>2.3 检查网络连接</h2><p>检查网络监听和连接的端口和应用程序</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">netstat -anob</span><br></pre></td></tr></tbody></table></figure>

<p>输出主机上的所有侦听和活动连接，包括 PID 和连接到每个连接的程序的名称。 这也告诉 Netstat 返回连接的 IP 地址，而不是试图确定它们的主机名。</p>
<ul>
<li>-a ：显示所有连接和侦听端口。</li>
<li>-b ：显示在创建每个连接或侦听端口时涉及的可执行程序。在某些情况下，已知可执行程序承载多个独立的组件，这些情况下，显示创建连接或侦听端口时涉及的组件序列。在此情况下，可执行程序的名称位于底部 [] 中，它调用的组件位于顶部，直至达到 TCP/IP。注意，此选项可能很耗时，并且在你没有足够权限时可能失败。</li>
<li>-n ：以数字形式显示地址和端口号。</li>
<li>-o ：显示拥有的与每个连接关联的进程 ID。</li>
<li>-r ：显示路由表。</li>
</ul>
<p>路由</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">netstat -rn</span><br></pre></td></tr></tbody></table></figure>

<p>结合 <code>findstr</code> 命令查找特定的端口或程序。</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-16_202308161129060.png"></p>
<p>发现的感觉异常的 IP 地址可以在威胁情报平台上查询，如果是已知的恶意 IP，可以比较快速的确认攻击方式。</p>
<p>防火墙配置</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">netsh firewall show all</span><br></pre></td></tr></tbody></table></figure>

<p>Windows 10 自带的网络连接可以参考：<br><a href="https://betanews.com/2018/07/31/all-the-websites-windows-10-connects-to-clean-install/">https://betanews.com/2018/07/31/all-the-websites-windows-10-connects-to-clean-install/</a></p>
<h2 id="2-4-检查进程"><a href="#2-4-检查进程" class="headerlink" title="2.4 检查进程"></a>2.4 检查进程</h2><p>进程通常结合网络查看异常，先检查异常的网络连接，再获取由哪个进程生成的网络连接</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">netstat -abno | find "port number"</span><br><span class="line"></span><br><span class="line">tasklist | findstr PID</span><br></pre></td></tr></tbody></table></figure>

<p>使用 wmic 命令获取进程信息</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">wmic process | find "Proccess Id" &gt; proc.csv</span><br><span class="line"></span><br><span class="line">Get-WmiObject -Class Win32_Process</span><br><span class="line"></span><br><span class="line">Get-WmiObject -Query  "select * from win32_service where name='WinRM'" -ComputerName Server01, Server02 | Format-List -Property PSComputerName, Name, ExitCode, Name, ProcessID, StartMode, State, Status</span><br></pre></td></tr></tbody></table></figure>

<p>PowerShell 的其他关于进程和网络的命令</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">Get-Process</span><br><span class="line"></span><br><span class="line">Get-NetTCPConnection</span><br><span class="line">Get-NetTCPConnection -State Established</span><br><span class="line"></span><br><span class="line"># 进程跟服务的对应关系</span><br><span class="line">tasklist /svc</span><br></pre></td></tr></tbody></table></figure>

<p>使用 SysinternalsSuite 的 procexp 可以获取进程比较详细的信息，比如真实路径、加载的 DLL 文件等、CPU 和内存使用情况等。</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-16_202308161130958.png"></p>
<p>当然也可以使用内存管理器。</p>
<p>查看可疑的进程及其子进程。可以通过观察以下内容：</p>
<ul>
<li>没有签名验证信息的进程</li>
<li>没有描述信息的进程</li>
<li>进程的属主</li>
<li>进程的路径是否合法</li>
<li> CPU 或内存资源占用长时间过高的进程</li>
</ul>
<p>可以获取进程关联的文件 MD5 值，然后发送到威胁情报平台上辅助检查。进程关联的文件也可以使用在线病毒检测平台上直接检测。</p>
<h3 id="2-4-1-内存-dump"><a href="#2-4-1-内存-dump" class="headerlink" title="2.4.1 内存 dump"></a>2.4.1 内存 dump</h3><p>有 2 种比较方便的方法：<br>第一种是使用系统自带功能，在计算机属性，系统属性，高级选项卡中选择 “启动和故障恢复设置”，选择完全转储内存，然后点击确定，系统会提示重启。</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-16_202308161130108.png"></p>
<p>重启后在配置的文件位置可以找到上次转储的内存文件。</p>
<p>另外一种方法，使用 SysinternalsSuite 工具集的 notmyfault64 工具，在使用管理员权限的命令行模式下（cmd、PowerShell），运行</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">NotMyFault64.exe /crash</span><br></pre></td></tr></tbody></table></figure>

<h3 id="2-4-2-内存分析"><a href="#2-4-2-内存分析" class="headerlink" title="2.4.2 内存分析"></a>2.4.2 内存分析</h3><p>利用 Volatility 进行内存取证，分析入侵攻击痕迹，包括网络连接、进程、服务、驱动模块、DLL、handles、检测进程注入、检测 Meterpreter、cmd 历史命令、IE 浏览器历史记录、启动项、用户、shimcache、userassist、部分 rootkit 隐藏文件、cmdliner 等。</p>
<p>参考：<a href="https://xz.aliyun.com/t/2497">https://xz.aliyun.com/t/2497</a></p>
<h2 id="2-5-检查开机启动和运行服务"><a href="#2-5-检查开机启动和运行服务" class="headerlink" title="2.5 检查开机启动和运行服务"></a>2.5 检查开机启动和运行服务</h2><h3 id="2-5-1-开机启动"><a href="#2-5-1-开机启动" class="headerlink" title="2.5.1 开机启动"></a>2.5.1 开机启动</h3><p>关于开机启动需要分析的位置：</p>
<ul>
<li>注册表中的关于开机启动的位置<ul>
<li> HKLM\Software\Microsoft\Windows\CurrentVersion\Runonce</li>
<li>HKLM\Software\Microsoft\Windows\CurrentVersion\policies\Explorer\Run</li>
<li>HKLM\Software\Microsoft\Windows\CurrentVersion\Run</li>
<li>HKCU\Software\Microsoft\Windows NT\CurrentVersion\Windows\Run</li>
<li>HKCU\Software\Microsoft\Windows\CurrentVersion\Run</li>
<li>HKCU\Software\Microsoft\Windows\CurrentVersion\RunOnce</li>
<li>(ProfilePath)\Start Menu\Programs\Startup</li>
</ul>
</li>
<li> 开始菜单，启动项里（C:\ProgramData\Microsoft\Windows\Start Menu\Programs\Startup）</li>
<li>任务管理器，启动选项卡，或者运行 msconfig，查看启动选项卡</li>
<li>运行 <code>gpedit.msc</code> 在本地组策略编辑器里查看开机运行脚本，包括计算机配置和用户配置的。</li>
</ul>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-16_202308161130351.png"></p>
<ul>
<li>使用 SysinternalsSuite 工具集的 Autoruns 工具查看开机启动项目</li>
</ul>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-16_202308161146889.png"></p>
<h3 id="2-5-2-查看服务状态"><a href="#2-5-2-查看服务状态" class="headerlink" title="2.5.2 查看服务状态"></a>2.5.2 查看服务状态</h3><p>服务状态，自动启动配置，在 PowerShell 下可以运行：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">Get-Service</span><br><span class="line"></span><br><span class="line"># 运行service命令</span><br><span class="line">service</span><br></pre></td></tr></tbody></table></figure>

<p>运行 <code>services.msc</code> 可以打开 Windows 服务工具，常见的 GUI 界面。</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-16_202308161131851.png"></p>
<h2 id="2-6-检查计划任务"><a href="#2-6-检查计划任务" class="headerlink" title="2.6 检查计划任务"></a>2.6 检查计划任务</h2><p>存放计划任务的文件</p>
<ul>
<li>C:\Windows\System32\Tasks\</li>
<li>C:\Windows\SysWOW64\Tasks\</li>
<li>C:\Windows\tasks\</li>
<li>*.job（指文件）</li>
</ul>
<p>使用命令查看计划任务</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">schtasks</span><br></pre></td></tr></tbody></table></figure>

<p>运行 <code>taskschd.msc</code> 打开计划任务面板，或者从计算机管理进入，直接查看计划任务。</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-16_202308161131300.png"></p>
<p>也可以使用 SysinternalsSuite 工具集的 Autoruns 工具查看计划任务。</p>
<h2 id="2-7-检查文件"><a href="#2-7-检查文件" class="headerlink" title="2.7 检查文件"></a>2.7 检查文件</h2><p>检查可疑文件的思路，一种是通过可疑进程（CPU 利用率、进程名）关联的文件，一种是按照时间现象关联的文件，文件大小也可以 作为辅助的判断方法，文件的操作可以使用 <code>Get-ChildItem</code> 命令查看。需要关注的文件位置：</p>
<ul>
<li>下载目录</li>
<li>回收站文件</li>
<li>程序临时文件</li>
<li>历史文件记录</li>
<li>应用程序打开历史</li>
<li>搜索历史</li>
<li>快捷方式（LNK）</li>
<li>驱动 </li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">driverquery</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>进程 DLL 的关联查询 </li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">tasklist -M</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>共享文件</li>
<li>最近的文件（% UserProfile%\Recent）</li>
<li>文件更新</li>
<li>已安装文件<ul>
<li> hklm:\software\Microsoft\Windows\CurrentVersion\Uninstall\</li>
</ul>
</li>
<li> 异常现象之前创建的文件</li>
</ul>
<h2 id="2-8-检查注册表"><a href="#2-8-检查注册表" class="headerlink" title="2.8 检查注册表"></a>2.8 检查注册表</h2><p>注册表目录含义：</p>
<ol>
<li>HKEY_CLASSES_ROOT（HKCR）：此处存储的信息可确保在 Windows 资源管理器中执行时打开正确的程序。它还包含有关拖放规则，快捷方式和用户界面信息的更多详细信息。</li>
<li>HKEY_CURRENT_USER（HKCU）：包含当前登录系统的用户的配置信息，包括用户的文件夹，屏幕颜色和控制面板设置。HKEY_USERS 中特定于用户的分支的别名。通用信息通常适用于所有用户，并且是 HKU.DEFAULT。</li>
<li>HKEY_LOCAL_MACHINE（H​​KLM）：包含运行操作系统的计算机硬件特定信息。它包括系统上安装的驱动器列表以及已安装硬件和应用程序的通用配置。</li>
<li>HKEY_USERS（HKU）：包含系统上所有用户配置文件的配置信息，包括应用程序配置和可视设置。</li>
<li>HKEY_CURRENT_CONFIG（HCU）：存储有关系统当前配置的信息。</li>
</ol>
<p>一些重要的注册表键</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">hklm:\Software\Microsoft\Windows\CurrentVersion\policies\system</span><br><span class="line">hklm:\Software\Microsoft\Active Setup\Installed Components</span><br><span class="line">hklm:\Software\Microsoft\Windows\CurrentVersion\App Paths</span><br><span class="line">hklm:\software\microsoft\windows nt\CurrentVersion\winlogon</span><br><span class="line">hklm:\software\microsoft\security center\svc</span><br><span class="line">hkcu:\Software\Microsoft\Windows\CurrentVersion\Explorer\TypedPaths</span><br><span class="line">hkcu:\Software\Microsoft\Windows\CurrentVersion\explorer\RunMru</span><br><span class="line">hklm:\Software\Microsoft\Windows\CurrentVersion\explorer\Startmenu</span><br><span class="line">hklm:\System\CurrentControlSet\Control\Session Manager</span><br><span class="line">hklm:\Software\Microsoft\Windows\CurrentVersion\explorer\ShellFolders</span><br><span class="line">hklm:\Software\Microsoft\Windows\CurrentVersion\ShellExtensions\Approved</span><br><span class="line">hklm:\System\CurrentControlSet\Control\Session Manager\AppCertDlls</span><br><span class="line">hklm:\Software\Classes\exefile\shell\open\command</span><br><span class="line">hklm:\BCD00000000</span><br><span class="line">hklm:\system\currentcontrolset\control\lsa</span><br><span class="line">hklm:\Software \Microsoft\Windows\CurrentVersion\Explorer\BrowserHelper Objects</span><br><span class="line">hklm:\Software\Wow6432Node\Microsoft\Windows\CurrentVersion\Explorer\Browser Helper Objects</span><br><span class="line">hkcu:\Software\Microsoft\Internet Explorer\Extensions</span><br><span class="line">hklm:\Software\Microsoft\Internet Explorer\Extensions</span><br><span class="line">hklm:\Software\Wow6432Node\Microsoft\Internet Explorer\Extensions</span><br></pre></td></tr></tbody></table></figure>

<p>活用注册表编辑器的搜索功能，根据进程名称、服务名称、文件名称搜索注册表。</p>
<h1 id="3-特定事件痕迹检查"><a href="#3-特定事件痕迹检查" class="headerlink" title="3. 特定事件痕迹检查"></a>3. 特定事件痕迹检查</h1><h2 id="3-1-挖矿病毒应急"><a href="#3-1-挖矿病毒应急" class="headerlink" title="3.1 挖矿病毒应急"></a>3.1 挖矿病毒应急</h2><h3 id="3-1-1-传播方式"><a href="#3-1-1-传播方式" class="headerlink" title="3.1.1 传播方式"></a>3.1.1 传播方式</h3><p>通常可能的传播方式：</p>
<ol>
<li>通过社工、钓鱼方式下载和运行了挖矿程序（邮件、IM 等）</li>
<li>利用计算机系统远程代码执行漏洞下载、上传和执行挖矿程序</li>
<li>利用计算机 Web 或第三方软件漏洞获取计算机权限，然后下载和执行挖矿程序</li>
<li>利用弱口令进入系统，下载和执行挖矿程序</li>
<li>执行 Web 页面的挖矿 JS 脚本</li>
</ol>
<h3 id="3-1-2-挖矿程序特点"><a href="#3-1-2-挖矿程序特点" class="headerlink" title="3.1.2 挖矿程序特点"></a>3.1.2 挖矿程序特点</h3><ul>
<li>CPU、GPU、内存利用率高；</li>
<li>网络会连接一些矿工 IP，可以通过威胁情报获取。</li>
</ul>
<h3 id="3-1-3-挖矿程序应急目的"><a href="#3-1-3-挖矿程序应急目的" class="headerlink" title="3.1.3 挖矿程序应急目的"></a>3.1.3 挖矿程序应急目的</h3><ul>
<li>找出入侵原因</li>
<li>找到挖矿程序，并删除</li>
</ul>
<p>挖矿事件应急可能需要对样本进行分析，需要二进制的一些分析能力，通过提取样本后确认样本分类、行为、危害。</p>
<h2 id="3-2-勒索病毒事件应急"><a href="#3-2-勒索病毒事件应急" class="headerlink" title="3.2 勒索病毒事件应急"></a>3.2 勒索病毒事件应急</h2><h3 id="3-2-1-传播方式"><a href="#3-2-1-传播方式" class="headerlink" title="3.2.1 传播方式"></a>3.2.1 传播方式</h3><p>通常可能的传播方式：</p>
<ol>
<li>通过社工、钓鱼方式下载和运行了勒索程序（邮件、IM 等）</li>
<li>利用计算机系统远程代码执行漏洞下载、上传和执行勒索病毒</li>
<li>利用计算机 Web 或第三方软件漏洞获取计算机权限，然后下载和执行勒索病毒</li>
<li>利用弱口令进入计算机系统，下载和执行勒索病毒</li>
</ol>
<h3 id="3-2-2-勒索病毒特点"><a href="#3-2-2-勒索病毒特点" class="headerlink" title="3.2.2 勒索病毒特点"></a>3.2.2 勒索病毒特点</h3><ul>
<li>各种数据文件和可执行程序生成奇怪的后缀名；</li>
<li>明显的提示，要交赎金</li>
</ul>
<h3 id="3-3-3-勒索病毒应急目的"><a href="#3-3-3-勒索病毒应急目的" class="headerlink" title="3.3.3 勒索病毒应急目的"></a>3.3.3 勒索病毒应急目的</h3><ul>
<li>如果是重要数据，交付赎金恢复数据；</li>
<li>找到入侵的原因，排查同类漏洞，并进行加固（一般是重装）</li>
</ul>
<p>确认勒索病毒后要立即拔掉网线，限制传播范围。</p>
<h2 id="3-3-应急示例"><a href="#3-3-应急示例" class="headerlink" title="3.3 应急示例"></a>3.3 应急示例</h2><ul>
<li><a href="http://blog.nsfocus.net/emergency-response-case-study/">http://blog.nsfocus.net/emergency-response-case-study/</a></li>
<li><a href="https://blog.csdn.net/qq_27446553/article/details/81102198">https://blog.csdn.net/qq_27446553/article/details/81102198</a><br>  <a href="http://vinc.top/2017/05/03/windows%E5%BA%94%E6%80%A5%E5%93%8D%E5%BA%94%EF%BC%8820170503%EF%BC%89/">http://vinc.top/2017/05/03/windows%E5%BA%94%E6%80%A5%E5%93%8D%E5%BA%94%EF%BC%8820170503%EF%BC%89/</a></li>
<li><a href="https://mp.weixin.qq.com/s?src=11&amp;timestamp=1533106387&amp;ver=1033&amp;signature=8P*AjLzeMd*GnPg0SwF4o6I06Sx804FDLw6PUkEch4h8eCCyQEr8A9hbHaIHPrqR-WiIdoJPqMsmSVic4-gs*sd3j613UabGbt6z9mQT6p5fWutdawPYrht-VlixmLLS&amp;new=1">https://mp.weixin.qq.com/s?src=11×tamp=1533106387&amp;ver=1033&amp;signature=8P*AjLzeMd*GnPg0SwF4o6I06Sx804FDLw6PUkEch4h8eCCyQEr8A9hbHaIHPrqR-WiIdoJPqMsmSVic4-gs*sd3j613UabGbt6z9mQT6p5fWutdawPYrht-VlixmLLS&amp;new=1</a></li>
<li><a href="https://mp.weixin.qq.com/s?src=11&amp;timestamp=1533106458&amp;ver=1033&amp;signature=8P*AjLzeMd*GnPg0SwF4o6I06Sx804FDLw6PUkEch4hJcF-gDfZJVqz2bzHZt6fF*EmCrKm*DXOl3CMpdqrFZwBPOuAKr1TQcF7qG2x72YvsE8D1nglxXyYenvA2HLqY&amp;new=1">https://mp.weixin.qq.com/s?src=11×tamp=1533106458&amp;ver=1033&amp;signature=8P*AjLzeMd*GnPg0SwF4o6I06Sx804FDLw6PUkEch4hJcF-gDfZJVqz2bzHZt6fF*EmCrKm*DXOl3CMpdqrFZwBPOuAKr1TQcF7qG2x72YvsE8D1nglxXyYenvA2HLqY&amp;new=1</a></li>
</ul>
<h1 id="4-Sysinternals-Utilities"><a href="#4-Sysinternals-Utilities" class="headerlink" title="4. Sysinternals Utilities"></a>4. Sysinternals Utilities</h1><p>工具中有些是命令行工具，有些是有 GUI 界面，作用：</p>
<ul>
<li>使用 Process Explorer 显示详细的流程和系统信息</li>
<li>使用 Process Monitor 捕获低级系统事件，并快速过滤输出以缩小根本原因</li>
<li>列出，分类和管理在您启动或登录计算机时运行的软件，或运行 Microsoft Office 或 Internet Explorer 时运行的软件</li>
<li>验证文件，正在运行的程序以及这些程序中加载的模块的数字签名</li>
<li>使用可以识别和清除恶意软件感染的 Autoruns，Process Explorer，Sigcheck 和 Process Monitor 功能</li>
<li>检查文件，密钥，服务，共享和其他对象的权限</li>
<li>使用 Sysmon 监控整个网络中与安全相关的事件</li>
<li>当进程满足指定条件时生成内存转储</li>
<li>远程执行进程，并关闭远程打开的文件</li>
<li>管理 Active Directory 对象并跟踪 LDAP API 调用</li>
<li>捕获有关处理器，内存和时钟的详细数据</li>
<li>对无法启动的设备，文件使用中的错误，无法解释的通信以及许多其他问题进行故障排除</li>
<li>了解其他地方没有详细记录的 Windows 核心概念</li>
</ul>
<p>下载：<a href="https://docs.microsoft.com/en-us/sysinternals/downloads/">https://docs.microsoft.com/en-us/sysinternals/downloads/</a></p>
<h2 id="4-1-常用工具介绍"><a href="#4-1-常用工具介绍" class="headerlink" title="4.1 常用工具介绍"></a>4.1 常用工具介绍</h2><h3 id="4-1-1-autoruns"><a href="#4-1-1-autoruns" class="headerlink" title="4.1.1 autoruns"></a>4.1.1 autoruns</h3><p>可以方便的查看自启动、计划任务和运行服务，通过关联右键菜单可以获取更详细的内容。</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-16_202308161131696.png"></p>
<h3 id="4-1-2-procexp"><a href="#4-1-2-procexp" class="headerlink" title="4.1.2 procexp"></a>4.1.2 procexp</h3><p>查看进程的工具。</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-16_202308161132524.png"></p>
<h3 id="4-1-3-ADExplorer"><a href="#4-1-3-ADExplorer" class="headerlink" title="4.1.3 ADExplorer"></a>4.1.3 ADExplorer</h3><p>Active Directory Explorer（AD Explorer）是一种高级 Active Directory（AD）查看器和编辑器。 您可以使用 AD Explorer 轻松导航 AD 数据库，定义收藏位置，查看对象属性和属性，而无需打开对话框，编辑权限，查看对象的架构，以及执行可以保存和重新执行的复杂搜索。</p>
<p>AD Explorer 还包括保存 AD 数据库快照以进行脱机查看和比较的功能。 加载已保存的快照时，您可以像实时数据库一样导航和浏览它。 如果您有两个 AD 数据库快照，则可以使用 AD Explorer 的比较功能查看它们之间更改的对象，属性和安全权限。</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-16_202308161132804.png"></p>
<h3 id="4-1-4-TCPView"><a href="#4-1-4-TCPView" class="headerlink" title="4.1.4 TCPView"></a>4.1.4 TCPView</h3><p>查看网络连接情况</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-16_202308161146565.png"></p>
<h3 id="4-1-5-PSExec"><a href="#4-1-5-PSExec" class="headerlink" title="4.1.5 PSExec"></a>4.1.5 PSExec</h3><p>像 Telnet 这样的实用程序和 Symantec 的 PC Anywhere 等远程控制程序允许您在远程系统上执行程序，但是设置起来很麻烦，并且要求您在要访问的远程系统上安装客户端软件。 PsExec 是一种轻量级的 telne t 替代品，可让您在其他系统上执行进程，完成控制台应用程序的完全交互，而无需手动安装客户端软件。 PsExec 最强大的用途包括在远程系统上启动交互式命令提示和 IpConfig 等远程启用工具，否则它们无法显示有关远程系统的信息。</p>
<p>使用可以参考：<a href="https://www.itprotoday.com/management-mobility/psexec">https://www.itprotoday.com/management-mobility/psexec</a></p>
<h3 id="4-1-6-LogonSessions"><a href="#4-1-6-LogonSessions" class="headerlink" title="4.1.6 LogonSessions"></a>4.1.6 LogonSessions</h3><p>列出了当前活动的登录会话，如果指定 - p 选项，则列出每个会话中运行的进程。</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-16_202308161132801.png"></p>
<h2 id="4-2-Troubleshooting-with-the-Windows-Sysinternals-Tools-2nd-Edition"><a href="#4-2-Troubleshooting-with-the-Windows-Sysinternals-Tools-2nd-Edition" class="headerlink" title="4.2 Troubleshooting with the Windows Sysinternals Tools 2nd Edition"></a>4.2 Troubleshooting with the Windows Sysinternals Tools 2nd Edition</h2><p>这是一本书，介绍 Sysinternals 工具集的使用。</p>
<h1 id="5-其他"><a href="#5-其他" class="headerlink" title="5. 其他"></a>5. 其他</h1><ul>
<li>关注近期的安全事件趋势，定期查看 CNCERT 的安全报告，其他一些杀毒软件公司的论坛也要关注；</li>
<li>结合近期的应急，对每次应急出现的新状况进行总结分析，一段时间内的应急需求基本是一致的；</li>
<li>关注几个威胁情报中心，可以分析域名、IP、文件 MD5，比较方便判断攻击方式；</li>
<li>准备好杀毒盘和 Live 盘，可以利用 U 盘做一个专用的应急响应工具包</li>
<li> Webshell 查杀<ul>
<li> D 盾_Web 查杀：<a href="http://www.d99net.net/index.asp">http://www.d99net.net/index.asp</a></li>
<li> 河马 webshell 查杀：<a href="http://www.shellpub.com/">http://www.shellpub.com</a></li>
<li> 深信服 Webshell 网站后门检测工具：<a href="http://edr.sangfor.com.cn/backdoor_detection.html">http://edr.sangfor.com.cn/backdoor_detection.html</a></li>
</ul>
</li>
<li> 勒索软件基本没有办法，重要数据只能交赎金，不过也是有些特定的勒索病毒能恢复文件</li>
<li>如果未作 Windows 的日志集中化 ，如果入侵删掉所有日志， 大部分情况下只能呵呵，查一下可能的入侵链路上的其他设备、同网段设备有什么日志；</li>
<li>弱口令是很常见的入侵事件原因；</li>
<li>眼见为实，证据说话，不要被客户诱导；</li>
<li>Windows 的攻击方式可以了解一下 <a href="https://attack.mitre.org/wiki/Windows_Technique_Matrix">ATT&amp;CK 矩阵</a></li>
</ul>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-08-16_202308161133896.png"></p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><ul>
<li><a href="https://mp.weixin.qq.com/s/17L_fQJ1qjSvt8UL7VSemg">https://mp.weixin.qq.com/s/17L_fQJ1qjSvt8UL7VSemg</a></li>
<li><a href="https://sect.iij.ad.jp/d/2018/05/044132/training_material_sample_for_eventlog_analysis.pdf">https://sect.iij.ad.jp/d/2018/05/044132/training_material_sample_for_eventlog_analysis.pdf</a></li>
<li><a href="https://www.jianshu.com/p/15310fd23f54">https://www.jianshu.com/p/15310fd23f54</a></li>
<li><a href="https://www.sans.org/course/windows-forensic-analysis">https://www.sans.org/course/windows-forensic-analysis</a></li>
<li><a href="https://www.sans.org/reading-room/whitepapers/forensics/live-response-powershell-34302">https://www.sans.org/reading-room/whitepapers/forensics/live-response-powershell-34302</a></li>
</ul>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4>]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>windows</tag>
      </tags>
  </entry>
  <entry>
    <title>LINUX 百度网盘 bypy 笔记</title>
    <url>/2023/08/14/LINUX%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98bypy%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<h4 id="安装bypy"><a href="#安装bypy" class="headerlink" title="安装bypy"></a>安装 bypy</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">pip install bypy</span><br></pre></td></tr></tbody></table></figure>

<h4 id="先执行根据提示的URL绑定网盘帐号"><a href="#先执行根据提示的URL绑定网盘帐号" class="headerlink" title="先执行根据提示的URL绑定网盘帐号"></a>先执行根据提示的 URL 绑定网盘帐号</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">bypy info </span><br></pre></td></tr></tbody></table></figure>

<h4 id="如需解除绑定删除-bypy-下的文件"><a href="#如需解除绑定删除-bypy-下的文件" class="headerlink" title="如需解除绑定删除~/.bypy/下的文件"></a>如需解除绑定删除～/.bypy/ 下的文件</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">bypy -c </span><br></pre></td></tr></tbody></table></figure>

<h4 id="上传文件"><a href="#上传文件" class="headerlink" title="上传文件"></a>上传文件</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">bypy upload 文件名 </span><br></pre></td></tr></tbody></table></figure>

<h4 id="下载文件"><a href="#下载文件" class="headerlink" title="下载文件"></a>下载文件</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">bypy downfile 文件名 </span><br></pre></td></tr></tbody></table></figure>

<h4 id="当前目录同步到云盘"><a href="#当前目录同步到云盘" class="headerlink" title="当前目录同步到云盘"></a>当前目录同步到云盘</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># 结尾加True参数表示会删除云盘和本地不一致文件</span><br><span class="line">#--processes 5 代表使用5个进程</span><br><span class="line"> bypy --processes 5  syncup /mnt/music music True</span><br></pre></td></tr></tbody></table></figure>

<h4 id="云盘内容同步到本地"><a href="#云盘内容同步到本地" class="headerlink" title="云盘内容同步到本地"></a>云盘内容同步到本地</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">bypy syncdown --downloader aria2 或者 bypy downdir / --downloader aria2 </span><br></pre></td></tr></tbody></table></figure>

<h4 id="比较本地当前目录和云盘"><a href="#比较本地当前目录和云盘" class="headerlink" title="比较本地当前目录和云盘"></a>比较本地当前目录和云盘</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">bypy compare </span><br></pre></td></tr></tbody></table></figure>

<h4 id="远端创建文件夹tmp"><a href="#远端创建文件夹tmp" class="headerlink" title="远端创建文件夹tmp"></a>远端创建文件夹 tmp</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">bypy mkdir tmp/bypy </span><br></pre></td></tr></tbody></table></figure>

<h4 id="使用Cookie"><a href="#使用Cookie" class="headerlink" title="使用Cookie"></a>使用 Cookie</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">bypy -c /data/bypy/cookie.txt -l 下载URL</span><br></pre></td></tr></tbody></table></figure>

<h4 id="使用多线程上传下载"><a href="#使用多线程上传下载" class="headerlink" title="使用多线程上传下载"></a>使用多线程上传下载</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">bypy --processes 5 syncup /mnt/music  music</span><br></pre></td></tr></tbody></table></figure>

<h4 id="EXAMPLE例子："><a href="#EXAMPLE例子：" class="headerlink" title="EXAMPLE例子："></a>EXAMPLE 例子：</h4><p>将本地 123.txt 文件上传到云盘我的应用程序 (apps) /bypy/cloud 文件夹内</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">bypy-v  upload ./123.txt /cloud </span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>运行时添加 - v 参数，会显示进度详情。<br>运行时添加 - d，会显示一些调试信息。<br>运行时添加 - ddd，还会会显示 HTTP 通讯信息（<strong>警告：非常多</strong>）</p>
</blockquote>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Rsync 笔记</title>
    <url>/2023/08/14/Rsync%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">yum install rsync</span><br></pre></td></tr></tbody></table></figure>

<h3 id="服务端配置"><a href="#服务端配置" class="headerlink" title="服务端配置"></a>服务端配置</h3><h4 id="编辑配置文件-etc-rsyncd-conf"><a href="#编辑配置文件-etc-rsyncd-conf" class="headerlink" title="编辑配置文件  /etc/rsyncd.conf"></a>编辑配置文件  <code>/etc/rsyncd.conf</code></h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># 配置用户和用户组</span><br><span class="line">uid = 0</span><br><span class="line">gid = 0</span><br><span class="line"># 允许chroot，提升安全性，客户端连接模块，首先chroot到模块path参数指定的目录下，chroot为yes时必须使用root权限，且不能备份path路径外的链接文件</span><br><span class="line">use chroot = yes</span><br><span class="line"># 设定白名单，可以指定IP段（172.18.50.1/255.255.255.0）,各个Ip段用空格分开</span><br><span class="line"># 例: hosts allow = 172.18.50.110 172.18.50.111 20.0.0.0/24</span><br><span class="line">hosts allow = 10.10.20.102</span><br><span class="line">hosts deny = *</span><br><span class="line"># 端口号配置可不配默认873</span><br><span class="line">port 873</span><br><span class="line"># 允许的客户端最大连接数</span><br><span class="line">max connections = 4</span><br><span class="line"># 记录传输文件日志</span><br><span class="line">transfer logging = yes</span><br><span class="line"># 日志文件格式</span><br><span class="line">log format = %t %a %m %f %b</span><br><span class="line"># 指定日志文件</span><br><span class="line">log file = /var/log/rsync.log</span><br><span class="line"># 剔除某些文件或目录，不同步</span><br><span class="line">exclude = lost+found/</span><br><span class="line"># 设置超时时间</span><br><span class="line">timeout = 900</span><br><span class="line">ignore nonreadable = yes</span><br><span class="line"># 设置不需要压缩的文件</span><br><span class="line">dont compress = *.gz *.tgz *.zip *.z *.Z *.rpm *.deb *.bz2</span><br><span class="line"></span><br><span class="line">[gitlab]</span><br><span class="line"># 模块的根目录，同步目录，要注意权限</span><br><span class="line">path = /data/gitlab/logs/</span><br><span class="line"># 配置权限 (no=写，yes=只读)</span><br><span class="line">read only = no</span><br><span class="line"># 是否允许列出模块内容</span><br><span class="line">list = no</span><br><span class="line"># 忽略错误</span><br><span class="line">ignore errors</span><br><span class="line"># 添加注释</span><br><span class="line">comment = ftp export area</span><br><span class="line"># 模块验证的用户名称，可使用空格或者逗号隔开多个用户名</span><br><span class="line">auth users = gitlab</span><br><span class="line"># 模块验证密码文件 可放在全局配置里</span><br><span class="line">secrets file = /etc/rsync/rsyncd.secrets</span><br><span class="line"># 剔除某些文件或目录，不同步</span><br><span class="line">include=huifu*.txt</span><br><span class="line">exclude=*</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<h4 id="配置密码文件"><a href="#配置密码文件" class="headerlink" title="配置密码文件"></a>配置密码文件</h4><blockquote>
<p>模块验证密码文件 可放在全局配置里 (注意：密码里的用户名要与主配置文件里的用户匹配)</p>
<p>secrets file = /etc/rsync/rsyncd.secrets</p>
</blockquote>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">echo "gitlab:password" &gt;&gt; /etc/rsync/rsyncd.secrets</span><br><span class="line">chmod 600 /etc/rsync/rsyncd.secrets</span><br></pre></td></tr></tbody></table></figure>

<h4 id="启动rsync服务"><a href="#启动rsync服务" class="headerlink" title="启动rsync服务"></a>启动 rsync 服务</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">systemctl start rsyncd &amp;&amp; systemctl enable rsyncd</span><br></pre></td></tr></tbody></table></figure>

<h3 id="客户端使用"><a href="#客户端使用" class="headerlink" title="客户端使用"></a>客户端使用</h3><h4 id="只读取rsync内容不同步"><a href="#只读取rsync内容不同步" class="headerlink" title="只读取rsync内容不同步"></a>只读取 rsync 内容不同步</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">rsync --list-only rsync@192.168.1.1::xuexi</span><br></pre></td></tr></tbody></table></figure>

<h4 id="使用密码文件同步"><a href="#使用密码文件同步" class="headerlink" title="使用密码文件同步"></a>使用密码文件同步</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">rsync --list-only rsync@192.168.1.1::xuexi --password-file=d:\ttt\rsync.ps</span><br></pre></td></tr></tbody></table></figure>

<h4 id="windows下rsync的路径表示"><a href="#windows下rsync的路径表示" class="headerlink" title="windows下rsync的路径表示"></a>windows 下 rsync 的路径表示</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">/cygdrive/c/windows/system</span><br></pre></td></tr></tbody></table></figure>

<h4 id="rsync拉取到本地"><a href="#rsync拉取到本地" class="headerlink" title="rsync拉取到本地"></a>rsync 拉取到本地</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">rsync -auv rsync@192.168.1.1::xuexi --password-file=d:\ttt\rsync.ps /cygdrive/c/windows/system</span><br></pre></td></tr></tbody></table></figure>

<h4 id="rsync推送到远程"><a href="#rsync推送到远程" class="headerlink" title="rsync推送到远程"></a>rsync 推送到远程</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">rsync -auv /cygdrive/c/windows/system rsync@192.168.1.1::xuexi --password-file=d:\ttt\rsync.ps </span><br></pre></td></tr></tbody></table></figure>

<h4 id="二终端是否保持一致"><a href="#二终端是否保持一致" class="headerlink" title="二终端是否保持一致"></a>二终端是否保持一致</h4><blockquote>
<p>–delete</p>
</blockquote>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">rsync -auv --delete /cygdrive/c/windows/system rsync@192.168.1.1::xuexi --password-file=d:\ttt\rsync.ps </span><br></pre></td></tr></tbody></table></figure>

<h4 id="排除文件及文件夹"><a href="#排除文件及文件夹" class="headerlink" title="排除文件及文件夹"></a>排除文件及文件夹</h4><blockquote>
<p>–exclude 多个排除可以用 {‘排除一’,’排除二’,’排除三’}<br>–exclude-from ‘/home/backup/exclude.txt’</p>
</blockquote>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">rsync -auv --exclude={'.svn','zingnext-srm/site'} /cygdrive/c/windows/system rsync@192.168.1.1::xuexi --password-file=d:\ttt\rsync.ps </span><br><span class="line"></span><br><span class="line"># exclude.txt 每行一个排除项</span><br><span class="line">rsync -auv --exclude-from '/home/backup/exclude.txt' /cygdrive/c/windows/system rsync@192.168.1.1::xuexi --password-file=d:\ttt\rsync.ps </span><br></pre></td></tr></tbody></table></figure>
<p>指定要同步的文件及文件夹</p>
<blockquote>
<p>–include </p>
</blockquote>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">rsync -auv --include="system*.txt" --exclude="*" /cygdrive/c/windows/system rsync@192.168.1.1::xuexi --password-file=d:\ttt\rsync.ps </span><br></pre></td></tr></tbody></table></figure>

<h4 id="显示同步进度"><a href="#显示同步进度" class="headerlink" title="显示同步进度"></a>显示同步进度</h4><blockquote>
<p>–progress</p>
</blockquote>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">rsync -auv --progress /cygdrive/c/windows/system rsync@192.168.1.1::xuexi --password-file=d:\ttt\rsync.ps</span><br></pre></td></tr></tbody></table></figure>

<h4 id="指定同步端口"><a href="#指定同步端口" class="headerlink" title="指定同步端口"></a>指定同步端口</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">rsync -auv --port=8730 /cygdrive/c/windows/system rsync@192.168.1.1::xuexi --password-file=d:\ttt\rsync.ps</span><br></pre></td></tr></tbody></table></figure>

<h4 id="不要在目标终端上新建文件–existing"><a href="#不要在目标终端上新建文件–existing" class="headerlink" title="不要在目标终端上新建文件–existing"></a>不要在目标终端上新建文件–existing</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">rsync -auv --existing /cygdrive/c/windows/system rsync@192.168.1.1::xuexi --password-file=d:\ttt\rsync.ps</span><br></pre></td></tr></tbody></table></figure>

<h4 id="常用同步项"><a href="#常用同步项" class="headerlink" title="常用同步项"></a>常用同步项</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">#-a 代表：递归模式  保存符号链接  保留权限  保留时间戳  保存所有者和组</span><br><span class="line">#-u 同步时不覆盖目的文件，只做更新   </span><br><span class="line">#-v 显示详细信息</span><br><span class="line">#-z 传输时启用压缩</span><br><span class="line">#-W 按块传输整个文件，传送小文件会很合适。</span><br><span class="line"></span><br><span class="line">rsync -auv /cygdrive/c/windows/system rsync@192.168.1.1::xuexi --password-file=d:\ttt\rsync.ps</span><br><span class="line"></span><br><span class="line">#-d 仅同步目录权 </span><br><span class="line">rsync -auv -d /cygdrive/c/windows/system rsync@192.168.1.1::xuexi --password-file=d:\ttt\rsync.ps</span><br></pre></td></tr></tbody></table></figure>

<h4 id="指定传输文件大小"><a href="#指定传输文件大小" class="headerlink" title="指定传输文件大小"></a>指定传输文件大小</h4><blockquote>
<p>–max-size=”50K”  使 rsync 仅传输小于或等于 50K 的文件。您可以将 M 表示为兆字节，G 表示千兆字节。</p>
</blockquote>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">rsync -auv --max-size="50K" /cygdrive/c/windows/system rsync@192.168.1.1::xuexi --password-file=d:\ttt\rsync.ps</span><br></pre></td></tr></tbody></table></figure>

<hr>
<h3 id="附件"><a href="#附件" class="headerlink" title="附件"></a>附件</h3><h4 id="cwrsync服务端和客户端"><a href="#cwrsync服务端和客户端" class="headerlink" title="cwrsync服务端和客户端"></a><a href="https://host.zealot.top:9090/soft/cwRsync%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%92%8C%E5%AE%A2%E6%88%B7%E7%AB%AFV4.1.0.rar">cwrsync 服务端和客户端</a></h4>]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
  </entry>
  <entry>
    <title>PVE7.3 下折腾核显直通以及 EMBY 开启视频硬件转码</title>
    <url>/2023/02/07/PVE7-3%E4%B8%8B%E6%8A%98%E8%85%BE%E6%A0%B8%E6%98%BE%E7%9B%B4%E9%80%9A%E4%BB%A5%E5%8F%8AEMBY%E5%BC%80%E5%90%AF%E8%A7%86%E9%A2%91%E7%A1%AC%E4%BB%B6%E8%BD%AC%E7%A0%81/</url>
    <content><![CDATA[<p>硬件环境 j：n6005 主板 NAS</p>
<p>软件环境：Proxmox VE7.3 虚拟机上直通硬盘跑了 truenas scale 22.12.0，开通 samba 共享和 nfs 共享，做为数据存储中心。另外再跑了一个 debian11 用来跑各种应用。nas-tools，qbittorent，emby，ddns-go 这些。因为 emby 不开启硬解，在转码的时候非常占用 cpu 资源，于是有了这一篇折腾笔记。</p>
<h3 id="开启PVE虚拟化"><a href="#开启PVE虚拟化" class="headerlink" title="开启PVE虚拟化"></a>开启 PVE 虚拟化</h3><h4 id="1、PVE的内核开启支持VD-T直通的IOMMU及相关模块"><a href="#1、PVE的内核开启支持VD-T直通的IOMMU及相关模块" class="headerlink" title="1、PVE的内核开启支持VD-T直通的IOMMU及相关模块"></a>1、PVE 的内核开启支持 VD-T 直通的 IOMMU 及相关模块</h4><p>文件位于：</p>
<blockquote>
<p>/etc/default/grub</p>
</blockquote>
<p>把原内容中</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">GRUB_CMDLINE_LINUX_DEFAULT="quiet"</span><br></pre></td></tr></tbody></table></figure>

<p>改为（我的是 intel 的 cpu，如果你用 amd，把 intel 改成 amd）</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">GRUB_CMDLINE_LINUX_DEFAULT="quiet intel_iommu=on iommu=pt"</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-02-6_202302061843251.png"></p>
<p>然后在 ssh 下输入 <code>update-grub2</code> 立即更新 grub；</p>
<h4 id="2、编辑-etc-modules-模块文件"><a href="#2、编辑-etc-modules-模块文件" class="headerlink" title="2、编辑&nbsp;/etc/modules 模块文件"></a>2、编辑&nbsp;<strong>/etc/modules</strong> 模块文件</h4><p>如果系统没有此文件，则自己建立一个，加上以下代码</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">vfio</span><br><span class="line">vfio_iommu_type1</span><br><span class="line">vfio_pci</span><br><span class="line">vfio_virqfd &nbsp; &nbsp;</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-02-7_202302071641495.png"></p>
<h4 id="3、-验证是否开启成功"><a href="#3、-验证是否开启成功" class="headerlink" title="3、 验证是否开启成功"></a>3、 验证是否开启成功</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">dmesg | grep remapping</span><br></pre></td></tr></tbody></table></figure>

<p>出现如下例子，则代表成功。</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-02-6_202302061842259.png"></p>
<h3 id="显卡直通"><a href="#显卡直通" class="headerlink" title="显卡直通"></a>显卡直通</h3><p>显卡直通需要满足前面所有的配置，同时虚拟机芯片组必须是 q35，BIOS 最好是 UEFI 模式 AMD 的显卡如果给黑苹果使用，则需要小心重启 bug NVIDIA 的显卡如果支持 vGPU 模式，可以配置虚拟 PCI-E 设备给虚拟机使用</p>
<h4 id="1、建立驱动黑名单"><a href="#1、建立驱动黑名单" class="headerlink" title="1、建立驱动黑名单"></a>1、建立驱动黑名单</h4><p>编辑 /etc/modprobe.d/pve-blacklist.conf 添加驱动屏蔽列表</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># This file contains a list of modules which are not supported by Proxmox VE                          2</span><br><span class="line"># nidiafb see bugreport https://bugzilla.proxmox.com/show_bug.cgi?id=701</span><br><span class="line"></span><br><span class="line"># Nvidia</span><br><span class="line">blacklist nvidiafb</span><br><span class="line">blacklist nouveau</span><br><span class="line">blacklist nvidia</span><br><span class="line"></span><br><span class="line"># AMD</span><br><span class="line">blacklist amdgpu</span><br><span class="line">blacklist radeon</span><br><span class="line"></span><br><span class="line"># Intel UHD</span><br><span class="line">blacklist snd_hda_codec_hdmi</span><br><span class="line">blacklist snd_hda_intel</span><br><span class="line">blacklist snd_hda_codec</span><br><span class="line">blacklist snd_hda_core</span><br><span class="line"></span><br><span class="line">options nouveau modeset=0</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>2、GPU 信息确认<br>在 ssh 下输入命令 <code>lspci -knn | grep -i -A 2 vga</code>，查看你要直通的显卡</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-02-7_202302071456424.png"></p>
<p>其中 00:01 是代表组名。00:01.0 是代表 00:01 组的第一个设备 laf4:1100 表示厂商 ID: 设备 ID，直接通过 lspci 看的话可以看到音频设备甚至是 USB 设备 这里我因为不需要对当前 PCI-E 设备组再拆分，所以直接略过</p>
<p>如果你需要设置显卡显示设备和音频设备单独直通，需要执行下面语句 让 PCI-E 设备（显卡）由 vfio 驱动程序接管便于直通 如果不需要单独直通，vfio 驱动会在设置直通的时候自动接管 PCI-E 设备，可以不用配置 vfio-pci</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">echo "options vfio-pci ids=1234:1111,laf4:1100" &gt; /etc/modprobe.d/vfio.conf</span><br><span class="line">#注意，上面这条命令，ids=后面跟直通组的所有设备。中间以英文逗号隔开。自己的设备自己替换。</span><br></pre></td></tr></tbody></table></figure>

<h3 id="更新引导配置"><a href="#更新引导配置" class="headerlink" title="更新引导配置"></a>更新引导配置</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">update-initramfs -u -k all</span><br></pre></td></tr></tbody></table></figure>

<h3 id="重启PVE"><a href="#重启PVE" class="headerlink" title="重启PVE"></a>重启 PVE</h3><p>验证 PCI-E 显卡是否被 vfio-pci 驱动，Kernel driver in use: vfio-pci 表示直通驱动成功</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">lspci -knn | grep -i -A 2 vga</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-02-7_202302071642207.png"></p>
<h3 id="虚拟机直通显卡"><a href="#虚拟机直通显卡" class="headerlink" title="虚拟机直通显卡"></a>虚拟机直通显卡</h3><p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-02-7_202302071645354.png"></p>
<p>然后开机，注意：由于显卡已经直通，所以 VNC 查看时，是没有介面的。</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-02-7_202302071518067.png"></p>
<p>此时再 ssh 到 debian 虚拟机上就可以看到直通的显卡了</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-02-7_202302071520565.png"></p>
<p>剩下的就简单了。</p>
<p>用 docker-compose 把 emby 跑起来，我用的是 xinjiawei1 大大的镜像直接 unlockd 了。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">version: "2.1"</span><br><span class="line">services:</span><br><span class="line">  emby:</span><br><span class="line">    #    image: linuxserver/emby:latest</span><br><span class="line">    image: xinjiawei1/emby_unlockd:4.7.11.0</span><br><span class="line">    container_name: emby</span><br><span class="line">    environment:</span><br><span class="line">      - PUID=1000</span><br><span class="line">      - PGID=1000</span><br><span class="line">      - TZ=Asia/Shanghai</span><br><span class="line">    volumes:</span><br><span class="line">      - /data/emby/config:/config</span><br><span class="line">      - /mnt/video:/data/video</span><br><span class="line">    ports:</span><br><span class="line">      - 8096:8096</span><br><span class="line">    devices:</span><br><span class="line">      - /dev/dri:/dev/dri  #把显卡映射到容器里</span><br><span class="line">    restart: unless-stopped</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>最后就是成果</p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-02-7_202302071528428.png"></p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-02-7_202302071527494.png"></p>
<p><img src="https://host.zealot.top:8929/ppi/images/raw/master/pictures/2023-02-7_202302071529102.png"></p>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
  </entry>
  <entry>
    <title>you-get 使用方法</title>
    <url>/2022/09/15/you-get%E4%B8%8B%E8%BD%BDbilibili%E7%AD%89%E8%A7%86%E9%A2%91/</url>
    <content><![CDATA[<h3 id="准备环境"><a href="#准备环境" class="headerlink" title="准备环境"></a>准备环境</h3><h4 id="1-安装python"><a href="#1-安装python" class="headerlink" title="1. 安装python"></a>1. 安装 python</h4><p>python 下载地址 <a href="https://www.python.org/downloads/">https://www.python.org/downloads/</a></p>
<h4 id="2-安装ffmpge"><a href="#2-安装ffmpge" class="headerlink" title="2. 安装ffmpge"></a>2. 安装 ffmpge</h4><p>ffmpge 下载地址 <a href="https://github.com/BtbN/FFmpeg-Builds/releases">https://github.com/BtbN/FFmpeg-Builds/releases</a></p>
<h4 id="3-windows下要配置执行路径到环境变量"><a href="#3-windows下要配置执行路径到环境变量" class="headerlink" title="3. windows下要配置执行路径到环境变量"></a>3. windows 下要配置执行路径到环境变量</h4><h3 id="you-get安装"><a href="#you-get安装" class="headerlink" title="you-get安装"></a>you-get 安装</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">pip install you-get</span><br><span class="line">#或者</span><br><span class="line">python -m pip install you-get</span><br></pre></td></tr></tbody></table></figure>
<h3 id="参数说明："><a href="#参数说明：" class="headerlink" title="参数说明："></a>参数说明：</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">you-get -i URL  #显示该视频信息等</span><br><span class="line">you-get -l URL   #开启列表下载</span><br><span class="line">you-get -o d:\test URL     #-o 指定文件存放位置</span><br><span class="line">you-get -F 指定下载的分辨率</span><br><span class="line">you-get -V 打印版本号</span><br><span class="line">you-get -c COOKIES_FILE 加载cookies</span><br><span class="line">you-get -I file 从文件读取列表url</span><br><span class="line">you-get -a 自动重命名不同文件的相同名称</span><br><span class="line">you-get -k 忽略ssl错误</span><br><span class="line">you-get -s 127.0.0.1:1080 URL  使用代理下载</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h4 id="常用范例："><a href="#常用范例：" class="headerlink" title="常用范例："></a>常用范例：</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">you-get -l -F "dash-flv" -o d:\clzhu\downloads\目录  URL</span><br></pre></td></tr></tbody></table></figure>

<h3 id="关于超长字符下载失败的处理"><a href="#关于超长字符下载失败的处理" class="headerlink" title="关于超长字符下载失败的处理"></a>关于超长字符下载失败的处理</h3><p>查找 pyhotn <code>Lib/site-packages/you_get/util/</code> 目录下的 <code>fs.py</code> 文件。<br>只要修改倒数第二行代码里面的一个数字： 将 80 改为 240</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">text = text[:80] # Trim to 82 Unicode characters long</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
  </entry>
  <entry>
    <title>微软 KMS 服务器搭建及使用</title>
    <url>/2022/09/13/%E5%BE%AE%E8%BD%AFKMS%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h3 id="KMS激活服务器搭建"><a href="#KMS激活服务器搭建" class="headerlink" title="KMS激活服务器搭建"></a><strong>KMS 激活服务器搭建</strong></h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker run -d -p 1688:1688 --restart=always --name vlmcsd mikolatero/vlmcsd</span><br></pre></td></tr></tbody></table></figure>

<h3 id="Office零售版转VOL"><a href="#Office零售版转VOL" class="headerlink" title="Office零售版转VOL"></a>Office 零售版转 VOL</h3><p><a href="https://github.com/xmzcl/office-C2R-to-VOL">https://github.com/xmzcl/office-C2R-to-VOL</a></p>
<h3 id="激活命令"><a href="#激活命令" class="headerlink" title="激活命令"></a>激活命令</h3><h4 id="office-x64激活"><a href="#office-x64激活" class="headerlink" title="office_x64激活"></a>office_x64 激活</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">cd C:\Program Files\Microsoft Office\Office16</span><br><span class="line">CSCRIPT OSPP.VBS /SETHST:host.zealot.top</span><br><span class="line">cscript /nologo ospp.vbs /inpkey:FXYTK-NJJ8C-GB6DW-3DYQT-6F7TH</span><br><span class="line">CSCRIPT OSPP.VBS /ACT</span><br><span class="line">CSCRIPT OSPP.VBS /DSTATUS</span><br></pre></td></tr></tbody></table></figure>
<h4 id="office-x86激活"><a href="#office-x86激活" class="headerlink" title="office_x86激活"></a>office_x86 激活</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">cd \Program Files (x86)\Microsoft Office\Office16</span><br><span class="line">cscript ospp.vbs /sethst:host.zealot.top</span><br><span class="line">cscript ospp.vbs /inpkey:xxxxx-xxxxx-xxxxx-xxxxx-xxxxx</span><br><span class="line">cscript ospp.vbs /act</span><br><span class="line">cscript ospp.vbs /dstatusall</span><br></pre></td></tr></tbody></table></figure>
<h4 id="windows激活"><a href="#windows激活" class="headerlink" title="windows激活"></a>windows 激活</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">cd C:\Windows\System32</span><br><span class="line">CSCRIPT /NOLOGO SLMGR.VBS /SKMS host.zealot.top</span><br><span class="line">cscript /nologo c:\windows\system32\slmgr.vbs -upk</span><br><span class="line">cscript /nologo c:\windows\system32\slmgr.vbs -ipk D2N9P-3P6X9-2R39C-7RTCD-MDVJX</span><br><span class="line">CSCRIPT /NOLOGO SLMGR.VBS /ATO</span><br><span class="line">CSCRIPT /NOLOGO SLMGR.VBS /XPR</span><br><span class="line">CSCRIPT /NOLOGO SLMGR.VBS /dlv</span><br></pre></td></tr></tbody></table></figure>
<h3 id="KMS激活码"><a href="#KMS激活码" class="headerlink" title="KMS激活码"></a>KMS 激活码</h3><h4 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h4><h5 id="Windows-Server-2022"><a href="#Windows-Server-2022" class="headerlink" title="Windows Server 2022"></a>Windows Server 2022</h5><table>
<thead>
<tr>
<th>操作系统版本</th>
<th> KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td> Windows Server 2022 Datacenter</td>
<td>WX4NM-KYWYW-QJJR4-XV3QB-6VM33</td>
</tr>
<tr>
<td>Windows Server 2022 Standard</td>
<td>VDYBN-27WPP-V4HQT-9VMD4-VMK7H</td>
</tr>
</tbody></table>
<h5 id="Windows-Server-2019"><a href="#Windows-Server-2019" class="headerlink" title="Windows Server 2019"></a>Windows Server 2019</h5><table>
<thead>
<tr>
<th>操作系统版本</th>
<th> KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td> Windows Server 2019 Datacenter</td>
<td>WMDGN-G9PQG-XVVXX-R3X43-63DFG</td>
</tr>
<tr>
<td>Windows Server 2019 Standard</td>
<td>N69G4-B89J2-4G8F4-WWYCC-J464C</td>
</tr>
<tr>
<td>Windows Server 2019 Essentials</td>
<td>WVDHN-86M7X-466P6-VHXV7-YY726</td>
</tr>
</tbody></table>
<h5 id="Windows-Server-2016"><a href="#Windows-Server-2016" class="headerlink" title="Windows Server 2016"></a>Windows Server 2016</h5><table>
<thead>
<tr>
<th>操作系统版本</th>
<th> KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td> Windows Server 2016 Datacenter</td>
<td>CB7KF-BWN84-R7R2Y-793K2-8XDDG</td>
</tr>
<tr>
<td>Windows Server 2016 Standard</td>
<td>WC2BQ-8NRM3-FDDYY-2BFGV-KHKQY</td>
</tr>
<tr>
<td>Windows Server 2016 Essentials</td>
<td>JCKRF-N37P4-C2D82-9YXRT-4M63B</td>
</tr>
</tbody></table>
<h5 id="Windows-Server-2012-R2"><a href="#Windows-Server-2012-R2" class="headerlink" title="Windows Server 2012 R2"></a>Windows Server 2012 R2</h5><table>
<thead>
<tr>
<th>操作系统版本</th>
<th> KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td> Windows Server 2012 R2 Standard</td>
<td>D2N9P-3P6X9-2R39C-7RTCD-MDVJX</td>
</tr>
<tr>
<td>Windows Server 2012 R2 Datacenter</td>
<td>W3GGN-FT8W3-Y4M27-J84CP-Q3VJ9</td>
</tr>
<tr>
<td>Windows Server 2012 R2 Essentials</td>
<td>KNC87-3J2TX-XB4WP-VCPJV-M4FWM</td>
</tr>
</tbody></table>
<h5 id="Windows-Server-2008-R2"><a href="#Windows-Server-2008-R2" class="headerlink" title="Windows Server 2008 R2"></a>Windows Server 2008 R2</h5><table>
<thead>
<tr>
<th>操作系统版本</th>
<th> KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td> Windows Server 2008 R2 Web</td>
<td>6TPJF-RBVHG-WBW2R-86QPH-6RTM4</td>
</tr>
<tr>
<td>Windows Server 2008 R2 HPC edition</td>
<td>TT8MH-CG224-D3D7Q-498W2-9QCTX</td>
</tr>
<tr>
<td>Windows Server 2008 R2 Standard</td>
<td>YC6KT-GKW9T-YTKYR-T4X34-R7VHC</td>
</tr>
<tr>
<td>Windows Server 2008 R2 Enterprise</td>
<td>489J6-VHDMP-X63PK-3K798-CPX3Y</td>
</tr>
<tr>
<td>Windows Server 2008 R2 Datacenter</td>
<td>74YFP-3QFB3-KQT8W-PMXWJ-7M648</td>
</tr>
<tr>
<td>Windows Server 2008 R2 for Itanium-based Systems</td>
<td>GT63C-RJFQ3-4GMB6-BRFB9-CB83V</td>
</tr>
</tbody></table>
<h5 id="Windows-11-and-Windows-10-Semi-Annual-Channel-versions"><a href="#Windows-11-and-Windows-10-Semi-Annual-Channel-versions" class="headerlink" title="Windows 11 and Windows 10(Semi-Annual Channel versions)"></a>Windows 11 and Windows 10(Semi-Annual Channel versions)</h5><table>
<thead>
<tr>
<th>操作系统版本</th>
<th> KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td> Windows 11 Pro</td>
<td></td>
</tr>
<tr>
<td>Windows 10 Pro</td>
<td>W269N-WFGWX-YVC9B-4J6C9-T83GX</td>
</tr>
<tr>
<td>Windows 11 Pro N</td>
<td></td>
</tr>
<tr>
<td>Windows 10 Pro N</td>
<td>MH37W-N47XK-V7XM9-C7227-GCQG9</td>
</tr>
<tr>
<td>Windows 11 Pro for Workstations</td>
<td></td>
</tr>
<tr>
<td>Windows 10 Pro for Workstations</td>
<td>NRG8B-VKK3Q-CXVCJ-9G2XF-6Q84J</td>
</tr>
<tr>
<td>Windows 11 Pro for Workstations N</td>
<td></td>
</tr>
<tr>
<td>Windows 10 Pro for Workstations N</td>
<td>9FNHH-K3HBT-3W4TD-6383H-6XYWF</td>
</tr>
<tr>
<td>Windows 11 Pro Education</td>
<td></td>
</tr>
<tr>
<td>Windows 10 Pro Education</td>
<td>6TP4R-GNPTD-KYYHQ-7B7DP-J447Y</td>
</tr>
<tr>
<td>Windows 11 Pro Education N</td>
<td></td>
</tr>
<tr>
<td>Windows 10 Pro Education N</td>
<td>YVWGF-BXNMC-HTQYQ-CPQ99-66QFC</td>
</tr>
<tr>
<td>Windows 11 Education</td>
<td></td>
</tr>
<tr>
<td>Windows 10 Education</td>
<td>NW6C2-QMPVW-D7KKK-3GKT6-VCFB2</td>
</tr>
<tr>
<td>Windows 11 Education N</td>
<td></td>
</tr>
<tr>
<td>Windows 10 Education N</td>
<td>2WH4N-8QGBV-H22JP-CT43Q-MDWWJ</td>
</tr>
<tr>
<td>Windows 11 Enterprise</td>
<td></td>
</tr>
<tr>
<td>Windows 10 Enterprise</td>
<td>NPPR9-FWDCX-D2C8J-H872K-2YT43</td>
</tr>
<tr>
<td>Windows 11 Enterprise N</td>
<td></td>
</tr>
<tr>
<td>Windows 10 Enterprise N</td>
<td>DPH2V-TTNVB-4X9Q3-TJR4H-KHJW4</td>
</tr>
<tr>
<td>Windows 11 Enterprise G</td>
<td></td>
</tr>
<tr>
<td>Windows 10 Enterprise G</td>
<td>YYVX9-NTFWV-6MDM3-9PT4T-4M68B</td>
</tr>
<tr>
<td>Windows 11 Enterprise G N</td>
<td></td>
</tr>
<tr>
<td>Windows 10 Enterprise G N</td>
<td>44RPN-FTY23-9VTTB-MP9BX-T84FV</td>
</tr>
</tbody></table>
<h5 id="Windows-10-LTSC-2021-and-2019"><a href="#Windows-10-LTSC-2021-and-2019" class="headerlink" title="Windows 10 LTSC 2021 and 2019"></a>Windows 10 LTSC 2021 and 2019</h5><table>
<thead>
<tr>
<th>操作系统版本</th>
<th> KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td> Windows 10 Enterprise LTSC 2021</td>
<td></td>
</tr>
<tr>
<td>Windows 10 Enterprise LTSC 2019</td>
<td>M7XTQ-FN8P6-TTKYV-9D4CC-J462D</td>
</tr>
<tr>
<td>Windows 10 Enterprise N LTSC 2021</td>
<td></td>
</tr>
<tr>
<td>Windows 10 Enterprise N LTSC 2019</td>
<td>92NFX-8DJQP-P6BBQ-THF9C-7CG2H</td>
</tr>
</tbody></table>
<h5 id="Windows-10-LTSB-2016"><a href="#Windows-10-LTSB-2016" class="headerlink" title="Windows 10 LTSB 2016"></a>Windows 10 LTSB 2016</h5><table>
<thead>
<tr>
<th>操作系统版本</th>
<th> KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td> Windows 10 Enterprise LTSB 2016</td>
<td>DCPHK-NFMTC-H88MJ-PFHPY-QJ4BJ</td>
</tr>
<tr>
<td>Windows 10 Enterprise N LTSB 2016</td>
<td>QFFDN-GRT3P-VKWWX-X7T3R-8B639</td>
</tr>
</tbody></table>
<h5 id="Windows-10-LTSB-2015"><a href="#Windows-10-LTSB-2015" class="headerlink" title="Windows 10 LTSB 2015"></a>Windows 10 LTSB 2015</h5><table>
<thead>
<tr>
<th>操作系统版本</th>
<th> KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td> Windows 10 Enterprise 2015 LTSB</td>
<td>WNMTR-4C88C-JK8YV-HQ7T2-76DF9</td>
</tr>
<tr>
<td>Windows 10 Enterprise 2015 LTSB N</td>
<td>2F77B-TNFGY-69QQF-B8YKP-D69TJ</td>
</tr>
</tbody></table>
<h5 id="Windows-8-1"><a href="#Windows-8-1" class="headerlink" title="Windows 8.1"></a>Windows 8.1</h5><table>
<thead>
<tr>
<th>操作系统版本</th>
<th> KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td> Windows 8.1 Pro</td>
<td>GCRJD-8NW9H-F2CDX-CCM8D-9D6T9</td>
</tr>
<tr>
<td>Windows 8.1 Pro N</td>
<td>HMCNV-VVBFX-7HMBH-CTY9B-B4FXY</td>
</tr>
<tr>
<td>Windows 8.1 Enterprise</td>
<td>MHF9N-XY6XB-WVXMC-BTDCT-MKKG7</td>
</tr>
<tr>
<td>Windows 8.1 Enterprise N</td>
<td>TT4HM-HN7YT-62K67-RGRQJ-JFFXW</td>
</tr>
</tbody></table>
<h5 id="Windows-7"><a href="#Windows-7" class="headerlink" title="Windows 7"></a>Windows 7</h5><table>
<thead>
<tr>
<th>操作系统版本</th>
<th> KMS 客户端安装程序密钥</th>
</tr>
</thead>
<tbody><tr>
<td> Windows 7 Professional</td>
<td>FJ82H-XT6CR-J8D7P-XQJJ2-GPDD4</td>
</tr>
<tr>
<td>Windows 7 Professional N</td>
<td>MRPKT-YTG23-K7D7T-X2JMM-QY7MG</td>
</tr>
<tr>
<td>Windows 7 Professional E</td>
<td>W82YF-2Q76Y-63HXB-FGJG9-GF7QX</td>
</tr>
<tr>
<td>Windows 7 Enterprise</td>
<td>33PXH-7Y6KF-2VJC9-XBBR8-HVTHH</td>
</tr>
<tr>
<td>Windows 7 Enterprise N</td>
<td>YDRBP-3D83W-TY26F-D46B2-XCKRJ</td>
</tr>
<tr>
<td>Windows 7 Enterprise E</td>
<td>C29WB-22CC8-VJ326-GHFJW-H9DH4</td>
</tr>
</tbody></table>
<h4 id="Office"><a href="#Office" class="headerlink" title="Office"></a>Office</h4><h5 id="GVLK-for-Office-LTSC-2021"><a href="#GVLK-for-Office-LTSC-2021" class="headerlink" title="GVLK for Office LTSC 2021"></a>GVLK for Office LTSC 2021</h5><table>
<thead>
<tr>
<th><strong>Product</strong></th>
<th><strong>GVLK</strong></th>
</tr>
</thead>
<tbody><tr>
<td>Office LTSC 专业增强版 2021</td>
<td>FXYTK-NJJ8C-GB6DW-3DYQT-6F7TH</td>
</tr>
<tr>
<td>Office LTSC 标准版 2021</td>
<td>KDX7X-BNVR8-TXXGX-4Q7Y8-78VT3</td>
</tr>
<tr>
<td>Project Professional 2021</td>
<td>FTNWT-C6WBT-8HMGF-K9PRX-QV9H8</td>
</tr>
<tr>
<td>Project Standard 2021</td>
<td>J2JDC-NJCYY-9RGQ4-YXWMH-T3D4T</td>
</tr>
<tr>
<td>Visio LTSC Professional 2021</td>
<td>KNH8D-FGHT4-T8RK3-CTDYJ-K2HT4</td>
</tr>
<tr>
<td>Visio LTSC Standard 2021</td>
<td>MJVNY-BYWPY-CWV6J-2RKRT-4M8QG</td>
</tr>
<tr>
<td>Access LTSC 2021</td>
<td>WM8YG-YNGDD-4JHDC-PG3F4-FC4T4</td>
</tr>
<tr>
<td>Excel LTSC 2021</td>
<td>NWG3X-87C9K-TC7YY-BC2G7-G6RVC</td>
</tr>
<tr>
<td>Outlook LTSC 2021</td>
<td>C9FM6-3N72F-HFJXB-TM3V9-T86R9</td>
</tr>
<tr>
<td>PowerPoint LTSC 2021</td>
<td>TY7XF-NFRBR-KJ44C-G83KF-GX27K</td>
</tr>
<tr>
<td>Publisher LTSC 2021</td>
<td>2MW9D-N4BXM-9VBPG-Q7W6M-KFBGQ</td>
</tr>
<tr>
<td>Skype for Business LTSC 2021</td>
<td>HWCXN-K3WBT-WJBKY-R8BD9-XK29P</td>
</tr>
<tr>
<td>Word LTSC 2021</td>
<td>TN8H9-M34D3-Y64V9-TR72V-X79KV</td>
</tr>
</tbody></table>
<h5 id="Office-2019-的-GVLK"><a href="#Office-2019-的-GVLK" class="headerlink" title="Office 2019 的 GVLK"></a>Office 2019 的 GVLK</h5><table>
<thead>
<tr>
<th><strong>Product</strong></th>
<th><strong>GVLK</strong></th>
</tr>
</thead>
<tbody><tr>
<td>Office 专业增强版 2019</td>
<td>NMMKJ-6RK4F-KMJVX-8D9MJ-6MWKP</td>
</tr>
<tr>
<td>Office 标准版 2019</td>
<td>6NWWJ-YQWMR-QKGCB-6TMB3-9D9HK</td>
</tr>
<tr>
<td>Project 专业版 2019</td>
<td>B4NPR-3FKK7-T2MBV-FRQ4W-PKD2B</td>
</tr>
<tr>
<td>Project 标准版 2019</td>
<td>C4F7P-NCP8C-6CQPT-MQHV9-JXD2M</td>
</tr>
<tr>
<td>Visio 专业版 2019</td>
<td>9BGNQ-K37YR-RQHF2-38RQ3-7VCBB</td>
</tr>
<tr>
<td>Visio 标准版 2019</td>
<td>7TQNQ-K3YQQ-3PFH7-CCPPM-X4VQ2</td>
</tr>
<tr>
<td>Access 2019</td>
<td>9N9PT-27V4Y-VJ2PD-YXFMF-YTFQT</td>
</tr>
<tr>
<td>Excel 2019</td>
<td>TMJWT-YYNMB-3BKTF-644FC-RVXBD</td>
</tr>
<tr>
<td>Outlook 2019</td>
<td>7HD7K-N4PVK-BHBCQ-YWQRW-XW4VK</td>
</tr>
<tr>
<td>PowerPoint 2019</td>
<td>RRNCX-C64HY-W2MM7-MCH9G-TJHMQ</td>
</tr>
<tr>
<td>Publisher 2019</td>
<td>G2KWX-3NW6P-PY93R-JXK2T-C9Y9V</td>
</tr>
<tr>
<td>Skype for Business 2019</td>
<td>NCJ33-JHBBY-HTK98-MYCV8-HMKHJ</td>
</tr>
<tr>
<td>Word 2019</td>
<td>PBX3G-NWMT6-Q7XBW-PYJGG-WXD33</td>
</tr>
</tbody></table>
<h5 id="Office-2016-的-GVLK"><a href="#Office-2016-的-GVLK" class="headerlink" title="Office 2016 的 GVLK"></a>Office 2016 的 GVLK</h5><table>
<thead>
<tr>
<th><strong>Product</strong></th>
<th><strong>GVLK</strong></th>
</tr>
</thead>
<tbody><tr>
<td>Office 专业增强版 2016</td>
<td>XQNVK-8JYDB-WJ9W3-YJ8YR-WFG99</td>
</tr>
<tr>
<td>Office Standard 2016</td>
<td>JNRGM-WHDWX-FJJG3-K47QV-DRTFM</td>
</tr>
<tr>
<td>Project Professional 2016</td>
<td>YG9NW-3K39V-2T3HJ-93F3Q-G83KT</td>
</tr>
<tr>
<td>Project Standard 2016</td>
<td>GNFHQ-F6YQM-KQDGJ-327XX-KQBVC</td>
</tr>
<tr>
<td>Visio Professional 2016</td>
<td>PD3PC-RHNGV-FXJ29-8JK7D-RJRJK</td>
</tr>
<tr>
<td>Visio Standard 2016</td>
<td>7WHWN-4T7MP-G96JF-G33KR-W8GF4</td>
</tr>
<tr>
<td>Access 2016</td>
<td>GNH9Y-D2J4T-FJHGG-QRVH7-QPFDW</td>
</tr>
<tr>
<td>Excel 2016</td>
<td>9C2PK-NWTVB-JMPW8-BFT28-7FTBF</td>
</tr>
<tr>
<td>OneNote 2016</td>
<td>DR92N-9HTF2-97XKM-XW2WJ-XW3J6</td>
</tr>
<tr>
<td>Outlook 2016</td>
<td>R69KK-NTPKF-7M3Q4-QYBHW-6MT9B</td>
</tr>
<tr>
<td>PowerPoint 2016</td>
<td>J7MQP-HNJ4Y-WJ7YM-PFYGF-BY6C6</td>
</tr>
<tr>
<td>Publisher 2016</td>
<td>F47MM-N3XJP-TQXJ9-BP99D-8 837 K</td>
</tr>
<tr>
<td>Skype for Business 2016</td>
<td>869NQ-FJ69K-466HW-QYCP2-DDBV6</td>
</tr>
<tr>
<td>Word 2016</td>
<td>WXY84-JN2Q9-RBCCQ-3Q3J3-3PFJ6</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
  </entry>
  <entry>
    <title>LINUX 提示符美化</title>
    <url>/2022/09/12/LINUX%E6%8F%90%E7%A4%BA%E7%AC%A6%E7%BE%8E%E5%8C%96/</url>
    <content><![CDATA[<h3 id="1-美化一"><a href="#1-美化一" class="headerlink" title="1. 美化一"></a>1. 美化一</h3><h4 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">RED='\[\e[31;1m\]'</span><br><span class="line">Yello='\[\e[33;1m\]'</span><br><span class="line">Green='\[\e[32;1m\]'</span><br><span class="line">End='\[\e[0m\]'</span><br><span class="line">Pur='\[\e[35;1m\]'</span><br><span class="line">export PS1="$Yello[$End$RED\u$End$Green@$End$Yello\h$End:$Green\w$End$Yello]${End}${Pur}\\$ $End"</span><br></pre></td></tr></tbody></table></figure>
<h4 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_linux_meihua1.png" alt="linux_meihua1.png"></p>
<h3 id="2-美化二"><a href="#2-美化二" class="headerlink" title="2. 美化二"></a>2. 美化二</h3><h4 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">echo&nbsp;"export&nbsp;PS1='\[\033[01;31m\]\u\[\033[00m\]@\[\033[01;32m\]\h\[\033[00m\][\[\033[01;33m\]\t\[\033[00m\]]:\[\033[01;34m\]\w\[\033[00m\]$&nbsp;'"&nbsp;&gt;&gt;/etc/profile</span><br><span class="line">source&nbsp;/etc/profile</span><br></pre></td></tr></tbody></table></figure>
<h4 id="效果-1"><a href="#效果-1" class="headerlink" title="效果"></a>效果</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_linux_meihua2.png" alt="linux_meihua2.png"></p>
<h3 id="3-安装美化软件"><a href="#3-安装美化软件" class="headerlink" title="3. 安装美化软件"></a>3. 安装美化软件</h3><h4 id="代码：-1"><a href="#代码：-1" class="headerlink" title="代码："></a>代码：</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">git clone --depth=1 https://github.com/Bash-it/bash-it.git ~/.bash_it</span><br><span class="line">~/.bash_it/install.sh</span><br></pre></td></tr></tbody></table></figure>
<h4 id="效果："><a href="#效果：" class="headerlink" title="效果："></a>效果：</h4><p>DoubleTime<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_linux_meihua3.jpg" alt="linux_meihua3.jpg"></p>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
  </entry>
  <entry>
    <title>Docker 学习笔记</title>
    <url>/2022/09/07/Docker%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<p><a name="ZVbug"></a></p>
<h2 id="将容器保存为镜像"><a href="#将容器保存为镜像" class="headerlink" title="将容器保存为镜像"></a><strong>将容器保存为镜像</strong></h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker commit  容器名 复制镜像名    可加参数-a=“作者名”</span><br></pre></td></tr></tbody></table></figure>
<p><a name="I7hd4"></a></p>
<h2 id="将镜像打包成文件"><a href="#将镜像打包成文件" class="headerlink" title="将镜像打包成文件"></a>将镜像打包成文件</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker save -o 文件名.tar 镜像名</span><br></pre></td></tr></tbody></table></figure>
<p><a name="RhJ5R"></a></p>
<h2 id="查询Images镜像latest版本号"><a href="#查询Images镜像latest版本号" class="headerlink" title="查询Images镜像latest版本号"></a>查询 Images 镜像 latest 版本号</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker image inspect (docker image名称):latest|grep -i version</span><br></pre></td></tr></tbody></table></figure>
<p><a name="iARQS"></a></p>
<h2 id="将文件导入镜像"><a href="#将文件导入镜像" class="headerlink" title="将文件导入镜像"></a>将文件导入镜像</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker load -i 文件名.tar</span><br></pre></td></tr></tbody></table></figure>
<p><a name="zfTER"></a></p>
<h2 id="将容器导出为文件"><a href="#将容器导出为文件" class="headerlink" title="将容器导出为文件"></a>将容器导出为文件</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker export 容量名 &gt; 文件名</span><br></pre></td></tr></tbody></table></figure>
<p><a name="A8d84"></a></p>
<h2 id="创建自定义网络"><a href="#创建自定义网络" class="headerlink" title="创建自定义网络"></a>创建自定义网络</h2><p>docker network create –subnet=[自定义网络广播地址]/[子网掩码位数] [自定义网络名]</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker network create --subnet=192.168.11.0/24 testnet</span><br></pre></td></tr></tbody></table></figure>
<p><a name="dXxBU"></a></p>
<h2 id="删除自定义网络"><a href="#删除自定义网络" class="headerlink" title="删除自定义网络"></a>删除自定义网络</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker network rm testnet</span><br></pre></td></tr></tbody></table></figure>
<p><a name="sVhd5"></a></p>
<h2 id="固定容器IP地址"><a href="#固定容器IP地址" class="headerlink" title="固定容器IP地址"></a>固定容器 IP 地址</h2><p>docker run -it –name [容器名] –net [网络名] –ip [选定网络下固定 IP 地址] ubuntu:latest /bin/bash</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker run -it --rm --name=test --net=testnet --ip=192.168.11.99 alpine /bin/sh</span><br></pre></td></tr></tbody></table></figure>
<p><a name="Fs3mq"></a></p>
<h2 id="使用容器网络"><a href="#使用容器网络" class="headerlink" title="使用容器网络"></a>使用容器网络</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker run -it --rm --name=lhwl --net=container:容器ID</span><br></pre></td></tr></tbody></table></figure>
<p><a name="iizJg"></a></p>
<h2 id="更新docker参数"><a href="#更新docker参数" class="headerlink" title="更新docker参数"></a>更新 docker 参数</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker update --restart=always 容器ID</span><br></pre></td></tr></tbody></table></figure>
<p><a name="M9Ind"></a></p>
<h2 id="停止容器时自动删除掉容器"><a href="#停止容器时自动删除掉容器" class="headerlink" title="停止容器时自动删除掉容器"></a>停止容器时自动删除掉容器</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker run -it --rm --name test 容器ID</span><br></pre></td></tr></tbody></table></figure>
<p><a name="qIJcN"></a></p>
<h2 id="控制容器的CPU优先级-每个容器默认值为1024"><a href="#控制容器的CPU优先级-每个容器默认值为1024" class="headerlink" title="控制容器的CPU优先级 (每个容器默认值为1024)"></a>控制容器的 CPU 优先级 (每个容器默认值为 1024)</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker run -it --cpu-shares 512 -name test 容器ID</span><br></pre></td></tr></tbody></table></figure>
<p><a name="cSsBF"></a></p>
<h2 id="绑定指定CPU到容器-绑定CPU0和1两核"><a href="#绑定指定CPU到容器-绑定CPU0和1两核" class="headerlink" title="绑定指定CPU到容器(绑定CPU0和1两核)"></a>绑定指定 CPU 到容器 (绑定 CPU0 和 1 两核)</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker run -it --cpuset-cpus 0-1 centos</span><br></pre></td></tr></tbody></table></figure>
<p><a name="xEJ3O"></a></p>
<h2 id="控制容器使用的内存容量"><a href="#控制容器使用的内存容量" class="headerlink" title="控制容器使用的内存容量"></a>控制容器使用的内存容量</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker run -it -m 128m centos </span><br></pre></td></tr></tbody></table></figure>
<p><a name="rwEzi"></a></p>
<h2 id="控制容器写入速度"><a href="#控制容器写入速度" class="headerlink" title="控制容器写入速度"></a>控制容器写入速度</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker run -it -name test --device /dev/sda:/dev/sda --device-write-bps /dev/sda:1mb centos </span><br></pre></td></tr></tbody></table></figure>
<p><a name="Oc8lT"></a></p>
<h2 id="容器变量时区设置"><a href="#容器变量时区设置" class="headerlink" title="容器变量时区设置"></a>容器变量时区设置</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker run -e TZ="Asia/Shanghai"   #运行时添加上TZ选项</span><br></pre></td></tr></tbody></table></figure>
<p><a name="jlFHZ"></a></p>
<h2 id="容器重命名"><a href="#容器重命名" class="headerlink" title="容器重命名"></a>容器重命名</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker rename name1 name2</span><br></pre></td></tr></tbody></table></figure>
<p><a name="fs0I6"></a></p>
<h2 id="指定容器主机名-h"><a href="#指定容器主机名-h" class="headerlink" title="指定容器主机名(-h)"></a>指定容器主机名 (-h)</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker run -it --name=test -h=test centos</span><br></pre></td></tr></tbody></table></figure>
<p><a name="PPRfW"></a></p>
<h2 id="清理所有无用镜像"><a href="#清理所有无用镜像" class="headerlink" title="清理所有无用镜像"></a>清理所有无用镜像</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker image prune -a</span><br></pre></td></tr></tbody></table></figure>
<p><a name="T4Zmd"></a></p>
<h2 id="清理所有无用数据卷"><a href="#清理所有无用数据卷" class="headerlink" title="清理所有无用数据卷"></a>清理所有无用数据卷</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker volume prune</span><br></pre></td></tr></tbody></table></figure>
<p><a name="Ygz4O"></a></p>
<h2 id="清理所有停止的容器"><a href="#清理所有停止的容器" class="headerlink" title="清理所有停止的容器"></a>清理所有停止的容器</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker container prune</span><br></pre></td></tr></tbody></table></figure>
<p><a name="KVNXn"></a></p>
<h2 id="Docker-ps"><a href="#Docker-ps" class="headerlink" title="Docker ps"></a>Docker ps</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker ps -a    ：会列出当前服务器中所有的容器，无论是否在运行。</span><br><span class="line">docker ps -s    ：会列出容器的文件大小（容器增加的大小/容器的虚拟大小）</span><br><span class="line">docker ps -q    ：仅列出CONTAINER ID 字段</span><br><span class="line">docker ps -l    : 显示最后一个运行的容器（无论该容器目前处于什么状态）</span><br><span class="line">docker ps -n 5   ：显示最后 x 个运行容器，当x为1时和 -l 含义相同。(无论该容器目前处于什么状态）</span><br><span class="line">docker ps --no-trunc    :不对输出进行截断操作，此时可以看到完整的COMMAND，CONTAINER</span><br><span class="line">docker -f     :使用过滤器来过滤输出</span><br><span class="line">    id (容器的id）</span><br><span class="line">    label</span><br><span class="line">   name（容器名称）</span><br><span class="line">    exited （整数-容器退出状态码，只有在使用-all才有用）</span><br><span class="line">    status 容器状态（created,restarting,running,paused,exited,dead）</span><br><span class="line">    ancestor 过滤从指定镜像创建的容器</span><br><span class="line">    before （容器的名称或id）,过滤在给定id或名称之后创建的容器</span><br><span class="line">    isolation (default process hyperv) (windows daemon only)</span><br><span class="line">    volume (数据卷名称或挂载点)，--过滤挂载有指定数据卷的容器</span><br><span class="line">    network（网络id或名称），过滤连接到指定网络的容器</span><br></pre></td></tr></tbody></table></figure>
<p><a name="wXJub"></a></p>
<h2 id="批量导入镜像"><a href="#批量导入镜像" class="headerlink" title="批量导入镜像"></a>批量导入镜像</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">ll *.tar|awk '{print $NF}'|sed -r 's#(.*)#docker load -i \1#' |bash</span><br></pre></td></tr></tbody></table></figure>
<p><a name="x2Qpl"></a></p>
<h2 id="Docker创建时自动建好MYSQL仓库"><a href="#Docker创建时自动建好MYSQL仓库" class="headerlink" title="Docker创建时自动建好MYSQL仓库"></a>Docker 创建时自动建好 MYSQL 仓库</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">FROM mysql:5.7</span><br><span class="line">COPY sql/*.sql /docker-entrypoint-initdb.d/</span><br></pre></td></tr></tbody></table></figure>
<p><a name="CR1tx"></a></p>
<h2 id="Dockerfile"><a href="#Dockerfile" class="headerlink" title="Dockerfile"></a>Dockerfile</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">FROM centos:8    基础镜像</span><br><span class="line">LABEL name=zhuchuanliang power=NB    容器说明</span><br><span class="line">ADD rtorrent.rt /rtorrent.rt    添加rtorrent.rt文件到容量</span><br><span class="line">ESXPOSE 80         容器开放的端口</span><br></pre></td></tr></tbody></table></figure>

<hr>
<p><a name="q4Htg"></a></p>
<h2 id="Docker-Swarm"><a href="#Docker-Swarm" class="headerlink" title="Docker Swarm"></a>Docker Swarm</h2><p><a name="wM3Ps"></a></p>
<h3 id="初始化swarm-manager并制定网卡地址"><a href="#初始化swarm-manager并制定网卡地址" class="headerlink" title="初始化swarm manager并制定网卡地址"></a>初始化 swarm manager 并制定网卡地址</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker swarm init --advertise-addr 182.48.115.237</span><br></pre></td></tr></tbody></table></figure>
<p><a name="rAWl4"></a></p>
<h3 id="查看swarm-worker的连接令牌"><a href="#查看swarm-worker的连接令牌" class="headerlink" title="查看swarm worker的连接令牌"></a>查看 swarm worker 的连接令牌</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker swarm join-token worker</span><br></pre></td></tr></tbody></table></figure>
<p><a name="sdXLV"></a></p>
<h3 id="查看swarm-manager的连接令牌"><a href="#查看swarm-manager的连接令牌" class="headerlink" title="查看swarm manager的连接令牌"></a>查看 swarm manager 的连接令牌</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker swarm join-token manager</span><br></pre></td></tr></tbody></table></figure>
<p><a name="XrFBo"></a></p>
<h3 id="加入docker-swarm集群-作为worker节点"><a href="#加入docker-swarm集群-作为worker节点" class="headerlink" title="加入docker swarm集群,作为worker节点"></a>加入 docker swarm 集群，作为 worker 节点</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker swarm join --token SWMTKN-1-4roc8fx10cyfgj1w1td8m0pkyim08mve578wvl03eqcg5ll3ig-f0apd81qfdwv27rnx4a4y9jej 182.48.115.237:2377</span><br></pre></td></tr></tbody></table></figure>
<p><a name="rfqff"></a></p>
<h3 id="使旧令牌无效并生成新令牌"><a href="#使旧令牌无效并生成新令牌" class="headerlink" title="使旧令牌无效并生成新令牌"></a>使旧令牌无效并生成新令牌</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker swarm join-token --rotate</span><br></pre></td></tr></tbody></table></figure>
<p><a name="fHd2N"></a></p>
<h3 id="查看集群中的节点"><a href="#查看集群中的节点" class="headerlink" title="查看集群中的节点"></a>查看集群中的节点</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker node ls</span><br></pre></td></tr></tbody></table></figure>
<p><a name="Lt9zU"></a></p>
<h3 id="查看集群中节点信息"><a href="#查看集群中节点信息" class="headerlink" title="查看集群中节点信息"></a>查看集群中节点信息</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker node inspect swarm-node1 --pretty</span><br></pre></td></tr></tbody></table></figure>
<p><a name="fmOK1"></a></p>
<h3 id="调度程序可以将任务分配给节点"><a href="#调度程序可以将任务分配给节点" class="headerlink" title="调度程序可以将任务分配给节点"></a>调度程序可以将任务分配给节点</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker node update --availability active swarm-node1</span><br></pre></td></tr></tbody></table></figure>
<p><a name="i8Vtx"></a></p>
<h3 id="调度程序不向节点分配新任务，但是现有任务仍然保持运行"><a href="#调度程序不向节点分配新任务，但是现有任务仍然保持运行" class="headerlink" title="调度程序不向节点分配新任务，但是现有任务仍然保持运行"></a>调度程序不向节点分配新任务，但是现有任务仍然保持运行</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker node update --availability pause swarm-node1</span><br></pre></td></tr></tbody></table></figure>
<p><a name="kK3yj"></a></p>
<h3 id="调度程序不会将新任务分配给节点。调度程序关闭任何现有任务并在可用节点上安排它们-也就是线下节点-不参与任务分配"><a href="#调度程序不会将新任务分配给节点。调度程序关闭任何现有任务并在可用节点上安排它们-也就是线下节点-不参与任务分配" class="headerlink" title="调度程序不会将新任务分配给节点。调度程序关闭任何现有任务并在可用节点上安排它们. 也就是线下节点,不参与任务分配."></a>调度程序不会将新任务分配给节点。调度程序关闭任何现有任务并在可用节点上安排它们。也就是线下节点，不参与任务分配.</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker node update --availability drain swarm-node1</span><br></pre></td></tr></tbody></table></figure>
<p><a name="sPT9q"></a></p>
<h3 id="添加节点标签"><a href="#添加节点标签" class="headerlink" title="添加节点标签"></a>添加节点标签</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker node update --label-add label1 --label-add bar=label2 swarm-node1</span><br></pre></td></tr></tbody></table></figure>
<p><a name="a4DYe"></a></p>
<h3 id="删除节点标签"><a href="#删除节点标签" class="headerlink" title="删除节点标签"></a>删除节点标签</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker node update --label-rm label1 swarm-node1</span><br></pre></td></tr></tbody></table></figure>
<p><a name="aGMbz"></a></p>
<h3 id="将worker节点升级为manager节点"><a href="#将worker节点升级为manager节点" class="headerlink" title="将worker节点升级为manager节点"></a>将 worker 节点升级为 manager 节点</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker node promote swarm-node1</span><br></pre></td></tr></tbody></table></figure>
<p><a name="gSSzc"></a></p>
<h3 id="将manager节点降级为worker节点"><a href="#将manager节点降级为worker节点" class="headerlink" title="将manager节点降级为worker节点"></a>将 manager 节点降级为 worker 节点</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker node demote swarm-manager-node</span><br></pre></td></tr></tbody></table></figure>
<p><a name="yt6rG"></a></p>
<h3 id="查看服务列表"><a href="#查看服务列表" class="headerlink" title="查看服务列表"></a>查看服务列表</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker service ls</span><br></pre></td></tr></tbody></table></figure>
<p><a name="wqQ2t"></a></p>
<h3 id="查看服务的具体信息"><a href="#查看服务的具体信息" class="headerlink" title="查看服务的具体信息"></a>查看服务的具体信息</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker service ps my-test</span><br></pre></td></tr></tbody></table></figure>
<p><a name="z620S"></a></p>
<h3 id="创建一个不定义name，不定义replicas的服务-如下的nginx是docker的nginx镜像名称-不是服务名称"><a href="#创建一个不定义name，不定义replicas的服务-如下的nginx是docker的nginx镜像名称-不是服务名称" class="headerlink" title="创建一个不定义name，不定义replicas的服务. (如下的nginx是docker的nginx镜像名称,不是服务名称)"></a>创建一个不定义 name，不定义 replicas 的服务. (如下的 nginx 是 docker 的 nginx 镜像名称，不是服务名称)</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker service create nginx</span><br></pre></td></tr></tbody></table></figure>
<p><a name="EXx2e"></a></p>
<h3 id="创建一个指定name的服务"><a href="#创建一个指定name的服务" class="headerlink" title="创建一个指定name的服务"></a>创建一个指定 name 的服务</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker service create --name my-nginx nginx</span><br></pre></td></tr></tbody></table></figure>
<p><a name="sOPiC"></a></p>
<h3 id="创建一个指定name、run-cmd的服务"><a href="#创建一个指定name、run-cmd的服务" class="headerlink" title="创建一个指定name、run cmd的服务"></a>创建一个指定 name、run cmd 的服务</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker service create --name my-nginx nginx ping www.baidu.com</span><br></pre></td></tr></tbody></table></figure>
<p><a name="vxjK8"></a></p>
<h3 id="使用yaml文件创建test容器"><a href="#使用yaml文件创建test容器" class="headerlink" title="使用yaml文件创建test容器"></a>使用 yaml 文件创建 test 容器</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker stack deploy -c deploy.yml test</span><br></pre></td></tr></tbody></table></figure>
<p><a name="aaHBI"></a></p>
<h3 id="重启docker集群"><a href="#重启docker集群" class="headerlink" title="重启docker集群"></a>重启 docker 集群</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker service scale srment_nacos=0 &amp;&amp; docker service scale srment_nacos=1</span><br></pre></td></tr></tbody></table></figure>
<p><a name="N3Jk5"></a></p>
<h3 id="创建一个指定name、version、run-cmd的服务"><a href="#创建一个指定name、version、run-cmd的服务" class="headerlink" title="创建一个指定name、version、run cmd的服务"></a>创建一个指定 name、version、run cmd 的服务</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker service create --name my-redis redis:3.0.6</span><br><span class="line">docker service create --name my-nginx nginx:1.8 /bin/bash</span><br></pre></td></tr></tbody></table></figure>
<p><a name="pVlbb"></a></p>
<h3 id="创建一个指定name、port、replicas的服务"><a href="#创建一个指定name、port、replicas的服务" class="headerlink" title="创建一个指定name、port、replicas的服务"></a>创建一个指定 name、port、replicas 的服务</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker service create --name my-nginx --replicas 3 -p 80:80 nginx</span><br></pre></td></tr></tbody></table></figure>
<p><a name="W9act"></a></p>
<h3 id="为指定的服务更新一个端口"><a href="#为指定的服务更新一个端口" class="headerlink" title="为指定的服务更新一个端口"></a>为指定的服务更新一个端口</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker service update --publish-add 80:80 my-nginx</span><br></pre></td></tr></tbody></table></figure>
<p><a name="lVmJ9"></a></p>
<h3 id="为指定的服务删除一个端口"><a href="#为指定的服务删除一个端口" class="headerlink" title="为指定的服务删除一个端口"></a>为指定的服务删除一个端口</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker service update --publish-rm 80:80 my-nginx</span><br></pre></td></tr></tbody></table></figure>
<p><a name="jgQeL"></a></p>
<h3 id="将redis-3-0-6更新至redis-3-0-7"><a href="#将redis-3-0-6更新至redis-3-0-7" class="headerlink" title="将redis:3.0.6更新至redis:3.0.7"></a>将 redis:3.0.6 更新至 redis:3.0.7</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker service update --image redis:3.0.7 redis</span><br></pre></td></tr></tbody></table></figure>
<p><a name="MHMiX"></a></p>
<h3 id="配置运行环境，指定工作目录及环境变量"><a href="#配置运行环境，指定工作目录及环境变量" class="headerlink" title="配置运行环境，指定工作目录及环境变量"></a>配置运行环境，指定工作目录及环境变量</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker service create --name my-nginx --env MYVAR=myvalue --workdir /data/www --user my_user nginx ping www.baidu.com</span><br></pre></td></tr></tbody></table></figure>
<p><a name="vwD2t"></a></p>
<h3 id="创建一个my-nginx的服务"><a href="#创建一个my-nginx的服务" class="headerlink" title="创建一个my-nginx的服务"></a>创建一个 my-nginx 的服务</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker service create --name my-nginx nginx ping www.baidu.com</span><br></pre></td></tr></tbody></table></figure>
<p><a name="Yjvhc"></a></p>
<h3 id="更新my-nginx服务的运行命令"><a href="#更新my-nginx服务的运行命令" class="headerlink" title="更新my-nginx服务的运行命令"></a>更新 my-nginx 服务的运行命令</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker service update --args "ping www.baidu.com" my-nginx</span><br></pre></td></tr></tbody></table></figure>
<p><a name="Eapuc"></a></p>
<h3 id="删除一个服务"><a href="#删除一个服务" class="headerlink" title="删除一个服务"></a>删除一个服务</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker service rm my-nginx</span><br></pre></td></tr></tbody></table></figure>
<p><a name="ISnG6"></a></p>
<h3 id="在每个群组节点上运行web服务"><a href="#在每个群组节点上运行web服务" class="headerlink" title="在每个群组节点上运行web服务"></a>在每个群组节点上运行 web 服务</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker service create --name tomcat --mode global --publish mode=host,target=8080,published=8080 tomcat:latest</span><br></pre></td></tr></tbody></table></figure>
<p><a name="CzK7A"></a></p>
<h3 id="创建一个overlay网络"><a href="#创建一个overlay网络" class="headerlink" title="创建一个overlay网络"></a>创建一个 overlay 网络</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker network create --driver overlay my-network</span><br><span class="line">docker network create --driver overlay --subnet 10.10.10.0/24 --gateway 10.10.10.1 haha-network</span><br></pre></td></tr></tbody></table></figure>
<p><a name="pwfcu"></a></p>
<h3 id="创建服务并将网络添加至该服务"><a href="#创建服务并将网络添加至该服务" class="headerlink" title="创建服务并将网络添加至该服务"></a>创建服务并将网络添加至该服务</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker service create --name my-test --replicas 3 --network my-network redis</span><br></pre></td></tr></tbody></table></figure>
<p><a name="qcX8j"></a></p>
<h3 id="删除群组网络"><a href="#删除群组网络" class="headerlink" title="删除群组网络"></a>删除群组网络</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker service update --network-rm my-network my-test</span><br></pre></td></tr></tbody></table></figure>
<p><a name="hzkXA"></a></p>
<h3 id="更新群组网络"><a href="#更新群组网络" class="headerlink" title="更新群组网络"></a>更新群组网络</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker service update --network-add haha-network my-test</span><br></pre></td></tr></tbody></table></figure>
<p><a name="Q6c2a"></a></p>
<h3 id="创建群组并配置cpu和内存"><a href="#创建群组并配置cpu和内存" class="headerlink" title="创建群组并配置cpu和内存"></a>创建群组并配置 cpu 和内存</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker service create --name my_nginx --reserve-cpu 2 --reserve-memory 512m --replicas 3 nginx</span><br></pre></td></tr></tbody></table></figure>
<p><a name="BXpIV"></a></p>
<h3 id="更改所分配的cpu和内存"><a href="#更改所分配的cpu和内存" class="headerlink" title="更改所分配的cpu和内存"></a>更改所分配的 cpu 和内存</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker service update --reserve-cpu 1 --reserve-memory 256m my_nginx</span><br></pre></td></tr></tbody></table></figure>
<p><a name="R0Nzf"></a></p>
<h3 id="创建服务时自定义的几个参数"><a href="#创建服务时自定义的几个参数" class="headerlink" title="创建服务时自定义的几个参数"></a>创建服务时自定义的几个参数</h3><ol>
<li>指定每次更新的容器数量</li>
</ol>
<p><code>--update-parallelism </code></p>
<ol start="2">
<li>指定容器更新的间隔</li>
</ol>
<p><code>--update-delay </code></p>
<ol start="3">
<li>定义容器启动后监控失败的持续时间</li>
</ol>
<p><code>--update-monitor </code></p>
<ol start="4">
<li>定义容器失败的百分比</li>
</ol>
<p><code>--update-max-failure-ratio </code></p>
<ol start="5">
<li>定义容器启动失败之后所执行的动作</li>
</ol>
<p><code>--update-failure-action </code><br><a name="LnoFx"></a></p>
<h4 id="例：-比如-创建一个服务并运行3个副本，同步延迟10秒，10-任务失败则暂停"><a href="#例：-比如-创建一个服务并运行3个副本，同步延迟10秒，10-任务失败则暂停" class="headerlink" title="例： 比如:创建一个服务并运行3个副本，同步延迟10秒，10%任务失败则暂停"></a>例： 比如：创建一个服务并运行 3 个副本，同步延迟 10 秒，10% 任务失败则暂停</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker service create --name mysql_5_6_36 --replicas 3 --update-delay 10s --update-parallelism 1 --update-monitor 30s --update-failure-action pause --update-max-failure-ratio 0.1 -e MYSQL_ROOT_PASSWORD=123456 mysql:5.6.36</span><br></pre></td></tr></tbody></table></figure>
<p><a name="ORhF4"></a></p>
<h3 id="回滚至之前版本"><a href="#回滚至之前版本" class="headerlink" title="回滚至之前版本"></a>回滚至之前版本</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker service update --rollback mysql</span><br><span class="line"></span><br><span class="line"># 自动回滚</span><br><span class="line"># 如果服务部署失败，则每次回滚2个任务，监控20秒，回滚可接受失败率20%</span><br><span class="line">docker service create --name redis --replicas 6 --rollback-parallelism 2 --rollback-monitor 20s --rollback-max-failure-ratio .2 redis:latest</span><br></pre></td></tr></tbody></table></figure>
<p><a name="dIU8v"></a></p>
<h3 id="创建服务并将目录挂在至container中"><a href="#创建服务并将目录挂在至container中" class="headerlink" title="创建服务并将目录挂在至container中"></a>创建服务并将目录挂在至 container 中</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker service create --name mysql --publish 3306:3306 --mount type=bind,src=/data/mysql,dst=/var/lib/mysql --replicas 3 -e MYSQL_ROOT_PASSWORD=123456 mysql:5.6.36</span><br><span class="line"></span><br><span class="line"># 需要注意使用bind绑定宿主机目录会带来的风险</span><br><span class="line"># - 绑定的主机路径必须存在于每个集群节点上，否则会有问题;</span><br><span class="line"># - 调度程序可能会在任何时候重新安排运行服务容器，如果目标节点主机变得不健康或无法访问;</span><br><span class="line"># - 主机绑定数据不可移植，当你绑定安装时，不能保证你的应用程序开发方式与生产中的运行方式相同;</span><br></pre></td></tr></tbody></table></figure>
<p><a name="FoD5c"></a></p>
<h3 id="添加swarm配置"><a href="#添加swarm配置" class="headerlink" title="添加swarm配置"></a>添加 swarm 配置</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">echo "this is a mysql config" | docker config create mysql -</span><br></pre></td></tr></tbody></table></figure>
<p><a name="w3cH8"></a></p>
<h3 id="查看配置"><a href="#查看配置" class="headerlink" title="查看配置"></a>查看配置</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker config ls</span><br></pre></td></tr></tbody></table></figure>
<p><a name="XsIoh"></a></p>
<h3 id="查看配置详细信息"><a href="#查看配置详细信息" class="headerlink" title="查看配置详细信息"></a>查看配置详细信息</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker config inspect mysql</span><br></pre></td></tr></tbody></table></figure>
<p><a name="gmuVE"></a></p>
<h3 id="删除配置"><a href="#删除配置" class="headerlink" title="删除配置"></a>删除配置</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker config rm mysql</span><br></pre></td></tr></tbody></table></figure>
<p><a name="VyBKa"></a></p>
<h3 id="添加配置"><a href="#添加配置" class="headerlink" title="添加配置"></a>添加配置</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker service update --config-add mysql mysql </span><br></pre></td></tr></tbody></table></figure>
<p><a name="Lltwz"></a></p>
<h3 id="删除配置-1"><a href="#删除配置-1" class="headerlink" title="删除配置"></a>删除配置</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker service update --config-rm mysql mysql</span><br></pre></td></tr></tbody></table></figure>
<p><a name="mh6IM"></a></p>
<h3 id="添加配置-1"><a href="#添加配置-1" class="headerlink" title="添加配置"></a>添加配置</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker config create kevinpage index.html</span><br></pre></td></tr></tbody></table></figure>
<p><a name="GPUh7"></a></p>
<h3 id="启动容器的同时添加配置"><a href="#启动容器的同时添加配置" class="headerlink" title="启动容器的同时添加配置"></a>启动容器的同时添加配置</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker service create --name nginx --publish 80:80 --replicas 3 --config src=kevinpage,target=/usr/share/nginx/html/index.html nginx</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title>使用 Geoip 获取 IP 地址位置经纬度，国家，区域，城市</title>
    <url>/2020/12/23/%E4%BD%BF%E7%94%A8Geoip%E8%8E%B7%E5%8F%96IP%E5%9C%B0%E5%9D%80%E4%BD%8D%E7%BD%AE%E7%BB%8F%E7%BA%AC%E5%BA%A6%EF%BC%8C%E5%9B%BD%E5%AE%B6%EF%BC%8C%E5%8C%BA%E5%9F%9F%EF%BC%8C%E5%9F%8E%E5%B8%82/</url>
    <content><![CDATA[<h4 id="准备工作："><a href="#准备工作：" class="headerlink" title="准备工作："></a>准备工作：</h4><p>先去 <a href="https://www.maxmind.com/">https://www.maxmind.com/</a> 注册一个帐号</p>
<p>然后去 <code>github</code> 下载 <code>geoipupdate</code><br><a href="https://github.com/maxmind/geoipupdate/releases">https://github.com/maxmind/geoipupdate/releases</a><br>下载对应系统的安装包</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">rpm -ivh geoipupdate.rpm</span><br></pre></td></tr></tbody></table></figure>

<p>编辑配置文件</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">vi /etc/GeoIP.conf</span><br></pre></td></tr></tbody></table></figure>

<p>访问 <a href="https://www.maxmind.com/en/my_license_key">https://www.maxmind.com/en/my_license_key</a> , 自己新建一个更新的 LicenseKey。</p>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_geoip01.png"><br>配置好后运行</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">geoipupdate</span><br></pre></td></tr></tbody></table></figure>

<p>就会在 <code>/usr/share/GeoIP/</code> 目录下生成离线数据库文件了。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_geoip02.png"><br>以后需要更新 IP 库，直接运行 <code>geoipupdate</code>。就能更新到最新的 IP 地址库了。</p>
<h4 id="使用Geoip2"><a href="#使用Geoip2" class="headerlink" title="使用Geoip2"></a>使用 Geoip2</h4><h5 id="python3环境下pip安装"><a href="#python3环境下pip安装" class="headerlink" title="python3环境下pip安装"></a>python3 环境下 pip 安装</h5><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">yum install python3 gcc python-devel </span><br><span class="line">pip3 install geoip2</span><br></pre></td></tr></tbody></table></figure>

<p>新建文件 findip.py</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">#!/usr/bin/env python3</span><br><span class="line"># coding=utf-8</span><br><span class="line">import geoip2.database</span><br><span class="line">import sys</span><br><span class="line">def from_ip_get_info(sip):</span><br><span class="line">    reader = geoip2.database.Reader(</span><br><span class="line">        '/usr/share/GeoIP/GeoLite2-City.mmdb')</span><br><span class="line">    try:</span><br><span class="line">        response = reader.city(sip)</span><br><span class="line">        try:</span><br><span class="line">            city = response.city.names.get(u'zh-CN', response.city.name)</span><br><span class="line">            country = response.registered_country.names.get(u'zh-CN')</span><br><span class="line">            if not city:</span><br><span class="line">                city = response.country.names.get(u'zh-CN')</span><br><span class="line">        except Exception as e:</span><br><span class="line">            logging.debug("read Geolite2-City.mmdb error:%s" % e)</span><br><span class="line">            city = ''</span><br><span class="line">        longitude = response.location.longitude</span><br><span class="line">        latitude = response.location.latitude</span><br><span class="line">        subdivisions = response.subdivisions.most_specific.names.get(</span><br><span class="line">            u'zh-CN', "")</span><br><span class="line">    except Exception as ex:</span><br><span class="line">        logging.debug("from_ip_get_info:%s" % ex)</span><br><span class="line">        return None</span><br><span class="line">    return (</span><br><span class="line">        sip,</span><br><span class="line">        country,</span><br><span class="line">        city,</span><br><span class="line">        subdivisions,</span><br><span class="line">        longitude,</span><br><span class="line">        latitude</span><br><span class="line">	)</span><br><span class="line"> </span><br><span class="line">if __name__ == "__main__":</span><br><span class="line">    a = from_ip_get_info(sys.argv[1])</span><br><span class="line">    print (a)</span><br></pre></td></tr></tbody></table></figure>

<p>使用方法：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">./findip.py 5.188.201.227</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_geoip04.png"></p>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>NESSUS 8.12.1 最新版破解笔记</title>
    <url>/2020/11/23/NESSUS-8-12-1%E6%9C%80%E6%96%B0%E7%89%88%E7%A0%B4%E8%A7%A3%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<h4 id="通过Nessus官方下载安装包"><a href="#通过Nessus官方下载安装包" class="headerlink" title="通过Nessus官方下载安装包"></a>通过 Nessus 官方下载安装包</h4><p><a href="https://www.tenable.com/downloads/nessus">https://www.tenable.com/downloads/nessus</a></p>
<h4 id="通过Nessus官方渠道提交试用信息，之后邮箱会收到激活码-activation-code"><a href="#通过Nessus官方渠道提交试用信息，之后邮箱会收到激活码-activation-code" class="headerlink" title="通过Nessus官方渠道提交试用信息，之后邮箱会收到激活码(activation code)"></a>通过 Nessus 官方渠道提交试用信息，之后邮箱会收到激活码 (activation code)</h4><p><a href="https://zh-cn.tenable.com/products/nessus/nessus-essentials">https://zh-cn.tenable.com/products/nessus/nessus-essentials</a></p>
<h4 id="RPM安装"><a href="#RPM安装" class="headerlink" title="RPM安装"></a>RPM 安装</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">rpm -ivh Nessus-8.12.1-es7.x86_64.rpm</span><br><span class="line">systemctl start nessusd</span><br></pre></td></tr></tbody></table></figure>
<h4 id="配置NESSUS"><a href="#配置NESSUS" class="headerlink" title="配置NESSUS"></a>配置 NESSUS</h4><p>安装成功后，进入欢迎配置页，选择 Managed Scanner 并点击 Continue<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_nessus001.jpg"></p>
<p>选择 Tenable.sc 并点击 Continue<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_nessus002.jpg"></p>
<p>设置账户密码并点击 Submit<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_nessus003.jpg"><br>完成配置后，将进入 Nessus 设置页<br><a href="https://ip:8834/">https://IP:8834</a></p>
<h4 id="离线激活"><a href="#离线激活" class="headerlink" title="离线激活"></a>离线激活</h4><p>获得询问码 (challenge code)<br>使用管理员权限运行命令行，进入到 Nessus 安装目录后，使用该命令获得询问码</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">./nessuscli.exe fetch --challenge</span><br></pre></td></tr></tbody></table></figure>
<p><a href="https://plugins.nessus.org/v2/offline.php">https://plugins.nessus.org/v2/offline.php</a><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_nessus004.jpg"><br>进入离线激活页面，输入最开始邮件得到的激活码和询问码，点击 Submit 获得离线插件包和激活 证书</p>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_nessus008.jpg"><br>点击页面上的链接下载得到 all-2.0.tar.gz 插件包，接着获取询问码的命令行，安装插件包</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">./nessuscli.exe update ./all-2.0.tar.gz</span><br></pre></td></tr></tbody></table></figure>
<p>保存结果中的数字串 <code>202009231305</code>，后面会用到回到 Nessus 设置页，Activation Code 还是 N/A，没关系，点击旁边的小笔🖊进行手动激活选择 Offline，输入激活证书点击 Activate 激活（激活证书在 第 2 步骤获得）<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_nessus005.jpg"><br>接着会初始化一段时间（显示在 Download，但没发现有新插件，猜测可能是在校对本地插件）<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_nessus006.jpg"><br>完成后进入设置页，激活成功，显示仅允许扫描 16 个 IP<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_nessus007.jpg"></p>
<h4 id="破解数量限制"><a href="#破解数量限制" class="headerlink" title="破解数量限制"></a>破解数量限制</h4><p>1. 将上面获得的数字串，替换到下面的数字串中，并保存到文件 <code>plugin_feed_info.inc</code></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">PLUGIN_SET = "202009231305";</span><br><span class="line">PLUGIN_FEED = "ProfessionalFeed (Direct)";</span><br><span class="line">PLUGIN_FEED_TRANSPORT = "Tenable Network Security Lightning";</span><br></pre></td></tr></tbody></table></figure>


<p>2. 将 <code>plugin_feed_info.inc</code> 替换到 Nessus 安装目录的 nessus 目录下 (覆盖原有文件)</p>
<p>3. 将 Nessus 安装目录 nessus/plugins/ 目录下的 plugin_feed_info.inc 文件删除.</p>
<p>4. 重新启动 Nessus 服务</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">systemctl restart nessusd</span><br></pre></td></tr></tbody></table></figure>]]></content>
  </entry>
  <entry>
    <title>[原创] 如何实现企业微信消息直接推送到微信</title>
    <url>/2020/07/07/%E5%B0%86%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%B6%88%E6%81%AF%E7%9B%B4%E6%8E%A5%E6%8E%A8%E9%80%81%E5%88%B0%E5%BE%AE%E4%BF%A1/</url>
    <content><![CDATA[<p>今天在 QQ 群里跟群友们聊天，发现很多群友他们不知道，企业微信的消息可以直接推送到微信上。在他们的盛情邀请下，我写篇博文把实现方法说一下，其实很简单：</p>
<h4 id="一、登陆企业微信后台："><a href="#一、登陆企业微信后台：" class="headerlink" title="一、登陆企业微信后台："></a>一、登陆企业微信后台：</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_qyweixin.png"></p>
<h4 id="二、用个人微信关注企业号"><a href="#二、用个人微信关注企业号" class="headerlink" title="二、用个人微信关注企业号"></a>二、用个人微信关注企业号</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_qyweixin1.png"></p>
<h4 id="三、打开企业微信，进入设置"><a href="#三、打开企业微信，进入设置" class="headerlink" title="三、打开企业微信，进入设置"></a>三、打开企业微信，进入设置</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_qyweixin2.png"></p>
<h4 id="四、进入新消息通知"><a href="#四、进入新消息通知" class="headerlink" title="四、进入新消息通知"></a>四、进入新消息通知</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_qyweixin3.png"></p>
<h4 id="五、进入仅在企业微信中接收消息"><a href="#五、进入仅在企业微信中接收消息" class="headerlink" title="五、进入仅在企业微信中接收消息"></a>五、进入仅在企业微信中接收消息</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_qyweixin4.png"></p>
<h4 id="六、将会话消息和应用消息这二个钩选取消掉。"><a href="#六、将会话消息和应用消息这二个钩选取消掉。" class="headerlink" title="六、将会话消息和应用消息这二个钩选取消掉。"></a>六、将<code>会话消息</code>和<code>应用消息</code>这二个钩选取消掉。</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_qyweixin5.png"></p>
<p>接下来只要你企业微信上有消息，就会自动推送到你微信上关注的企业号了。以后就不用开企业微信来查看告警信息了！</p>
]]></content>
      <categories>
        <category>原创</category>
      </categories>
  </entry>
  <entry>
    <title>[原创] zabbix4.4 利用 API 实现 web 监控批量添加（完美版）</title>
    <url>/2020/07/04/%E5%8E%9F%E5%88%9B-zabbix%E5%88%A9%E7%94%A8API%E5%AE%9E%E7%8E%B0web%E7%9B%91%E6%8E%A7%E6%89%B9%E9%87%8F%E6%B7%BB%E5%8A%A0/</url>
    <content><![CDATA[<p>2020/07/08 更新：</p>
<p>修复一个 BUG：<br>1. 因 web 监控名称不能大于 64 个字符。<code>weblist.txt</code> 一行文字，如果大于 64，文字说明会自动切割。</p>
<hr>
<p>最近添加一些 web 监控，大伙都知道添加 web 监控需要先添加 web 页后，还得为每个 web 页配置触发器。如果监控数量多的话，用人工添加的方式。肯定是太费时了。所以上网找了一些资料，总结下来大概有三种方式<br>1. 用 zabbix 的 API 实现。<br>2. 直接往 zabbix 的数据库里写 web 监控项。<br>3. 利用 zabbix 的自动发现来实现。</p>
<p>权衡比较了一下，发现用 api 来实现算是比较方便的。（实际是我对 python 和 shell 很熟，实现起来比较方便）。参考了一下，<a href="https://yq.aliyun.com/articles/553071">这篇文章</a>。发现有些地方还是不完善。所以自己用手修改了一下。<br>对比原作者的 python 脚本，新增功能如下：<br>1. 能自定义监控网站说明。<br>2. 原脚本只有添加告警触发器，而没有恢复告警触发器。<br>3. 读取.txt 文件，批量添加。</p>
<p>python 正式代码如下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">#!/usr/bin/env python3</span><br><span class="line"># Author:         思想就是武器 https://zealot.top</span><br><span class="line"># Mail:           18976787@qq.com</span><br><span class="line">from pyzabbix import ZabbixAPI</span><br><span class="line">import sys</span><br><span class="line">from re import compile,IGNORECASE</span><br><span class="line">ZABBIX_SERVER = ""</span><br><span class="line">USER = ""</span><br><span class="line">PASSWORD = ""</span><br><span class="line">HOSTNAME = ""</span><br><span class="line">def login(ZABBIX_SERVER,USER,PASSWORD):</span><br><span class="line">  zapi = ZabbixAPI(ZABBIX_SERVER)</span><br><span class="line">  zapi.login(USER,PASSWORD)</span><br><span class="line">  return zapi</span><br><span class="line">def gethostid(auth,HOSTNAME):</span><br><span class="line">  request = ZabbixAPI.do_request(auth, 'host.get', params={ "filter": {"host":HOSTNAME}})</span><br><span class="line">  if request['result']:</span><br><span class="line">    return request['result'][0]['hostid']</span><br><span class="line">  else:</span><br><span class="line">    print ("找不到该主机")</span><br><span class="line">    sys.exit(1)</span><br><span class="line">def getapplicationid(auth,hostid):</span><br><span class="line">  try:</span><br><span class="line">    request = ZabbixAPI.do_request(auth, 'application.create', params={"name": "web监控","hostid": hostid})</span><br><span class="line">  except Exception as e:</span><br><span class="line">    print(e)</span><br><span class="line">  request = ZabbixAPI.do_request(auth, 'application.get', params={"hostids": hostid})</span><br><span class="line">  for num in range(0,len (request['result'])):</span><br><span class="line">    if request['result'][num]['name'] == "web监控":</span><br><span class="line">      return request['result'][num]['applicationid']</span><br><span class="line">def create_web_scenario(auth,URL,URL1,hostid,applicationid):</span><br><span class="line">  request = ZabbixAPI.do_request(auth, 'httptest.get', params={ "filter": {"name": URL}})</span><br><span class="line">  if request['result']:</span><br><span class="line">    print('该web监控已经添加过了' )</span><br><span class="line">  else:</span><br><span class="line">    try:</span><br><span class="line">      ZabbixAPI.do_request(auth, 'httptest.create',params={"name": URL,"hostid": hostid,"applicationid": applicationid, "delay": '60s',"retries": '3', "steps": [ { 'name': URL1, 'url': URL1, 'no': '1', 'status_codes': r'200'} ] } )</span><br><span class="line">    except Exception as e:</span><br><span class="line">      print(e)</span><br><span class="line">def create_trigger(auth,HOSTNAME,URL,URL1):</span><br><span class="line">  expression="{"+"{0}:web.test.fail[{1}].last()".format(HOSTNAME,URL)+"}"+"&lt;&gt;0"</span><br><span class="line">  recovery_expression="{"+"{0}:web.test.fail[{1}].last()".format(HOSTNAME,URL)+"}"+"=0"</span><br><span class="line">  try:</span><br><span class="line">    ZabbixAPI.do_request(auth, 'trigger.create', params={"description": "{0}-WEB无法访问".format(URL),"expression": expression,"priority":"5","recovery_mode": "1","recovery_expression": recovery_expression})</span><br><span class="line">  except Exception as e:</span><br><span class="line">    print(e)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">with open('weblist.txt','r') as f:</span><br><span class="line">  for x in f.readlines():</span><br><span class="line">    URL=x</span><br><span class="line">    URL1=URL.split('：',1)[1]</span><br><span class="line">    if len(URL) &gt; 64 :</span><br><span class="line">      URL=URL.split('：',1)[0]</span><br><span class="line">    auth = login(ZABBIX_SERVER,USER,PASSWORD)</span><br><span class="line">    hostid = gethostid(auth,HOSTNAME)</span><br><span class="line">    applicationid=getapplicationid(auth,hostid)</span><br><span class="line">    create_web_scenario(auth,URL,URL1,hostid,applicationid)</span><br><span class="line">    create_trigger(auth,HOSTNAME,URL,URL1)</span><br></pre></td></tr></tbody></table></figure>

<p>使用方法：<br>1. 自行补齐，<code>ZABBIX_SERVER</code>，<code>USER</code>,<code>PASSWORD</code>,<code>HOSTNAME</code> 这 4 个变量。<br>2. 在脚本目录下，新键 <code>weblist.txt</code> 文件。每行 examples 如下</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">百度：http://www.baidu.com</span><br></pre></td></tr></tbody></table></figure>
<p>3. 更多 API 参数，可以参考 <a href="https://www.zabbix.com/documentation/4.0/zh/manual/api">zabbix 官网说明</a></p>
]]></content>
      <categories>
        <category>原创</category>
      </categories>
      <tags>
        <tag>zabbix</tag>
      </tags>
  </entry>
  <entry>
    <title>centos7 断电导致 “generating  run initramfs rdsosreport.txt” 无法启动的处理方法</title>
    <url>/2020/04/16/centos7%E6%96%AD%E7%94%B5%E5%AF%BC%E8%87%B4%E6%97%A0%E6%B3%95%E5%90%AF%E5%8A%A8%E7%9A%84%E5%A4%84%E7%90%86/</url>
    <content><![CDATA[<p>开机就进入命令窗口，窗口提示信息如下：<br>generating “/run/initramfs/rdsosreport.txt”entering emergencymode. exit the shell to continuetype “journalctl” to view system logs.you might want to save “/run/initramfs/rdsosreport.txt” to a usb stick or /boot after mounting them and attach it to a bug report。</p>
<p>解决方法：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">xfs_repair /dev/mapper/centos-root -L</span><br><span class="line">reboot</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>centos7</tag>
      </tags>
  </entry>
  <entry>
    <title>[原创] 物理机 P2V 到虚拟机迁移过程问题总结</title>
    <url>/2020/04/16/%E7%89%A9%E7%90%86%E6%9C%BAP2V%E5%88%B0%E8%99%9A%E6%8B%9F%E6%9C%BA%E8%BF%81%E7%A7%BB%E8%BF%87%E7%A8%8B%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<p>物理机迁移到虚拟机的时候，总会遇到各种各样的问题。以下是我趟过的坑，都已填平。拿出来分享一下。</p>
<h4 id="问题一-转换到97-时报”There-is-no-matching-kernel-modules-for-kernel-tboot-gz”错"><a href="#问题一-转换到97-时报”There-is-no-matching-kernel-modules-for-kernel-tboot-gz”错" class="headerlink" title="问题一:转换到97%时报”There is no matching kernel modules for kernel /tboot.gz”错."></a>问题一：转换到 97% 时报”There is no matching kernel modules for kernel /tboot.gz” 错.</h4><p>用 linux 安装光盘进入修复模式。<br>blkid /dev/sda1<br>cat /etc/fstab<br>查看原来的 linux 的 UUID，用下面的命令替换掉。<br>tune2fs -U c1b9d5a2-f162-11cf-9ece-0020afc76f16 /dev/sda1</p>
<h4 id="问题二-转换linux时，一直停留在1"><a href="#问题二-转换linux时，一直停留在1" class="headerlink" title="问题二:转换linux时，一直停留在1%"></a>问题二：转换 linux 时，一直停留在 1%</h4><p>converter 需设置一个同段辅助 IP 地址。</p>
<h4 id="问题三-提示无法转换成虚拟机。"><a href="#问题三-提示无法转换成虚拟机。" class="headerlink" title="问题三:提示无法转换成虚拟机。"></a>问题三：提示无法转换成虚拟机。</h4><p>P2V 转换时，需使用相同版本的 VMware-converter，如果已安装不同版本，需卸载低版本的，再安装高版本。</p>
<h4 id="问题四-忘了是什么问题了，不过记得关防火墙就对了。"><a href="#问题四-忘了是什么问题了，不过记得关防火墙就对了。" class="headerlink" title="问题四:忘了是什么问题了，不过记得关防火墙就对了。"></a>问题四：忘了是什么问题了，不过记得关防火墙就对了。</h4><p>P2V 时关闭防火墙</p>
<h4 id="问题五-容量太大，一次同步不完。可以设置分批同步"><a href="#问题五-容量太大，一次同步不完。可以设置分批同步" class="headerlink" title="问题五:容量太大，一次同步不完。可以设置分批同步"></a>问题五：容量太大，一次同步不完。可以设置分批同步</h4><p>P2V 设置定时同步数据。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_clipboard.png"></p>
<h4 id="问题六-服务器硬盘没有迁移服务器的大"><a href="#问题六-服务器硬盘没有迁移服务器的大" class="headerlink" title="问题六:服务器硬盘没有迁移服务器的大"></a>问题六：服务器硬盘没有迁移服务器的大</h4><p>可以设置最小化硬盘迁移。</p>
]]></content>
      <categories>
        <category>原创</category>
      </categories>
  </entry>
  <entry>
    <title>squid 正向代理配置及使用</title>
    <url>/2020/04/15/squid%E6%AD%A3%E5%90%91%E4%BB%A3%E7%90%86/</url>
    <content><![CDATA[<p>也是笔记来的，随便整理一下吧！</p>
<h4 id="安装squid"><a href="#安装squid" class="headerlink" title="安装squid"></a>安装 squid</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">yum install -y squid</span><br></pre></td></tr></tbody></table></figure>
<h4 id="配置squid-etc-squid-squid-conf"><a href="#配置squid-etc-squid-squid-conf" class="headerlink" title="配置squid /etc/squid/squid.conf"></a>配置 squid <code>/etc/squid/squid.conf</code></h4><p>主要是这 2 个：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># 代理服务器端口</span><br><span class="line">http_port 3128</span><br><span class="line"># 允许访问所有地址，默认是 deny，这个要主动改一下</span><br><span class="line">http_access allow all</span><br></pre></td></tr></tbody></table></figure>

<p>不同服务器默认配置可能不太一样，我的阿里云 Centos 安装后压根就不用配置，全配置好了（连注释都是中文的）：</p>
<p>启动</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">systemctl start squid</span><br></pre></td></tr></tbody></table></figure>
<p>停止</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">systemctl stop squid</span><br></pre></td></tr></tbody></table></figure>
<p>重启</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">systemctl restart squid</span><br></pre></td></tr></tbody></table></figure>
<p>重新加载配置文件</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">squid -k reconfigure</span><br></pre></td></tr></tbody></table></figure>
<p>查看是否正在运行</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">systemctl status squid</span><br></pre></td></tr></tbody></table></figure>

<p>全部命令：{start|stop|status|reload|force-reload|restart|condrestart|try-restart|probe}</p>
<h4 id="配置代理"><a href="#配置代理" class="headerlink" title="配置代理"></a>配置代理</h4><p>[yum 的代理服务器配置]<br>如果想让 CentOS 中的 yum 可以通过代理服务器更新程序，则需要修改文件 /etc/yum.conf，在此文件中加上：<br>proxy=<a href="http://easwy:123456@192.168.1.1:8080/">http://easwy:123456@192.168.1.1:8080</a></p>
<p>方法是在你的～/.bashrc 里加上类似下面的话：<br>export http_proxy=<a href="http://username:password@proxyserver:port/">http://username:password@proxyserver:port/</a><br>export ftp_proxy=<a href="http://username:password@proxyserver:port/">http://username:password@proxyserver:port/</a></p>
<p>[subversion 的代理服务器配置]<br>要配置 subversion 的代理服务器，需要修改 $HOME/.subversion/servers 文件，在此文件的 [global] 段加上：<br>http-proxy-host = 192.168.1.1<br>http-proxy-port = 8080<br>http-proxy-username = easwy<br>http-proxy-password = 123456</p>
<p>禁用 3128 端口访问</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">http_port 3128 intercept</span><br></pre></td></tr></tbody></table></figure>

<h4 id="透明代理squid-iptables"><a href="#透明代理squid-iptables" class="headerlink" title="透明代理squid + iptables"></a>透明代理 squid + iptables</h4><p>(1）修改 <code>/etc/squid/squid.conf</code> 配置文件，配置支持透明代理</p>
<p>改：http_port 3128</p>
<p>为：http_port 3128 transparent （透明的）</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">systemctl restart squid</span><br></pre></td></tr></tbody></table></figure>

<p>(2）开启路由转发功能：</p>
<p>编辑 <code>/etc/sysctl.conf</code> 配置文件</p>
<p>改：net.ipv4.ip_forward = 0</p>
<p>为：net.ipv4.ip_forward = 1</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">sysctl -p</span><br></pre></td></tr></tbody></table></figure>
<p>(3）配置防火墙：<br> RHEL/CentOS 7</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">$ sudo firewall-cmd –permanent –zone=public –add-forward- port=port=80:proto=tcp:toport=3128:toaddr=192.168.1.10</span><br><span class="line">$ sudo firewall-cmd –permanent –zone=public –add-port=3128/tcp</span><br><span class="line">$ sudo firewall-cmd –permanent –add-masquerade</span><br><span class="line">$ sudo firewall-cmd –reload</span><br></pre></td></tr></tbody></table></figure>
<p>或者</p>
<p>For RHEL/CentOS 6, the Iptables rules are</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">sudo iptables -t nat -A PREROUTING -i eth0 -p tcp –dport 80 -j DNAT –to 192.168.1.10:3128</span><br><span class="line">sudo iptables -t nat -A PREROUTING -i eth1 -p tcp –dport 80 -j REDIRECT –to-port 3128</span><br><span class="line">sudo iptables –t nat -A POSTROUTING –out-interface eth1 -j MASQUERADE</span><br></pre></td></tr></tbody></table></figure>
<p>(4）测试：把网关配置成代理 IP，大功告成！</p>
<h4 id="acl控制"><a href="#acl控制" class="headerlink" title="acl控制"></a>acl 控制</h4><p>1 src　　　　　    　源地址<br>2 dst　　　     　     目标地址<br>3 port　　　   　     目标端口<br>4 dstdomain　     　目标域<br>5 time　　　        　访问时间<br>6 maxconn　　    　最大并发连接<br>7 url_regex　       　目标 URL 地址  # 可以定义大的范围比如 <a href="http://www.baidu.com/">http://www.baidu.com</a><br>8 urlpath_regex　　整个目标 URL 路径  # 可以定位到每个网站的具体目标的 url，比如百度音乐的一首歌的 url<br>例：urlpath_regex -i .mp3$     #：-i 参数适用于任何可能需要区分大小写的地方</p>
<p>通过黑名单限制目标网站<br>（1）首先创建地址列表文件（直接在配置文件里写也行，但是这种用列表文件的方式适合拒绝或允许的网站域名比较多的情况，而且方便增删管理）<br>1 vim  /etc/squid/ipblock.list<br>2 61.135.167.36<br>3 60.28.14.0/24<br>4 ~]#vim /etc/squid/dmblock.list<br>5 .qq.com<br>（2）配置 acl<br>1 ~]#vim /etc/squid.conf<br>2 acl IPBLOCK dst “/etc/squid/ipblock.list”<br>3 acl DMBLOCK dstdomain “/etc/squid/dmblock.list”<br>4 http_access  deny  IPBLOCK<br>5 http_access  deny  DMBLOCK<br>6 ~]#service squid  reload</p>
<h4 id="squid安全配置"><a href="#squid安全配置" class="headerlink" title="squid安全配置"></a>squid 安全配置</h4><p>建立帐号文件<br>htpasswd -c /etc/squid/passd</p>
<p>设置认证方式<br>参数 auth_param basic program 定义了认证方式为 basic（从 Squid 2.5 版以后，NCSA 认证包含在了 basic 中）、认证程序路径和认证程序需要读取的账号文件。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">auth_param basic program /usr/lib64/squid/basic_ncsa_auth /etc/squid/passwd</span><br></pre></td></tr></tbody></table></figure>
<p>设置认证程序的进程数<br>参数 auth_param basic children 定义了认证程序的进程数。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">auth_param basic children 5</span><br></pre></td></tr></tbody></table></figure>
<p>设置认证领域内容<br>参数 auth_param basic realm 定义了 Web 浏览器显示用户名 / 密码对话框时的领域内容。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">auth_param basic realm user squid server</span><br></pre></td></tr></tbody></table></figure>
<p>设置认证有效时间<br>参数 auth_param basic credentialsttl 定义了用户经过认证后的有效时间，用户在有效时间后如果还需要继续使用 Squid 代理服务，则必须重新输入用户名和密码。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">auth_param basic credentialsttl 2 hours</span><br></pre></td></tr></tbody></table></figure>
<p>用户名不区分大小写，可改为 ON 区分大小写</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">auth_param basic casesensitive off</span><br></pre></td></tr></tbody></table></figure>
<p>生成规则名 myacl</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">acl myacl proxy_auth REQUIRED</span><br></pre></td></tr></tbody></table></figure>
<p>规则生效，! 号代表取反。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">http_access allow myacl !baidu</span><br><span class="line">http_access deny all</span><br></pre></td></tr></tbody></table></figure>

<h4 id="代理客户端遇到特殊字符的配置"><a href="#代理客户端遇到特殊字符的配置" class="headerlink" title="代理客户端遇到特殊字符的配置"></a>代理客户端遇到特殊字符的配置</h4><p>配置代理的格式一般是这样的:<br>export https_proxy=https:// 用户名：密码 @代理地址：代理端口<br>比如需要配置这些:<br>export http_proxy=<a href="http://CodeCore:%40MingHou233!@172.16.2.17:8787/">http://CodeCore:@MingHou233!@172.16.2.17:8787</a><br>export https_proxy=<a href="http://CodeCore:%40MingHou233!@172.16.2.17:8787/">http://CodeCore:@MingHou233!@172.16.2.17:8787</a><br>export no_proxy=127.0.0.1,localhost<br>export ftp_proxy=<a href="http://CodeCore:%40MingHou233!@172.16.2.17:8787/">http://CodeCore:@MingHou233!@172.16.2.17:8787</a></p>
<p>如果直接输入 BASH 会报错: bash: !@172.16.2.17: event not found<br>解决办法 就是将特殊字符转换成 ASIIC 码形式输入，以 % + Hex 形式 (0x 忽略).<br>参考链接: ASCII Reference<br>比如常见的会出现在密码中的特殊字符:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">~ : 0x7E,         ! : 0x21</span><br><span class="line">@ : 0x40,         # : 0x23</span><br><span class="line">$ : 0x24,         % : 0x25</span><br><span class="line">^ : 0x5E,         &amp; : 0x26</span><br><span class="line">* : 0x2A,         ? : 0x3F</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">export HTTP_PROXY=http://CodeCore:%40MingHou233%21@172.16.2.17:8787</span><br><span class="line">export HTTPS_PROXY=https://CodeCore:%40MingHou233%21@172.16.2.17:8787</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
  </entry>
  <entry>
    <title>Centos 防火墙配置</title>
    <url>/2020/04/15/Centos%E9%98%B2%E7%81%AB%E5%A2%99%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<p>今天翻了下有道笔记，发现 2-3 年以前还记了一些笔记，感觉有时候还用得着。所以整理一下，更新上来。实在是自己好久都没有写博文了。变懒了！！</p>
<h4 id="Centos6-iptables"><a href="#Centos6-iptables" class="headerlink" title="Centos6 iptables"></a>Centos6 iptables</h4><p>查看已开放端口</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">iptables -nL</span><br></pre></td></tr></tbody></table></figure>
<p>添加 3306 端口入口允许</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">iptables -I INPUT -p tcp --dport 3306 -j ACCEPT</span><br></pre></td></tr></tbody></table></figure>
<p>添加 3306 端口出口允许</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">iptables -I OUTPUT -p tcp  --sport 3306 -j ACCEPT</span><br></pre></td></tr></tbody></table></figure>
<p>保存</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">service iptables save</span><br></pre></td></tr></tbody></table></figure>

<p>查看打开的端口:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">iptables status</span><br></pre></td></tr></tbody></table></figure>

<p>重启:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">service iptables restart</span><br></pre></td></tr></tbody></table></figure>

<p>删除 OUTPUT 1 的规则</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">iptables -D OUTPUT 1</span><br></pre></td></tr></tbody></table></figure>

<p>1、关闭所有的 INPUT FORWARD OUTPUT 只对某些端口开放。<br>下面是命令实现：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">iptables -P INPUT DROP</span><br><span class="line">iptables -P FORWARD DROP</span><br><span class="line">iptables -P OUTPUT DROP</span><br></pre></td></tr></tbody></table></figure>

<p>–dport 就是目标端口 当数据从外部进入服务器为目标端口<br>反之 数据从服务器出去 则为数据源端口 使用 –sport</p>
<p>-j 就是指定是 <code>ACCEPT</code> 接收 或者 <code>DROP</code> 不接收</p>
<p>禁止 192.168.1.2 的 IP 访问</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">iptables -A INPUT -p tcp -s 192.168.1.2 -j DROP</span><br></pre></td></tr></tbody></table></figure>



<p>过滤无效的数据包<br>假设有人进入了服务器，或者有病毒木马程序，它可以通过 22，80 端口像服务器外传送数据。它的这种方式就和正常访问 22，80 端口区别。它发向外发的数据不是通过访问网页请求而回应的数据包。<br>下面要禁止这些没有通过请求回应的数据包，统统把它们堵住掉。<br>iptables 提供了一个参数 是检查状态的，下面来配置下 22 和 80 端口，防止无效的数据包。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">iptables -A OUTPUT -p tcp --sport 22 -m state --state ESTABLISHED -j ACCEPT</span><br></pre></td></tr></tbody></table></figure>
<p>可以看到和以前使用的：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">iptables -A OUTPUT -p tcp --sport 22 -j ACCEPT</span><br></pre></td></tr></tbody></table></figure>
<p>多了一个状态判断。</p>
<p>参数详解<br>-t &lt;表&gt;：指定要操纵的表；<br>-A：向规则链中添加条目；<br>-D：从规则链中删除条目；<br>-i：向规则链中插入条目；<br>-R：替换规则链中的条目；<br>-L：显示规则链中已有的条目；<br>-F：清楚规则链中已有的条目；<br>-Z：清空规则链中的数据包计算器和字节计数器；<br>-N：创建新的用户自定义规则链；<br>-P：定义规则链中的默认目标；<br>-h：显示帮助信息；<br>-p：指定要匹配的数据包协议类型；<br>-s：指定要匹配的数据包源 ip 地址；<br>-j &lt;目标&gt;：指定要跳转的目标；<br>-i &lt;网络接口&gt;：指定数据包进入本机的网络接口；<br>-o &lt;网络接口&gt;：指定数据包要离开本机所使用的网络接口。</p>
<hr>
<h4 id="Centos7-Firewalld"><a href="#Centos7-Firewalld" class="headerlink" title="Centos7 Firewalld"></a>Centos7 Firewalld</h4><p>关闭防火墙</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">systemctl stop firewalld.service</span><br></pre></td></tr></tbody></table></figure>
<p>禁止 firewall 开机启动</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">systemctl disable firewalld.service        </span><br></pre></td></tr></tbody></table></figure>

<p>开启访问 10050</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">firewall-cmd --zone=public --add-port=10050/tcp --permanent</span><br></pre></td></tr></tbody></table></figure>

<p>命令含义：<br>–zone #作用域<br>–add-port=10050/tcp #添加端口，格式为：端口 / 通讯协议<br>–permanent #永久生效，没有此参数重启后失效</p>
<p>重启防火墙</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">firewall-cmd --reload</span><br></pre></td></tr></tbody></table></figure>

<p>查看端口是否开启</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">firewall-cmd --query-port=10050/tcp</span><br></pre></td></tr></tbody></table></figure>

<p>查看已开启的端口号</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">firewall-cmd --list-all</span><br></pre></td></tr></tbody></table></figure>

<p>常用命令介绍<br>firewall-cmd –state                           ## 查看防火墙状态，是否是 running<br>firewall-cmd –reload                          ## 重新载入配置，比如添加规则之后，需要执行此命令<br>firewall-cmd –get-zones                       ## 列出支持的 zone<br>firewall-cmd –get-services                    ## 列出支持的服务，在列表中的服务是放行的<br>firewall-cmd –query-service ftp               ## 查看 ftp 服务是否支持，返回 yes 或者 no<br>firewall-cmd –add-service=ftp                 ## 临时开放 ftp 服务<br>firewall-cmd –add-service=ftp –permanent     ## 永久开放 ftp 服务<br>firewall-cmd –remove-service=ftp –permanent  ## 永久移除 ftp 服务<br>firewall-cmd –remove-port=3000/tcp        ## 临时移除 3000 端口<br>firewall-cmd –add-port=80/tcp –permanent     ## 永久添加 80 端口<br>iptables -L -n                                 ## 查看规则，这个命令是和 iptables 的相同的<br>man firewall-cmd                               ## 查看帮助</p>
]]></content>
      <tags>
        <tag>Centos</tag>
      </tags>
  </entry>
  <entry>
    <title>Markdown 技巧：改变表格宽度（列宽）</title>
    <url>/2020/02/09/Markdown%E6%8A%80%E5%B7%A7%EF%BC%9A%E6%94%B9%E5%8F%98%E8%A1%A8%E6%A0%BC%E5%AE%BD%E5%BA%A6%EF%BC%88%E5%88%97%E5%AE%BD%EF%BC%89/</url>
    <content><![CDATA[<p>在 Markdown 表格前面加入下面的代码</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">table th:first-of-type {</span><br><span class="line">    width: 20%;</span><br><span class="line">}</span><br><span class="line">table th:nth-of-type(2) {</span><br><span class="line">    width: 30%;</span><br><span class="line">}</span><br><span class="line">table th:nth-of-type(3) {</span><br><span class="line">    width: 50%;</span><br><span class="line">}</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">| A列 | B列 | C列 |</span><br><span class="line">| :---| :--- :| ---: |</span><br><span class="line">| 列宽 = 10% 行宽| 列宽 = 30% 行宽 |列宽 = 60% 行宽 |</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>


<p>效果如下：</p>
<style>
table th:first-of-type {
    width: 20%;
}
table th:nth-of-type(2) {
    width: 30%;
}
table th:nth-of-type(3) {
    width: 50%;
}
</style>


<table>
<thead>
<tr>
<th align="left">A 列</th>
<th align="center"> B 列</th>
<th align="right"> C 列</th>
</tr>
</thead>
<tbody><tr>
<td align="left">列宽 = 10% 行宽</td>
<td align="center">列宽 = 30% 行宽</td>
<td align="right">列宽 = 60% 行宽</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows 日志分析及事件 ID 大全</title>
    <url>/2020/02/07/Windows%E4%BA%8B%E4%BB%B6ID%E5%A4%A7%E5%85%A8/</url>
    <content><![CDATA[<h4 id="常用ID号"><a href="#常用ID号" class="headerlink" title="常用ID号"></a>常用 ID 号</h4><p>系统：<br>1074，通过这个事件 ID 查看计算机的开机、关机、重启的时间以及原因和注释。<br>6005，表示计算机日志服务已启动，如果出现了事件 ID 为 6005，则表示这天正常启动了系统。<br>104，这个时间 ID 记录所有审计日志清除事件，当有日志被清除时，出现此事件 ID。<br>7030，服务创建错误。<br>7040，IPSEC 服务服务的启动类型已从禁用更改为自动启动。<br>7045，服务创建</p>
<p>安全：<br>4624，这个事件 ID 表示成功登陆的用户，用来筛选该系统的用户登陆成功情况。<br>4625，这个事件 ID 表示登陆失败的用户。<br>4720,4722,4723,4724,4725,4726,4738,4740, 事件 ID 表示当用户帐号发生创建，删除，改变密码时的事件记录。<br>4727,4737,4739,4762, 事件 ID 表示当用户组发生添加、删除时或组内添加成员时生成该事件。</p>
<style>
table th:first-of-type {
    width: 30px; }
    table th:nth-of-type(2) {
width: 170px; }
</style>

<h4 id="登陆类型"><a href="#登陆类型" class="headerlink" title="登陆类型"></a>登陆类型</h4><table>
<thead>
<tr>
<th>登录类型</th>
<th>登录类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td> 2</td>
<td>Interactive</td>
<td> 用户登录到本机</td>
</tr>
<tr>
<td> 3</td>
<td>Network</td>
<td> 用户或计算手机从网络登录到本机，如果网络共享，或使用 net use 访问网络共享，net view 查看网络共享</td>
</tr>
<tr>
<td> 4</td>
<td>Batch</td>
<td> 批处理登录类型，无需用户干预</td>
</tr>
<tr>
<td> 5</td>
<td>Service</td>
<td> 服务控制管理器登录</td>
</tr>
<tr>
<td> 7</td>
<td>Unlock</td>
<td> 用户解锁主机</td>
</tr>
<tr>
<td> 8</td>
<td>NetworkCleartext</td>
<td> 用户从网络登录到此计算机，用户密码用非哈希的形式传递</td>
</tr>
<tr>
<td> 9</td>
<td>NewCredentials</td>
<td> 进程或线程克隆了其当前令牌，但为出站连接指定了新凭据</td>
</tr>
<tr>
<td> 10</td>
<td>Remotelnteractive</td>
<td> 使用终端服务或远程桌面连接登录</td>
</tr>
<tr>
<td> 11</td>
<td>Cachedlnteractive</td>
<td> 用户使用本地存储在计算机上的凭据登录到计算机（域控制器可能无法验证凭据），如主机不能连接域控，以前使用域账户登录过这台主机，再登录就会产生这样日志</td>
</tr>
<tr>
<td> 12</td>
<td>CachedRemotelnteractive</td>
<td> 与 Remotelnteractive 相同，内部用于审计目的</td>
</tr>
<tr>
<td> 13</td>
<td>CachedUnlock</td>
<td> 登录尝试解锁</td>
</tr>
</tbody></table>
<h4 id="Windows事件ID清单大全"><a href="#Windows事件ID清单大全" class="headerlink" title="Windows事件ID清单大全"></a>Windows 事件 ID 清单大全</h4><table>
<thead>
<tr>
<th align="center">事件 ID</th>
<th align="left"> 错误信息解释</th>
</tr>
</thead>
<tbody><tr>
<td align="center"> 0</td>
<td align="left"> 操作成功完成。</td>
</tr>
<tr>
<td align="center">1</td>
<td align="left"> 函数不正确。</td>
</tr>
<tr>
<td align="center">2</td>
<td align="left"> 系统找不到指定的文件。</td>
</tr>
<tr>
<td align="center">3</td>
<td align="left"> 系统找不到指定的路径。</td>
</tr>
<tr>
<td align="center">4</td>
<td align="left"> 系统无法打开文件。</td>
</tr>
<tr>
<td align="center">5</td>
<td align="left"> 拒绝访问。</td>
</tr>
<tr>
<td align="center">6</td>
<td align="left"> 句柄无效。</td>
</tr>
<tr>
<td align="center">7</td>
<td align="left"> 存储控制块被损坏。</td>
</tr>
<tr>
<td align="center">8</td>
<td align="left"> 存储空间不足，无法处理此命令。</td>
</tr>
<tr>
<td align="center">9</td>
<td align="left"> 存储控制块地址无效。</td>
</tr>
<tr>
<td align="center">10</td>
<td align="left"> 环境不正确。</td>
</tr>
<tr>
<td align="center">11</td>
<td align="left"> 试图加载格式不正确的程序。</td>
</tr>
<tr>
<td align="center">12</td>
<td align="left"> 访问码无效。</td>
</tr>
<tr>
<td align="center">13</td>
<td align="left"> 数据无效。</td>
</tr>
<tr>
<td align="center">14</td>
<td align="left"> 存储空间不足，无法完成此操作。</td>
</tr>
<tr>
<td align="center">15</td>
<td align="left"> 系统找不到指定的驱动器。</td>
</tr>
<tr>
<td align="center">16</td>
<td align="left"> 无法删除目录。</td>
</tr>
<tr>
<td align="center">17</td>
<td align="left"> 系统无法将文件移到不同的驱动器。</td>
</tr>
<tr>
<td align="center">18</td>
<td align="left"> 没有更多文件。</td>
</tr>
<tr>
<td align="center">19</td>
<td align="left"> 介质受写入保护。</td>
</tr>
<tr>
<td align="center">20</td>
<td align="left"> 系统找不到指定的设备。</td>
</tr>
<tr>
<td align="center">21</td>
<td align="left"> 设备未就绪。</td>
</tr>
<tr>
<td align="center">22</td>
<td align="left"> 设备不识别此命令。</td>
</tr>
<tr>
<td align="center">23</td>
<td align="left"> 数据错误 (循环冗余检查)。</td>
</tr>
<tr>
<td align="center">24</td>
<td align="left"> 程序发出命令，但命令长度不正确。</td>
</tr>
<tr>
<td align="center">25</td>
<td align="left"> 驱动器找不到磁盘上特定区域或磁道。</td>
</tr>
<tr>
<td align="center">26</td>
<td align="left"> 无法访问指定的磁盘或软盘。</td>
</tr>
<tr>
<td align="center">27</td>
<td align="left"> 驱动器找不到请求的扇区。</td>
</tr>
<tr>
<td align="center">28</td>
<td align="left"> 打印机缺纸。</td>
</tr>
<tr>
<td align="center">29</td>
<td align="left"> 系统无法写入指定的设备。</td>
</tr>
<tr>
<td align="center">30</td>
<td align="left"> 系统无法从指定的设备上读取。</td>
</tr>
<tr>
<td align="center">31</td>
<td align="left"> 连到系统上的设备没有发挥作用。</td>
</tr>
<tr>
<td align="center">32</td>
<td align="left"> 另一个程序正在使用此文件，进程无法访问。</td>
</tr>
<tr>
<td align="center">33</td>
<td align="left"> 另一个程序已锁定文件的一部分，进程无法访问。</td>
</tr>
<tr>
<td align="center">36</td>
<td align="left"> 用来共享的打开文件过多。</td>
</tr>
<tr>
<td align="center">38</td>
<td align="left"> 已到文件结尾。</td>
</tr>
<tr>
<td align="center">39</td>
<td align="left"> 磁盘已满。</td>
</tr>
<tr>
<td align="center">50</td>
<td align="left"> 不支持请求。</td>
</tr>
<tr>
<td align="center">51</td>
<td align="left">Windows 无法找到网络路径。请确认网络路径正确并且目标计算机不忙或已关闭。如果 Windows 仍然无法找到网络路径，请与网络管理员联系。</td>
</tr>
<tr>
<td align="center">52</td>
<td align="left"> 由于网络上有重名，没有连接。请到 “控制面板” 中的 “系统” 更改计算机名，然后重试。</td>
</tr>
<tr>
<td align="center">53</td>
<td align="left"> 找不到网络路径。</td>
</tr>
<tr>
<td align="center">54</td>
<td align="left"> 网络很忙。</td>
</tr>
<tr>
<td align="center">55</td>
<td align="left"> 指定的网络资源或设备不再可用。</td>
</tr>
<tr>
<td align="center">56</td>
<td align="left"> 已达到网络 BIOS 命令限制。</td>
</tr>
<tr>
<td align="center">57</td>
<td align="left"> 网络适配器硬件出错。</td>
</tr>
<tr>
<td align="center">58</td>
<td align="left"> 指定的服务器无法运行请求的操作。</td>
</tr>
<tr>
<td align="center">59</td>
<td align="left"> 出现了意外的网络错误。</td>
</tr>
<tr>
<td align="center">60</td>
<td align="left"> 远程适配器不兼容。</td>
</tr>
<tr>
<td align="center">61</td>
<td align="left"> 打印机队列已满。</td>
</tr>
<tr>
<td align="center">62</td>
<td align="left"> 服务器上没有储存等待打印的文件的空间。</td>
</tr>
<tr>
<td align="center">63</td>
<td align="left"> 已删除等候打印的文件。</td>
</tr>
<tr>
<td align="center">64</td>
<td align="left"> 指定的网络名不再可用。</td>
</tr>
<tr>
<td align="center">65</td>
<td align="left"> 拒绝网络访问。</td>
</tr>
<tr>
<td align="center">66</td>
<td align="left"> 网络资源类型不对。</td>
</tr>
<tr>
<td align="center">67</td>
<td align="left"> 找不到网络名。</td>
</tr>
<tr>
<td align="center">68</td>
<td align="left"> 超出本地计算机网络适配器卡的名称限制。</td>
</tr>
<tr>
<td align="center">69</td>
<td align="left"> 超出了网络 BIOS 会话限制。</td>
</tr>
<tr>
<td align="center">70</td>
<td align="left"> 远程服务器已暂停，或正在启动过程中。</td>
</tr>
<tr>
<td align="center">71</td>
<td align="left"> 已达到计算机的连接数最大值，无法再同此远程计算机连接。</td>
</tr>
<tr>
<td align="center">72</td>
<td align="left"> 已暂停指定的打印机或磁盘设备。</td>
</tr>
<tr>
<td align="center">80</td>
<td align="left"> 文件存在。</td>
</tr>
<tr>
<td align="center">82</td>
<td align="left"> 无法创建目录或文件。</td>
</tr>
<tr>
<td align="center">83</td>
<td align="left">INT24 上的故障。</td>
</tr>
<tr>
<td align="center">84</td>
<td align="left"> 无法取得处理此请求的存储空间。</td>
</tr>
<tr>
<td align="center">85</td>
<td align="left"> 本地设备名已在使用中。</td>
</tr>
<tr>
<td align="center">86</td>
<td align="left"> 指定的网络密码不正确。</td>
</tr>
<tr>
<td align="center">87</td>
<td align="left"> 参数不正确。</td>
</tr>
<tr>
<td align="center">88</td>
<td align="left"> 网络上发生写入错误。</td>
</tr>
<tr>
<td align="center">89</td>
<td align="left"> 系统无法在此时启动另一个进程。</td>
</tr>
<tr>
<td align="center">100</td>
<td align="left"> 无法创建另一个系统信号灯。</td>
</tr>
<tr>
<td align="center">101</td>
<td align="left"> 另一个进程拥有独占的信号灯。</td>
</tr>
<tr>
<td align="center">102</td>
<td align="left"> 已设置信号灯，无法关闭。</td>
</tr>
<tr>
<td align="center">103</td>
<td align="left"> 无法再设置信号灯。</td>
</tr>
<tr>
<td align="center">104</td>
<td align="left"> 无法在中断时请求独占的信号灯。</td>
</tr>
<tr>
<td align="center">105</td>
<td align="left"> 此信号灯的前一个所有权已结束。</td>
</tr>
<tr>
<td align="center">107</td>
<td align="left"> 由于没有插入另一个软盘，程序停止。</td>
</tr>
<tr>
<td align="center">108</td>
<td align="left"> 磁盘在使用中，或被另一个进程锁定。</td>
</tr>
<tr>
<td align="center">109</td>
<td align="left"> 管道已结束。</td>
</tr>
<tr>
<td align="center">110</td>
<td align="left"> 系统无法打开指定的设备或文件。</td>
</tr>
<tr>
<td align="center">111</td>
<td align="left"> 文件名太长。</td>
</tr>
<tr>
<td align="center">112</td>
<td align="left"> 磁盘空间不足。</td>
</tr>
<tr>
<td align="center">113</td>
<td align="left"> 没有更多的内部文件标识符。</td>
</tr>
<tr>
<td align="center">114</td>
<td align="left"> 目标内部文件标识符不正确。</td>
</tr>
<tr>
<td align="center">117</td>
<td align="left"> 应用程序发出的 IOCTL 调用不正确。</td>
</tr>
<tr>
<td align="center">118</td>
<td align="left"> 验证写入的切换参数值不正确。</td>
</tr>
<tr>
<td align="center">119</td>
<td align="left"> 系统不支持请求的命令。</td>
</tr>
<tr>
<td align="center">120</td>
<td align="left"> 这个系统不支持该功能。</td>
</tr>
<tr>
<td align="center">121</td>
<td align="left"> 信号灯超时时间已到。</td>
</tr>
<tr>
<td align="center">122</td>
<td align="left"> 传递给系统调用的数据区域太小。</td>
</tr>
<tr>
<td align="center">123</td>
<td align="left"> 文件名、目录名或卷标语法不正确。</td>
</tr>
<tr>
<td align="center">124</td>
<td align="left"> 系统调用级别不正确。</td>
</tr>
<tr>
<td align="center">125</td>
<td align="left"> 磁盘没有卷标。</td>
</tr>
<tr>
<td align="center">126</td>
<td align="left"> 找不到指定的模块。</td>
</tr>
<tr>
<td align="center">127</td>
<td align="left"> 找不到指定的程序。</td>
</tr>
<tr>
<td align="center">128</td>
<td align="left"> 没有等候的子进程。</td>
</tr>
<tr>
<td align="center">130</td>
<td align="left"> 试图使用操作 (而非原始磁盘 I/O) 的已打开磁盘分区的文件句柄。</td>
</tr>
<tr>
<td align="center">131</td>
<td align="left"> 试图将文件指针移到文件开头之前。</td>
</tr>
<tr>
<td align="center">132</td>
<td align="left"> 无法在指定的设备或文件上设置文件指针。</td>
</tr>
<tr>
<td align="center">133</td>
<td align="left"> 包含先前加入驱动器的驱动器无法使用 JOIN 或 SUBST 命令。</td>
</tr>
<tr>
<td align="center">134</td>
<td align="left"> 试图在已被合并的驱动器上使用 JOIN 或 SUBST 命令。</td>
</tr>
<tr>
<td align="center">135</td>
<td align="left"> 试图在已被合并的驱动器上使用 JOIN 或 SUBST 命令。</td>
</tr>
<tr>
<td align="center">136</td>
<td align="left"> 系统试图解除未合并驱动器的 JOIN。</td>
</tr>
<tr>
<td align="center">137</td>
<td align="left"> 系统试图解除未替代驱动器的 SUBST。</td>
</tr>
<tr>
<td align="center">138</td>
<td align="left"> 系统试图将驱动器合并到合并驱动器上的目录。</td>
</tr>
<tr>
<td align="center">139</td>
<td align="left"> 系统试图将驱动器替代为替代驱动器上的目录。</td>
</tr>
<tr>
<td align="center">140</td>
<td align="left"> 系统试图将驱动器合并到替代驱动器上的目录。</td>
</tr>
<tr>
<td align="center">141</td>
<td align="left"> 系统试图替代驱动器为合并驱动器上的目录。</td>
</tr>
<tr>
<td align="center">142</td>
<td align="left"> 系统无法在此时运行 JOIN 或 SUBST。</td>
</tr>
<tr>
<td align="center">143</td>
<td align="left"> 系统无法将驱动器合并到或替代为相同驱动器上的目录。</td>
</tr>
<tr>
<td align="center">144</td>
<td align="left"> 目录不是根目录下的子目录。</td>
</tr>
<tr>
<td align="center">145</td>
<td align="left"> 目录不是空的。</td>
</tr>
<tr>
<td align="center">146</td>
<td align="left"> 指定的路径已在替代中使用。</td>
</tr>
<tr>
<td align="center">147</td>
<td align="left"> 资源不足，无法处理此命令。</td>
</tr>
<tr>
<td align="center">148</td>
<td align="left"> 指定的路径无法在此时使用。</td>
</tr>
<tr>
<td align="center">149</td>
<td align="left"> 企图将驱动器合并或替代为驱动器上目录是上一个替代的目标的驱动器。</td>
</tr>
<tr>
<td align="center">150</td>
<td align="left"> 系统跟踪信息未在 CONFIG.SYS 文件中指定，或不允许跟踪。</td>
</tr>
<tr>
<td align="center">151</td>
<td align="left"> 为 DosMuxSemWait 指定的信号灯事件数量不正确。</td>
</tr>
<tr>
<td align="center">152</td>
<td align="left">DosMuxSemWait 没有运行；已设置过多的信号灯。</td>
</tr>
<tr>
<td align="center">153</td>
<td align="left">DosMuxSemWait 列表不正确。</td>
</tr>
<tr>
<td align="center">154</td>
<td align="left"> 输入的卷标超过目标文件系统的长度限制。</td>
</tr>
<tr>
<td align="center">155</td>
<td align="left"> 无法创建另一个线程。</td>
</tr>
<tr>
<td align="center">156</td>
<td align="left"> 接收人进程拒绝此信号。</td>
</tr>
<tr>
<td align="center">157</td>
<td align="left"> 段已被放弃且无法锁定。</td>
</tr>
<tr>
<td align="center">158</td>
<td align="left"> 段已解除锁定。</td>
</tr>
<tr>
<td align="center">159</td>
<td align="left"> 线程 ID 的地址不正确。</td>
</tr>
<tr>
<td align="center">160</td>
<td align="left"> 至少有一个参数不正确。</td>
</tr>
<tr>
<td align="center">161</td>
<td align="left"> 指定的路径无效。</td>
</tr>
<tr>
<td align="center">162</td>
<td align="left"> 信号已暂停。</td>
</tr>
<tr>
<td align="center">164</td>
<td align="left"> 无法在系统中创建更多的线程。</td>
</tr>
<tr>
<td align="center">167</td>
<td align="left"> 无法锁定文件区域。</td>
</tr>
<tr>
<td align="center">170</td>
<td align="left"> 请求的资源在使用中。</td>
</tr>
<tr>
<td align="center">173</td>
<td align="left"> 对于提供取消区域进行锁定的请求已完成。</td>
</tr>
<tr>
<td align="center">174</td>
<td align="left"> 文件系统不支持锁定类型的最小单元更改。</td>
</tr>
<tr>
<td align="center">180</td>
<td align="left"> 系统检测出错误的段号。</td>
</tr>
<tr>
<td align="center">183</td>
<td align="left"> 当文件已存在时，无法创建该文件。</td>
</tr>
<tr>
<td align="center">186</td>
<td align="left"> 传递的标志不正确。</td>
</tr>
<tr>
<td align="center">187</td>
<td align="left"> 找不到指定的系统信号灯名称。</td>
</tr>
<tr>
<td align="center">196</td>
<td align="left"> 操作系统无法运行此应用程序。</td>
</tr>
<tr>
<td align="center">197</td>
<td align="left"> 操作系统当前的配置不能运行此应用程序。</td>
</tr>
<tr>
<td align="center">199</td>
<td align="left"> 操作系统无法运行此应用程序。</td>
</tr>
<tr>
<td align="center">200</td>
<td align="left"> 代码段不可大于或等于 64K。</td>
</tr>
<tr>
<td align="center">203</td>
<td align="left"> 操作系统找不到已输入的环境选项。</td>
</tr>
<tr>
<td align="center">205</td>
<td align="left"> 命令子树中的进程没有信号处理程序。</td>
</tr>
<tr>
<td align="center">206</td>
<td align="left"> 文件名或扩展名太长。</td>
</tr>
<tr>
<td align="center">207</td>
<td align="left"> 第 2 环堆栈已被占用。</td>
</tr>
<tr>
<td align="center">208</td>
<td align="left"> 没有正确输入文件名通配符 * 或？，或指定过多的文件名通配符。</td>
</tr>
<tr>
<td align="center">209</td>
<td align="left"> 正在发送的信号不正确。</td>
</tr>
<tr>
<td align="center">210</td>
<td align="left"> 无法设置信号处理程序。</td>
</tr>
<tr>
<td align="center">212</td>
<td align="left"> 段已锁定且无法重新分配。</td>
</tr>
<tr>
<td align="center">214</td>
<td align="left"> 连到该程序或动态链接模块的动态链接模块太多。</td>
</tr>
<tr>
<td align="center">215</td>
<td align="left"> 无法嵌套调用 LoadModule。</td>
</tr>
<tr>
<td align="center">230</td>
<td align="left"> 管道状态无效。</td>
</tr>
<tr>
<td align="center">231</td>
<td align="left"> 所有的管道范例都在使用中。</td>
</tr>
<tr>
<td align="center">232</td>
<td align="left"> 管道正在被关闭。</td>
</tr>
<tr>
<td align="center">233</td>
<td align="left"> 管道的另一端上无任何进程。</td>
</tr>
<tr>
<td align="center">234</td>
<td align="left"> 有更多数据可用。</td>
</tr>
<tr>
<td align="center">240</td>
<td align="left"> 已取消会话。</td>
</tr>
<tr>
<td align="center">254</td>
<td align="left"> 指定的扩展属性名无效。</td>
</tr>
<tr>
<td align="center">255</td>
<td align="left"> 扩展属性不一致。</td>
</tr>
<tr>
<td align="center">258</td>
<td align="left"> 等待的操作过时。</td>
</tr>
<tr>
<td align="center">259</td>
<td align="left"> 没有可用的数据了。</td>
</tr>
<tr>
<td align="center">266</td>
<td align="left"> 无法使用复制功能。</td>
</tr>
<tr>
<td align="center">267</td>
<td align="left"> 目录名无效。</td>
</tr>
<tr>
<td align="center">275</td>
<td align="left"> 扩展属性在缓冲区中不适用。</td>
</tr>
<tr>
<td align="center">276</td>
<td align="left"> 装在文件系统上的扩展属性文件已损坏。</td>
</tr>
<tr>
<td align="center">277</td>
<td align="left"> 扩展属性表格文件已满。</td>
</tr>
<tr>
<td align="center">278</td>
<td align="left"> 指定的扩展属性句柄无效。</td>
</tr>
<tr>
<td align="center">282</td>
<td align="left"> 装入的文件系统不支持扩展属性。</td>
</tr>
<tr>
<td align="center">288</td>
<td align="left"> 企图释放并非呼叫方所拥有的多用户终端运行程序。</td>
</tr>
<tr>
<td align="center">298</td>
<td align="left"> 发向信号灯的请求过多。</td>
</tr>
<tr>
<td align="center">299</td>
<td align="left"> 仅完成部分的 ReadProcessMemoty 或 WriteProcessMemory 请求。</td>
</tr>
<tr>
<td align="center">300</td>
<td align="left"> 操作锁定请求被拒绝。</td>
</tr>
<tr>
<td align="center">301</td>
<td align="left"> 系统接收了一个无效的操作锁定确认。</td>
</tr>
<tr>
<td align="center">302</td>
<td align="left"> 此卷太碎，不能完成这个操作。</td>
</tr>
<tr>
<td align="center">303</td>
<td align="left"> 不能打开文件，因为它正在被删除。</td>
</tr>
<tr>
<td align="center">487</td>
<td align="left"> 试图访问无效的地址。</td>
</tr>
<tr>
<td align="center">512</td>
<td align="left">Windows 正在启动。</td>
</tr>
<tr>
<td align="center">513</td>
<td align="left">Windows 正在关机。</td>
</tr>
<tr>
<td align="center">514</td>
<td align="left"> 本地安全机制机构已加载身份验证数据包。</td>
</tr>
<tr>
<td align="center">515</td>
<td align="left"> 受信任的登录过程已经在本地安全机构注册。</td>
</tr>
<tr>
<td align="center">516</td>
<td align="left"> 用来列队审核消息的内部资源已经用完，从而导致部分审核数据丢失。</td>
</tr>
<tr>
<td align="center">517</td>
<td align="left"> 审核日志已清除。</td>
</tr>
<tr>
<td align="center">518</td>
<td align="left"> 安全帐户管理器已加载通知数据包。</td>
</tr>
<tr>
<td align="center">519</td>
<td align="left"> 进程正在使用无效的本地过程调用 (LPC) 端口，试图伪装客户端并向客户端地址空间答复、读取或写入。</td>
</tr>
<tr>
<td align="center">528</td>
<td align="left"> 用户成功登录到计算机。</td>
</tr>
<tr>
<td align="center">529</td>
<td align="left"> 登录失败。试图使用未知的用户名或已知用户名但错误密码进行登录。</td>
</tr>
<tr>
<td align="center">530</td>
<td align="left"> 登录失败。试图在允许的时间外登录。</td>
</tr>
<tr>
<td align="center">531</td>
<td align="left"> 登录失败。试图使用禁用的帐户登录。</td>
</tr>
<tr>
<td align="center">532</td>
<td align="left"> 登录失败。试图使用已过期的帐户登录。</td>
</tr>
<tr>
<td align="center">533</td>
<td align="left"> 登录失败。不允许登录到指定计算机的用户试图登录。</td>
</tr>
<tr>
<td align="center">534</td>
<td align="left"> 算术结果超过 32 位。</td>
</tr>
<tr>
<td align="center">535</td>
<td align="left"> 管道的另一端有一进程。</td>
</tr>
<tr>
<td align="center">536</td>
<td align="left"> 等候打开管道另一端的进程。</td>
</tr>
<tr>
<td align="center">537</td>
<td align="left"> 登录失败。由于其他原因登录尝试失败。</td>
</tr>
<tr>
<td align="center">538</td>
<td align="left"> 用户的注销过程已完成。</td>
</tr>
<tr>
<td align="center">539</td>
<td align="left"> 登录失败。试图登录时，该帐户已锁定。</td>
</tr>
<tr>
<td align="center">540</td>
<td align="left"> 用户成功登录到网络。</td>
</tr>
<tr>
<td align="center">541</td>
<td align="left"> 本地计算机与列出的对等客户端身份（已建立安全关联）之间的主要模式 Internet 密钥交换 (IKE) 身份验证已完成，或者快速模式已建立了数据频道。</td>
</tr>
<tr>
<td align="center">542</td>
<td align="left"> 数据频道已终止。</td>
</tr>
<tr>
<td align="center">543</td>
<td align="left"> 主要模式已终止。</td>
</tr>
<tr>
<td align="center">544</td>
<td align="left"> 由于对等客户端没有提供有效的证书或者签名无效，造成主要模式身份验证失败。</td>
</tr>
<tr>
<td align="center">545</td>
<td align="left"> 由于 Kerberos 失败或者密码无效，造成主要模式身份验证失败。</td>
</tr>
<tr>
<td align="center">546</td>
<td align="left"> 由于对等客户端发送的建议无效，造成 IKE 安全关联建立失败。接收到的程序包包含无效数据。</td>
</tr>
<tr>
<td align="center">547</td>
<td align="left"> 在 IKE 握手过程中，出现错误。</td>
</tr>
<tr>
<td align="center">548</td>
<td align="left"> 登录失败。来自信任域的安全标识符 (SID) 与客户端的帐户域 SID 不匹配。</td>
</tr>
<tr>
<td align="center">549</td>
<td align="left"> 登录失败。在林内进行身份验证时，所有与不受信任的名称空间相关的 SID 将被筛选出去。</td>
</tr>
<tr>
<td align="center">550</td>
<td align="left"> 可以用来指示可能的拒绝服务 (DoS) 攻击的通知消息。</td>
</tr>
<tr>
<td align="center">551</td>
<td align="left"> 用户已启动注销过程。</td>
</tr>
<tr>
<td align="center">552</td>
<td align="left"> 用户使用明确凭据成功登录到作为其他用户已登录到的计算机。</td>
</tr>
<tr>
<td align="center">560</td>
<td align="left"> 访问权限已授予现有的对象。</td>
</tr>
<tr>
<td align="center">562</td>
<td align="left"> 指向对象的句柄已关闭。</td>
</tr>
<tr>
<td align="center">563</td>
<td align="left"> 试图打开一个对象并打算将其删除。</td>
</tr>
<tr>
<td align="center">564</td>
<td align="left"> 受保护对象已删除。</td>
</tr>
<tr>
<td align="center">565</td>
<td align="left"> 访问权限已授予现有的对象类型。</td>
</tr>
<tr>
<td align="center">566</td>
<td align="left"> 发生了一般对象操作。</td>
</tr>
<tr>
<td align="center">567</td>
<td align="left"> 使用了与句柄关联的权限。</td>
</tr>
<tr>
<td align="center">568</td>
<td align="left"> 试图创建与正在审核的文件的硬链接。</td>
</tr>
<tr>
<td align="center">569</td>
<td align="left"> 授权管理器中的资源管理器试图创建客户端上下文。</td>
</tr>
<tr>
<td align="center">570</td>
<td align="left"> 客户端试图访问对象。</td>
</tr>
<tr>
<td align="center">571</td>
<td align="left"> 客户端上下文由授权管理器应用程序删除。</td>
</tr>
<tr>
<td align="center">572</td>
<td align="left">AdministratorManager（管理员管理器）初始化此应用程序。</td>
</tr>
<tr>
<td align="center">576</td>
<td align="left"> 指定的特权已添加到用户的访问令牌中。</td>
</tr>
<tr>
<td align="center">577</td>
<td align="left"> 用户试图执行需要特权的系统服务操作。</td>
</tr>
<tr>
<td align="center">578</td>
<td align="left"> 特权用于已经打开的受保护对象的句柄。</td>
</tr>
<tr>
<td align="center">592</td>
<td align="left"> 已创建新进程。</td>
</tr>
<tr>
<td align="center">593</td>
<td align="left"> 进程已退出。</td>
</tr>
<tr>
<td align="center">594</td>
<td align="left"> 对象句柄已复制。</td>
</tr>
<tr>
<td align="center">595</td>
<td align="left"> 已获取对象的间接访问权。</td>
</tr>
<tr>
<td align="center">596</td>
<td align="left"> 数据保护主密钥已备份。</td>
</tr>
<tr>
<td align="center">597</td>
<td align="left"> 数据保护主密钥已从恢复服务器恢复。</td>
</tr>
<tr>
<td align="center">598</td>
<td align="left"> 审核过的数据已受保护。</td>
</tr>
<tr>
<td align="center">599</td>
<td align="left"> 审核过的数据未受保护。</td>
</tr>
<tr>
<td align="center">600</td>
<td align="left"> 已分配给进程主令牌。</td>
</tr>
<tr>
<td align="center">601</td>
<td align="left"> 用户试图安装服务。</td>
</tr>
<tr>
<td align="center">602</td>
<td align="left"> 已创建计划程序任务。</td>
</tr>
<tr>
<td align="center">608</td>
<td align="left"> 已分配用户权限。</td>
</tr>
<tr>
<td align="center">609</td>
<td align="left"> 用户权限已删除。</td>
</tr>
<tr>
<td align="center">610</td>
<td align="left"> 与其他域的信任关系已创建。</td>
</tr>
<tr>
<td align="center">611</td>
<td align="left"> 与其他域的信任关系已删除。</td>
</tr>
<tr>
<td align="center">612</td>
<td align="left"> 审核策略已更改。</td>
</tr>
<tr>
<td align="center">613</td>
<td align="left">Internet 协议安全 (IPSec) 策略代理已启动。</td>
</tr>
<tr>
<td align="center">614</td>
<td align="left">IPSec 策略代理已禁用。</td>
</tr>
<tr>
<td align="center">615</td>
<td align="left">IPSec 策略代理已更改。</td>
</tr>
<tr>
<td align="center">616</td>
<td align="left">IPSec 策略代理遇到一个可能很严重的故障。</td>
</tr>
<tr>
<td align="center">617</td>
<td align="left">Kerberosv5 策略已更改。</td>
</tr>
<tr>
<td align="center">618</td>
<td align="left"> 加密数据恢复策略已更改。</td>
</tr>
<tr>
<td align="center">620</td>
<td align="left"> 与其他域的信任关系已修改。</td>
</tr>
<tr>
<td align="center">621</td>
<td align="left"> 已授予帐户系统访问权限。</td>
</tr>
<tr>
<td align="center">622</td>
<td align="left"> 已删除帐户的系统访问权限。</td>
</tr>
<tr>
<td align="center">623</td>
<td align="left"> 按用户设置审核策略。</td>
</tr>
<tr>
<td align="center">624</td>
<td align="left"> 创建了用户帐户</td>
</tr>
<tr>
<td align="center"> 625</td>
<td align="left"> 按用户刷新审核策略。</td>
</tr>
<tr>
<td align="center">626</td>
<td align="left"> 启用了用户帐户</td>
</tr>
<tr>
<td align="center"> 627</td>
<td align="left"> 用户密码已更改</td>
</tr>
<tr>
<td align="center"> 628</td>
<td align="left"> 设置了用户密码</td>
</tr>
<tr>
<td align="center"> 630</td>
<td align="left"> 用户帐户已删除。</td>
</tr>
<tr>
<td align="center">631</td>
<td align="left"> 全局组已创建。</td>
</tr>
<tr>
<td align="center">632</td>
<td align="left"> 成员已添加至全局组。</td>
</tr>
<tr>
<td align="center">633</td>
<td align="left"> 成员已从全局组删除。</td>
</tr>
<tr>
<td align="center">634</td>
<td align="left"> 全局组已删除。</td>
</tr>
<tr>
<td align="center">635</td>
<td align="left"> 已新建本地组。</td>
</tr>
<tr>
<td align="center">636</td>
<td align="left"> 成员已添加至本地组。</td>
</tr>
<tr>
<td align="center">637</td>
<td align="left"> 成员已从本地组删除。</td>
</tr>
<tr>
<td align="center">638</td>
<td align="left"> 本地组已删除。</td>
</tr>
<tr>
<td align="center">639</td>
<td align="left"> 本地组帐户已更改。</td>
</tr>
<tr>
<td align="center">641</td>
<td align="left"> 全局组帐户已更改。</td>
</tr>
<tr>
<td align="center">642</td>
<td align="left"> 用户帐户已更改。</td>
</tr>
<tr>
<td align="center">643</td>
<td align="left"> 域策略已修改。</td>
</tr>
<tr>
<td align="center">644</td>
<td align="left"> 用户帐户被自动锁定。</td>
</tr>
<tr>
<td align="center">645</td>
<td align="left"> 计算机帐户已创建。</td>
</tr>
<tr>
<td align="center">646</td>
<td align="left"> 计算机帐户已更改。</td>
</tr>
<tr>
<td align="center">647</td>
<td align="left"> 计算机帐户已删除。</td>
</tr>
<tr>
<td align="center">648</td>
<td align="left"> 禁用安全的本地安全组已创建。</td>
</tr>
<tr>
<td align="center">649</td>
<td align="left"> 禁用安全的本地安全组已更改。</td>
</tr>
<tr>
<td align="center">650</td>
<td align="left"> 成员已添加至禁用安全的本地安全组。</td>
</tr>
<tr>
<td align="center">651</td>
<td align="left"> 成员已从禁用安全的本地安全组删除。</td>
</tr>
<tr>
<td align="center">652</td>
<td align="left"> 禁用安全的本地组已删除。</td>
</tr>
<tr>
<td align="center">653</td>
<td align="left"> 禁用安全的全局组已创建。</td>
</tr>
<tr>
<td align="center">654</td>
<td align="left"> 禁用安全的全局组已更改。</td>
</tr>
<tr>
<td align="center">655</td>
<td align="left"> 成员已添加至禁用安全的全局组。</td>
</tr>
<tr>
<td align="center">656</td>
<td align="left"> 成员已从禁用安全的全局组删除。</td>
</tr>
<tr>
<td align="center">657</td>
<td align="left"> 禁用安全的全局组已删除。</td>
</tr>
<tr>
<td align="center">658</td>
<td align="left"> 启用安全的通用组已创建。</td>
</tr>
<tr>
<td align="center">659</td>
<td align="left"> 启用安全的通用组已更改。</td>
</tr>
<tr>
<td align="center">660</td>
<td align="left"> 成员已添加至启用安全的通用组。</td>
</tr>
<tr>
<td align="center">661</td>
<td align="left"> 成员已从启用安全的通用组删除。</td>
</tr>
<tr>
<td align="center">662</td>
<td align="left"> 启用安全的通用组已删除。</td>
</tr>
<tr>
<td align="center">663</td>
<td align="left"> 禁用安全的通用组已创建。</td>
</tr>
<tr>
<td align="center">664</td>
<td align="left"> 禁用安全的通用组已更改。</td>
</tr>
<tr>
<td align="center">665</td>
<td align="left"> 成员已添加至禁用安全的通用组。</td>
</tr>
<tr>
<td align="center">666</td>
<td align="left"> 成员已从禁用安全的通用组删除。</td>
</tr>
<tr>
<td align="center">667</td>
<td align="left"> 禁用安全的通用组已删除。</td>
</tr>
<tr>
<td align="center">668</td>
<td align="left"> 组类型已更改。</td>
</tr>
<tr>
<td align="center">672</td>
<td align="left"> 已成功颁发和验证身份验证服务 (AS) 票证。</td>
</tr>
<tr>
<td align="center">673</td>
<td align="left"> 授权票证服务 (TGS) 票证已授权。TGS 是由 Kerberosv5 票证授权服务 (TGS) 颁发的票证，允许用户对域中的特定服务进行身份验证。</td>
</tr>
<tr>
<td align="center">674</td>
<td align="left"> 安全主体已更新 AS 票证或 TGS 票证。</td>
</tr>
<tr>
<td align="center">675</td>
<td align="left"> 预身份验证失败。用户键入错误的密码时，密钥发行中心 (KDC) 生成此事件。</td>
</tr>
<tr>
<td align="center">676</td>
<td align="left"> 身份验证票证请求失败。在 WindowsXPProfessional 或 WindowsServer 家族的成员中不生成此事件。</td>
</tr>
<tr>
<td align="center">677</td>
<td align="left">TGS 票证未被授权。在 WindowsXPProfessional 或 WindowsServer 家族的成员中不生成此事件。</td>
</tr>
<tr>
<td align="center">678</td>
<td align="left"> 帐户已成功映射到域帐户。</td>
</tr>
<tr>
<td align="center">681</td>
<td align="left">681：登录失败。尝试进行域帐户登录。在 WindowsXPProfessional 或 WindowsServer 家族的成员中不生成此事件。</td>
</tr>
<tr>
<td align="center">682</td>
<td align="left"> 用户已重新连接至已断开的终端服务器会话。</td>
</tr>
<tr>
<td align="center">683</td>
<td align="left"> 用户还未注销就断开终端服务器会话。注意：当用户通过网络连接到终端服务器会话时，就会生成此事件。该事件出现在终端服务器上。</td>
</tr>
<tr>
<td align="center">684</td>
<td align="left"> 管理组成员的安全描述符已设置。</td>
</tr>
<tr>
<td align="center">685</td>
<td align="left"> 帐户名称已更改。</td>
</tr>
<tr>
<td align="center">768</td>
<td align="left"> 检测到两个林的名称空间元素之间有冲突。</td>
</tr>
<tr>
<td align="center">769</td>
<td align="left"> 已添加受信任的林信息。</td>
</tr>
<tr>
<td align="center">770</td>
<td align="left"> 已删除受信任的林信息。</td>
</tr>
<tr>
<td align="center">771</td>
<td align="left"> 已修改受信任的林信息。</td>
</tr>
<tr>
<td align="center">772</td>
<td align="left"> 证书管理器已拒绝挂起的证书申请。</td>
</tr>
<tr>
<td align="center">773</td>
<td align="left"> 证书服务已收到重新提交的证书申请。</td>
</tr>
<tr>
<td align="center">774</td>
<td align="left"> 证书服务已吊销证书。</td>
</tr>
<tr>
<td align="center">775</td>
<td align="left"> 证书服务已收到发行证书吊销列表 (CRL) 的请求。</td>
</tr>
<tr>
<td align="center">776</td>
<td align="left"> 证书服务已发行 CRL。</td>
</tr>
<tr>
<td align="center">777</td>
<td align="left"> 已制定证书申请扩展。</td>
</tr>
<tr>
<td align="center">778</td>
<td align="left"> 已更改多个证书申请属性。</td>
</tr>
<tr>
<td align="center">779</td>
<td align="left"> 证书服务已收到关机请求。</td>
</tr>
<tr>
<td align="center">780</td>
<td align="left"> 已开始证书服务备份。</td>
</tr>
<tr>
<td align="center">781</td>
<td align="left"> 已完成证书服务备份。</td>
</tr>
<tr>
<td align="center">782</td>
<td align="left"> 已开始证书服务还原。</td>
</tr>
<tr>
<td align="center">783</td>
<td align="left"> 已完成证书服务还原。</td>
</tr>
<tr>
<td align="center">784</td>
<td align="left"> 证书服务已开始。</td>
</tr>
<tr>
<td align="center">785</td>
<td align="left"> 证书服务已停止。</td>
</tr>
<tr>
<td align="center">786</td>
<td align="left"> 已更改证书服务的安全权限。</td>
</tr>
<tr>
<td align="center">787</td>
<td align="left"> 证书服务已检索存档密钥。</td>
</tr>
<tr>
<td align="center">788</td>
<td align="left"> 证书服务已将证书导入其数据库中。</td>
</tr>
<tr>
<td align="center">789</td>
<td align="left"> 证书服务审核筛选已更改。</td>
</tr>
<tr>
<td align="center">790</td>
<td align="left"> 证书服务已收到证书申请。</td>
</tr>
<tr>
<td align="center">791</td>
<td align="left"> 证书服务已批准证书申请并已颁发证书。</td>
</tr>
<tr>
<td align="center">792</td>
<td align="left"> 证书服务已拒绝证书申请。</td>
</tr>
<tr>
<td align="center">793</td>
<td align="left"> 证书服务将证书申请状态设为挂起。</td>
</tr>
<tr>
<td align="center">794</td>
<td align="left"> 证书服务的证书管理器设置已更改。</td>
</tr>
<tr>
<td align="center">795</td>
<td align="left"> 证书服务中的配置项已更改。</td>
</tr>
<tr>
<td align="center">796</td>
<td align="left"> 证书服务的属性已更改。</td>
</tr>
<tr>
<td align="center">797</td>
<td align="left"> 证书服务已将密钥存档。</td>
</tr>
<tr>
<td align="center">798</td>
<td align="left"> 证书服务导入密钥并将其存档。</td>
</tr>
<tr>
<td align="center">799</td>
<td align="left"> 证书服务已将证书颁发机构 (CA) 证书发行到 MicrosoftActiveDirectory? 目录服务。</td>
</tr>
<tr>
<td align="center">800</td>
<td align="left"> 已从证书数据库删除一行或多行。</td>
</tr>
<tr>
<td align="center">801</td>
<td align="left"> 角色分离已启用。</td>
</tr>
<tr>
<td align="center">805</td>
<td align="left"> 事件日志服务读取会话的安全日志配置。</td>
</tr>
<tr>
<td align="center">994</td>
<td align="left"> 拒绝访问扩展属性。</td>
</tr>
<tr>
<td align="center">995</td>
<td align="left"> 由于线程退出或应用程序请求，已放弃 I/O 操作。</td>
</tr>
<tr>
<td align="center">996</td>
<td align="left"> 重叠 I/O 事件不在信号状态中。</td>
</tr>
<tr>
<td align="center">997</td>
<td align="left"> 重叠 I/O 操作在进行中。</td>
</tr>
<tr>
<td align="center">998</td>
<td align="left"> 内存分配访问无效。</td>
</tr>
<tr>
<td align="center">999</td>
<td align="left"> 执行页内操作时的错误。</td>
</tr>
<tr>
<td align="center">1001</td>
<td align="left"> 递归太深；堆栈溢出。</td>
</tr>
<tr>
<td align="center">1002</td>
<td align="left"> 窗口无法在已发送的消息上操作。</td>
</tr>
<tr>
<td align="center">1003</td>
<td align="left"> 无法完成此功能。</td>
</tr>
<tr>
<td align="center">1004</td>
<td align="left"> 无效标志。</td>
</tr>
<tr>
<td align="center">1005</td>
<td align="left"> 此卷不包含可识别的文件系统。请确定所有请求的文件系统驱动程序已加载，且此卷未损坏。</td>
</tr>
<tr>
<td align="center">1006</td>
<td align="left"> 文件所在的卷已被外部改变，因此打开的文件不再有效。</td>
</tr>
<tr>
<td align="center">1007</td>
<td align="left"> 无法在全屏幕模式下运行请求的操作。</td>
</tr>
<tr>
<td align="center">1008</td>
<td align="left"> 试图引用不存在的令牌。</td>
</tr>
<tr>
<td align="center">1009</td>
<td align="left"> 配置注册表数据库损坏。</td>
</tr>
<tr>
<td align="center">1010</td>
<td align="left"> 配置注册表项无效。</td>
</tr>
<tr>
<td align="center">1011</td>
<td align="left"> 无法打开配置注册表项。</td>
</tr>
<tr>
<td align="center">1012</td>
<td align="left"> 无法读取配置注册表项。</td>
</tr>
<tr>
<td align="center">1013</td>
<td align="left"> 无法写入配置注册表项。</td>
</tr>
<tr>
<td align="center">1014</td>
<td align="left"> 注册表数据库中的某一文件必须使用记录或替代复制来恢复。恢复成功完成。</td>
</tr>
<tr>
<td align="center">1015</td>
<td align="left"> 注册表损坏。包含注册表数据的某一文件结构损坏，或系统的文件内存映像损坏，或因为替代副本、日志缺少或损坏而无法恢复文件。</td>
</tr>
<tr>
<td align="center">1016</td>
<td align="left"> 由注册表启动的 I/O 操作失败并无法恢复。注册表无法读入、写出或清除任意一个包含注册表系统映像的文件。</td>
</tr>
<tr>
<td align="center">1017</td>
<td align="left"> 系统试图加载或还原文件到注册表，但指定的文件并非注册表文件格式。</td>
</tr>
<tr>
<td align="center">1018</td>
<td align="left"> 试图在标记为删除的注册表项上进行不合法的操作。</td>
</tr>
<tr>
<td align="center">1019</td>
<td align="left"> 系统无法分配注册表日志中所需空间。</td>
</tr>
<tr>
<td align="center">1020</td>
<td align="left"> 无法在已有子项或值的注册表项中创建符号链接。</td>
</tr>
<tr>
<td align="center">1021</td>
<td align="left"> 无法在易变父项下创建稳定子项。</td>
</tr>
<tr>
<td align="center">1022</td>
<td align="left"> 正在完成通知更改请求，而且信息没有返回到呼叫方的缓冲区中。当前呼叫方必须枚举文件来查找改动。</td>
</tr>
<tr>
<td align="center">1051</td>
<td align="left"> 停止控制被发送到其他正在运行的服务所依赖的服务。</td>
</tr>
<tr>
<td align="center">1052</td>
<td align="left"> 请求的控件对此服务无效。</td>
</tr>
<tr>
<td align="center">1053</td>
<td align="left"> 服务没有及时响应启动或控制请求。</td>
</tr>
<tr>
<td align="center">1054</td>
<td align="left"> 无法创建此服务的线程。</td>
</tr>
<tr>
<td align="center">1055</td>
<td align="left"> 服务数据库已锁定。</td>
</tr>
<tr>
<td align="center">1056</td>
<td align="left"> 服务的范例已在运行中。</td>
</tr>
<tr>
<td align="center">1057</td>
<td align="left"> 帐户名无效或不存在，或者密码对于指定的帐户名无效。</td>
</tr>
<tr>
<td align="center">1058</td>
<td align="left"> 无法启动服务，原因可能是已被禁用或与其相关联的设备没有启动。</td>
</tr>
<tr>
<td align="center">1059</td>
<td align="left"> 指定了循环服务依存。</td>
</tr>
<tr>
<td align="center">1060</td>
<td align="left"> 指定的服务并未以已安装的服务存在。</td>
</tr>
<tr>
<td align="center">1061</td>
<td align="left"> 服务无法在此时接受控制信息。</td>
</tr>
<tr>
<td align="center">1062</td>
<td align="left"> 服务未启动。</td>
</tr>
<tr>
<td align="center">1063</td>
<td align="left"> 服务进程无法连接到服务控制器上。</td>
</tr>
<tr>
<td align="center">1064</td>
<td align="left"> 当处理控制请求时，在服务中发生异常。</td>
</tr>
<tr>
<td align="center">1065</td>
<td align="left"> 指定的数据库不存在。</td>
</tr>
<tr>
<td align="center">1066</td>
<td align="left"> 服务已返回特定的服务错误码。</td>
</tr>
<tr>
<td align="center">1067</td>
<td align="left"> 进程意外终止。</td>
</tr>
<tr>
<td align="center">1068</td>
<td align="left"> 依存服务或组无法启动。</td>
</tr>
<tr>
<td align="center">1069</td>
<td align="left"> 由于登录失败而无法启动服务。</td>
</tr>
<tr>
<td align="center">1070</td>
<td align="left"> 启动后，服务停留在启动暂停状态。</td>
</tr>
<tr>
<td align="center">1071</td>
<td align="left"> 指定的服务数据库锁定无效。</td>
</tr>
<tr>
<td align="center">1072</td>
<td align="left"> 指定的服务已标记为删除。</td>
</tr>
<tr>
<td align="center">1073</td>
<td align="left"> 指定的服务已存在。</td>
</tr>
<tr>
<td align="center">1074</td>
<td align="left"> 系统当前以最新的有效配置运行。</td>
</tr>
<tr>
<td align="center">1075</td>
<td align="left"> 依存服务不存在，或已被标记为删除。</td>
</tr>
<tr>
<td align="center">1076</td>
<td align="left"> 已接受使用当前引导作为最后的有效控制设置。</td>
</tr>
<tr>
<td align="center">1077</td>
<td align="left"> 上次启动之后，仍未尝试引导服务。</td>
</tr>
<tr>
<td align="center">1078</td>
<td align="left"> 名称已用作服务名或服务显示名。</td>
</tr>
<tr>
<td align="center">1079</td>
<td align="left"> 此服务的帐户不同于运行于同一进程上的其他服务的帐户。</td>
</tr>
<tr>
<td align="center">1080</td>
<td align="left"> 只能为 Win32 服务设置失败操作，不能为驱动程序设置。</td>
</tr>
<tr>
<td align="center">1081</td>
<td align="left"> 这个服务所运行的处理和服务控制管理器相同。所以，如果服务处理程序意外中止的话，服务控制管理器无法进行任何操作。</td>
</tr>
<tr>
<td align="center">1082</td>
<td align="left"> 这个服务尚未设置恢复程序。</td>
</tr>
<tr>
<td align="center">1083</td>
<td align="left"> 配置成在该可执行程序中运行的这个服务不能执行该服务。</td>
</tr>
<tr>
<td align="center">1084</td>
<td align="left"> 不能以安全模式开始这项服务</td>
</tr>
<tr>
<td align="center"> 1100</td>
<td align="left"> 已达磁带的实际结尾。</td>
</tr>
<tr>
<td align="center">1101</td>
<td align="left"> 磁带访问已达文件标记。</td>
</tr>
<tr>
<td align="center">1102</td>
<td align="left"> 已达磁带或磁盘分区的开头。</td>
</tr>
<tr>
<td align="center">1103</td>
<td align="left"> 磁带访问已达一组文件的结尾。</td>
</tr>
<tr>
<td align="center">1104</td>
<td align="left"> 磁带上不再有任何数据。</td>
</tr>
<tr>
<td align="center">1105</td>
<td align="left"> 磁带不能分区。</td>
</tr>
<tr>
<td align="center">1106</td>
<td align="left"> 在访问多卷分区的新磁带时，当前的块大小不正确。</td>
</tr>
<tr>
<td align="center">1107</td>
<td align="left"> 在加载磁带时找不到磁带分区信息。</td>
</tr>
<tr>
<td align="center">1108</td>
<td align="left"> 无法锁定媒体弹出功能。</td>
</tr>
<tr>
<td align="center">1109</td>
<td align="left"> 无法卸载介质。</td>
</tr>
<tr>
<td align="center">1110</td>
<td align="left"> 驱动器中的介质可能已更改。</td>
</tr>
<tr>
<td align="center">1111</td>
<td align="left"> 已复位 I/O 总线。</td>
</tr>
<tr>
<td align="center">1112</td>
<td align="left"> 驱动器中没有媒体。</td>
</tr>
<tr>
<td align="center">1113</td>
<td align="left"> 在多字节的目标代码页中，没有此 Unicode 字符可以映射到的字符。</td>
</tr>
<tr>
<td align="center">1114</td>
<td align="left"> 动态链接库 (DLL) 初始化例程失败。</td>
</tr>
<tr>
<td align="center">1115</td>
<td align="left"> 系统正在关机。</td>
</tr>
<tr>
<td align="center">1116</td>
<td align="left"> 因为没有任何进行中的关机过程，所以无法中断系统关机。</td>
</tr>
<tr>
<td align="center">1117</td>
<td align="left"> 由于 I/O 设备错误，无法运行此项请求。</td>
</tr>
<tr>
<td align="center">1118</td>
<td align="left"> 串行设备初始化不成功。串行驱动程序将卸载。</td>
</tr>
<tr>
<td align="center">1119</td>
<td align="left"> 无法打开正在与其他设备共享中断请求 (IRQ) 的设备。至少有一个使用该 IRQ 的其他设备已打开。</td>
</tr>
<tr>
<td align="center">1120</td>
<td align="left"> 序列 I/O 操作已由另一个串行口的写入完成。(IOCTL_SERIAL_XOFF_COUNTER 已达零。)</td>
</tr>
<tr>
<td align="center">1121</td>
<td align="left"> 因为已过超时时间，所以串行 I/O 操作完成。(IOCTL_SERIAL_XOFF_COUNTER 未达零。)</td>
</tr>
<tr>
<td align="center">1122</td>
<td align="left"> 在软盘上找不到 ID 地址标记。</td>
</tr>
<tr>
<td align="center">1123</td>
<td align="left"> 软盘扇区 ID 字符域与软盘控制器磁道地址不匹配。</td>
</tr>
<tr>
<td align="center">1124</td>
<td align="left"> 软盘控制器报告软盘驱动程序不能识别的错误。</td>
</tr>
<tr>
<td align="center">1125</td>
<td align="left"> 软盘控制器返回与其寄存器中不一致的结果。</td>
</tr>
<tr>
<td align="center">1126</td>
<td align="left"> 访问硬盘时，重新校准操作失败。重试之后仍然不成功。</td>
</tr>
<tr>
<td align="center">1127</td>
<td align="left"> 访问硬盘时，磁盘操作失败。重试之后仍然不成功。</td>
</tr>
<tr>
<td align="center">1128</td>
<td align="left"> 当访问硬盘时，即使失败，仍须复位磁盘控制器。</td>
</tr>
<tr>
<td align="center">1129</td>
<td align="left"> 已达磁带结尾。</td>
</tr>
<tr>
<td align="center">1130</td>
<td align="left"> 服务器存储空间不足，无法处理此命令。</td>
</tr>
<tr>
<td align="center">1131</td>
<td align="left"> 检测出潜在的死锁状态。</td>
</tr>
<tr>
<td align="center">1132</td>
<td align="left"> 指定的基址或文件偏移量没有适当对齐。</td>
</tr>
<tr>
<td align="center">1140</td>
<td align="left"> 改变系统供电状态的尝试被另一应用程序或驱动程序否决。</td>
</tr>
<tr>
<td align="center">1141</td>
<td align="left"> 系统 BIOS 改变系统供电状态的尝试失败。</td>
</tr>
<tr>
<td align="center">1142</td>
<td align="left"> 试图在文件上创建超过文件系统支持的链接数。</td>
</tr>
<tr>
<td align="center">1150</td>
<td align="left"> 指定程序要求更新的 Windows 版本。</td>
</tr>
<tr>
<td align="center">1151</td>
<td align="left"> 指定程序不是 Windows 或 MS-DOS 程序。</td>
</tr>
<tr>
<td align="center">1152</td>
<td align="left"> 只能启动该指定程序的一个范例。</td>
</tr>
<tr>
<td align="center">1153</td>
<td align="left"> 该指定程序是为以前一个版本的的 Windows 而写的。</td>
</tr>
<tr>
<td align="center">1154</td>
<td align="left"> 运行该应用程序所需的一个库文件已被损坏。</td>
</tr>
<tr>
<td align="center">1155</td>
<td align="left"> 没有应用程序与此操作的指定文件有关联。</td>
</tr>
<tr>
<td align="center">1156</td>
<td align="left"> 在输送指令到应用程序的过程中出现错误。</td>
</tr>
<tr>
<td align="center">1157</td>
<td align="left"> 执行该应用程序所需的库文件之一无法找到。</td>
</tr>
<tr>
<td align="center">1158</td>
<td align="left"> 当前程序已使用了 Window 管理器对象的系统允许的所有句柄。</td>
</tr>
<tr>
<td align="center">1159</td>
<td align="left"> 消息只能与同步操作一起使用。</td>
</tr>
<tr>
<td align="center">1160</td>
<td align="left"> 指出的源元素没有媒体。</td>
</tr>
<tr>
<td align="center">1161</td>
<td align="left"> 指出的目标元素已包含媒体。</td>
</tr>
<tr>
<td align="center">1162</td>
<td align="left"> 指出的元素不存在。</td>
</tr>
<tr>
<td align="center">1163</td>
<td align="left"> 指出的元素是未显示的存储资源的一部分。</td>
</tr>
<tr>
<td align="center">1164</td>
<td align="left"> 由于硬件错误，显示设备需要重新初始化。</td>
</tr>
<tr>
<td align="center">1165</td>
<td align="left"> 设备指示在尝试进一步操作之前需要清除。</td>
</tr>
<tr>
<td align="center">1166</td>
<td align="left"> 设备指示门是打开的。</td>
</tr>
<tr>
<td align="center">1167</td>
<td align="left"> 设备没有连接。</td>
</tr>
<tr>
<td align="center">1168</td>
<td align="left"> 找不到元素。</td>
</tr>
<tr>
<td align="center">1169</td>
<td align="left"> 索引中没有同指定项相匹配的项。</td>
</tr>
<tr>
<td align="center">1170</td>
<td align="left"> 在对象上不存在指定的属性集。</td>
</tr>
<tr>
<td align="center">1171</td>
<td align="left"> 传递到 GetMouseMovePoints 的点不在缓冲区中。</td>
</tr>
<tr>
<td align="center">1172</td>
<td align="left"> 跟踪 (工作站) 服务没有运行。</td>
</tr>
<tr>
<td align="center">1173</td>
<td align="left"> 找不到卷 ID。</td>
</tr>
<tr>
<td align="center">1175</td>
<td align="left"> 无法删除要被替换的文件。</td>
</tr>
<tr>
<td align="center">1176</td>
<td align="left"> 无法将替换文件移到要被替换的文件。要被替换的文件保持原来的名称。</td>
</tr>
<tr>
<td align="center">1177</td>
<td align="left"> 无法将替换文件移到要被替换的文件。要被替换的文件已被重新命名为备份名称。</td>
</tr>
<tr>
<td align="center">1178</td>
<td align="left"> 正在删除卷更改日志。</td>
</tr>
<tr>
<td align="center">1179</td>
<td align="left"> 卷更改日志处于非活动状态。</td>
</tr>
<tr>
<td align="center">1180</td>
<td align="left"> 找到一份文件，但是可能不是正确的文件。</td>
</tr>
<tr>
<td align="center">1181</td>
<td align="left"> 日志项已从日志中被删除。</td>
</tr>
<tr>
<td align="center">1200</td>
<td align="left"> 指定的设备名无效。</td>
</tr>
<tr>
<td align="center">1201</td>
<td align="left"> 设备当前未连接上，但其为一个记录连接。</td>
</tr>
<tr>
<td align="center">1202</td>
<td align="left"> 本地设备名称已有到另一网络资源的记录连接。</td>
</tr>
<tr>
<td align="center">1203</td>
<td align="left"> 无任何网络提供程序接受指定的网络路径。</td>
</tr>
<tr>
<td align="center">1204</td>
<td align="left"> 指定的网络提供程序名称无效。</td>
</tr>
<tr>
<td align="center">1205</td>
<td align="left"> 无法打开网络连接配置文件。</td>
</tr>
<tr>
<td align="center">1206</td>
<td align="left"> 网络连接配置文件损坏。</td>
</tr>
<tr>
<td align="center">1207</td>
<td align="left"> 无法枚举空载体。</td>
</tr>
<tr>
<td align="center">1208</td>
<td align="left"> 出现了扩展错误。</td>
</tr>
<tr>
<td align="center">1209</td>
<td align="left"> 指定的组名格式无效。</td>
</tr>
<tr>
<td align="center">1210</td>
<td align="left"> 指定的计算机名格式无效。</td>
</tr>
<tr>
<td align="center">1211</td>
<td align="left"> 指定的事件名格式无效。</td>
</tr>
<tr>
<td align="center">1212</td>
<td align="left"> 指定的域名格式无效。</td>
</tr>
<tr>
<td align="center">1213</td>
<td align="left"> 指定的服务名格式无效。</td>
</tr>
<tr>
<td align="center">1214</td>
<td align="left"> 指定的网络名格式无效。</td>
</tr>
<tr>
<td align="center">1215</td>
<td align="left"> 指定的共享名格式无效。</td>
</tr>
<tr>
<td align="center">1216</td>
<td align="left"> 指定的密码格式无效。</td>
</tr>
<tr>
<td align="center">1217</td>
<td align="left"> 指定的消息名格式无效。</td>
</tr>
<tr>
<td align="center">1218</td>
<td align="left"> 指定的消息目标格式无效。</td>
</tr>
<tr>
<td align="center">1219</td>
<td align="left"> 不允许一个用户使用一个以上用户名与一个服务器或共享资源的多重连接。中断与此服务器或共享资源的所有连接，然后再试一次…</td>
</tr>
<tr>
<td align="center">1220</td>
<td align="left"> 试图与网络服务器建立会话，但目前与该服务器建立的会话太多。</td>
</tr>
<tr>
<td align="center">1221</td>
<td align="left"> 工作组或域名已由网络上的另一部计算机使用。</td>
</tr>
<tr>
<td align="center">1222</td>
<td align="left"> 网络不存在或尚未启动。</td>
</tr>
<tr>
<td align="center">1223</td>
<td align="left"> 操作已被用户取消。</td>
</tr>
<tr>
<td align="center">1224</td>
<td align="left"> 请求的操作无法在使用用户映射区域打开的文件上执行。</td>
</tr>
<tr>
<td align="center">1225</td>
<td align="left"> 远程系统拒绝网络连接。</td>
</tr>
<tr>
<td align="center">1226</td>
<td align="left"> 网络连接已被适当地关闭了。</td>
</tr>
<tr>
<td align="center">1227</td>
<td align="left"> 网络传输终结点已有与其关联的地址。</td>
</tr>
<tr>
<td align="center">1228</td>
<td align="left"> 地址仍未与网络终结点关联。</td>
</tr>
<tr>
<td align="center">1229</td>
<td align="left"> 企图在不存在的网络连接上进行操作。</td>
</tr>
<tr>
<td align="center">1230</td>
<td align="left"> 企图在使用中的网络连接上进行无效的操作。</td>
</tr>
<tr>
<td align="center">1231</td>
<td align="left"> 不能访问网络位置。有关网络排除故障的信息，请参阅 Windows 帮助。</td>
</tr>
<tr>
<td align="center">1232</td>
<td align="left"> 不能访问网络位置。有关网络排除故障的信息，请参阅 Windows 帮助。</td>
</tr>
<tr>
<td align="center">1233</td>
<td align="left"> 不能访问网络位置。有关网络排除故障的信息，请参阅 Windows 帮助。</td>
</tr>
<tr>
<td align="center">1234</td>
<td align="left"> 没有任何服务正在远程系统上的目标网络终结点上操作。</td>
</tr>
<tr>
<td align="center">1235</td>
<td align="left"> 请求被终止。</td>
</tr>
<tr>
<td align="center">1236</td>
<td align="left"> 由本地系统终止网络连接。</td>
</tr>
<tr>
<td align="center">1237</td>
<td align="left"> 操作无法完成。应该重试。</td>
</tr>
<tr>
<td align="center">1238</td>
<td align="left"> 因为已达到此帐户的最大同时连接数限制，所以无法连接服务器。</td>
</tr>
<tr>
<td align="center">1239</td>
<td align="left"> 试图在这个帐户未被授权的时间内登录。</td>
</tr>
<tr>
<td align="center">1240</td>
<td align="left"> 此帐户并未得到从这个工作站登录的授权。</td>
</tr>
<tr>
<td align="center">1241</td>
<td align="left"> 请求的操作不能使用这个网络地址。</td>
</tr>
<tr>
<td align="center">1242</td>
<td align="left"> 服务器已经注册。</td>
</tr>
<tr>
<td align="center">1243</td>
<td align="left"> 指定的服务不存在。</td>
</tr>
<tr>
<td align="center">1244</td>
<td align="left"> 因为用户还未被验证，不能执行所要求的操作。</td>
</tr>
<tr>
<td align="center">1245</td>
<td align="left"> 因为用户还未登录网络，不能执行所要求的操作。指定的服务不存在。</td>
</tr>
<tr>
<td align="center">1246</td>
<td align="left"> 正在继续工作。</td>
</tr>
<tr>
<td align="center">1247</td>
<td align="left"> 试图进行初始操作，但是初始化已完成。</td>
</tr>
<tr>
<td align="center">1248</td>
<td align="left"> 没有更多的本地设备。</td>
</tr>
<tr>
<td align="center">1249</td>
<td align="left"> 指定的站点不存在。</td>
</tr>
<tr>
<td align="center">1250</td>
<td align="left"> 具有指定名称的域控制器已经存在。</td>
</tr>
<tr>
<td align="center">1251</td>
<td align="left"> 只有连接到服务器上时，该操作才受支持。</td>
</tr>
<tr>
<td align="center">1252</td>
<td align="left"> 即使没有改动，组策略框架也应该调用扩展。</td>
</tr>
<tr>
<td align="center">1253</td>
<td align="left"> 指定的用户没有一个有效的配置文件。</td>
</tr>
<tr>
<td align="center">1254</td>
<td align="left">MicrosoftSmallBusinessServer 不支持此操作。</td>
</tr>
<tr>
<td align="center">1255</td>
<td align="left"> 服务器已关机。</td>
</tr>
<tr>
<td align="center">1256</td>
<td align="left"> 远程系统不可用。有关网络疑难解答，请见 Windows 帮助。</td>
</tr>
<tr>
<td align="center">1257</td>
<td align="left"> 提供的安全标识符不是来自一个帐户域。</td>
</tr>
<tr>
<td align="center">1258</td>
<td align="left"> 提供的安全标识符没有域组件。</td>
</tr>
<tr>
<td align="center">1259</td>
<td align="left"> 取消了 AppHelp 对话，导致应用程序无法启动。</td>
</tr>
<tr>
<td align="center">1260</td>
<td align="left"> 由于一个软件限制策略的阻止，Windows 无法打开此程序。要获取更多信息，请打开事件查看器或与系统管理员联系。</td>
</tr>
<tr>
<td align="center">1261</td>
<td align="left"> 一个程序企图用无效的注册值。通常由未初始化的注册表引起。此错误是 Itanium 特有的。</td>
</tr>
<tr>
<td align="center">1262</td>
<td align="left"> 该共享目前处于脱机状态，或者不存在。</td>
</tr>
<tr>
<td align="center">1263</td>
<td align="left"> 在智能卡登陆过程中，验证 KDC 证书时 kerberos 协议遇到一个错误。</td>
</tr>
<tr>
<td align="center">1264</td>
<td align="left"> 试图使用智能卡子系统时，Kerberos 协议出错。</td>
</tr>
<tr>
<td align="center">1265</td>
<td align="left"> 系统检测到危害安全的尝试。请确认您能与对您进行身份验证的服务器联系。</td>
</tr>
<tr>
<td align="center">1266</td>
<td align="left"> 用于身份验证的智能卡证书被取消。请与系统管理元联系。事件日志中可能有额外的信息。</td>
</tr>
<tr>
<td align="center">1267</td>
<td align="left"> 在处理用于身份验证的智能卡证书时，检测到一个不受信用证书颁发机构。请与系统管理员联系。</td>
</tr>
<tr>
<td align="center">1268</td>
<td align="left"> 无法决定用于身份验证的智能卡证书的取消状态。请与系统管理员联系。</td>
</tr>
<tr>
<td align="center">1269</td>
<td align="left"> 用于身份验证的智能卡证书不被信任。请与系统管理员联系。</td>
</tr>
<tr>
<td align="center">1270</td>
<td align="left"> 用于身份验证的智能卡证书已经过期。请与系统管理员联系。</td>
</tr>
<tr>
<td align="center">1271</td>
<td align="left"> 计算机已经锁定而且不使用强制选项无法关机。</td>
</tr>
<tr>
<td align="center">1273</td>
<td align="left"> 当调用一个应用程序定义的回叫时，出现无效数据错误。</td>
</tr>
<tr>
<td align="center">1274</td>
<td align="left"> 在同步前台策略刷新时，组策略框架应该调用扩展。</td>
</tr>
<tr>
<td align="center">1275</td>
<td align="left"> 此驱动程序被阻止加载</td>
</tr>
<tr>
<td align="center"> 1276</td>
<td align="left"> 动态链接库 (DLL) 引用的模块不是 DLL 也不是过程可执行映像。</td>
</tr>
<tr>
<td align="center">1300</td>
<td align="left"> 并非所有被引用的特权都指派给呼叫方。</td>
</tr>
<tr>
<td align="center">1301</td>
<td align="left"> 帐户名和安全 ID 间的某些映射未完成。</td>
</tr>
<tr>
<td align="center">1302</td>
<td align="left"> 没有为该帐户特别设置系统配额限制。</td>
</tr>
<tr>
<td align="center">1303</td>
<td align="left"> 没有可用的加密密钥。返回了一个已知加密密钥。</td>
</tr>
<tr>
<td align="center">1304</td>
<td align="left"> 密码太复杂，无法转换成 LANManager 密码。返回的 LANManager 密码为空字符串。</td>
</tr>
<tr>
<td align="center">1305</td>
<td align="left"> 修订级别未知。</td>
</tr>
<tr>
<td align="center">1306</td>
<td align="left"> 表明两个修订级别是不兼容的。</td>
</tr>
<tr>
<td align="center">1307</td>
<td align="left"> 这个安全 ID 不能指派为此对象的所有者。</td>
</tr>
<tr>
<td align="center">1308</td>
<td align="left"> 这个安全 ID 不能指派为对象的主要组。</td>
</tr>
<tr>
<td align="center">1309</td>
<td align="left"> 目前未模仿客户端的线程试图在模仿令牌上操作。</td>
</tr>
<tr>
<td align="center">1310</td>
<td align="left"> 组可能未被禁用。</td>
</tr>
<tr>
<td align="center">1311</td>
<td align="left"> 目前没有可用的登录服务器处理登录请求。</td>
</tr>
<tr>
<td align="center">1312</td>
<td align="left"> 指定的登录会话不存在。可能已被终止。</td>
</tr>
<tr>
<td align="center">1313</td>
<td align="left"> 指定的特权不存在。</td>
</tr>
<tr>
<td align="center">1314</td>
<td align="left"> 客户端没有所需的特权。</td>
</tr>
<tr>
<td align="center">1315</td>
<td align="left"> 提供的名称不是正确格式的帐户名。</td>
</tr>
<tr>
<td align="center">1316</td>
<td align="left"> 指定的用户已存在。</td>
</tr>
<tr>
<td align="center">1317</td>
<td align="left"> 指定的用户不存在。</td>
</tr>
<tr>
<td align="center">1318</td>
<td align="left"> 指定的组已存在。</td>
</tr>
<tr>
<td align="center">1319</td>
<td align="left"> 指定的组不存在。</td>
</tr>
<tr>
<td align="center">1320</td>
<td align="left"> 指定的用户帐户已是指定组的成员，或是因为组包含成员所以无法删除指定的组。</td>
</tr>
<tr>
<td align="center">1321</td>
<td align="left"> 指定的用户帐户不是指定组帐户的成员。</td>
</tr>
<tr>
<td align="center">1322</td>
<td align="left"> 无法禁用或删除最后剩余的系统管理帐户。</td>
</tr>
<tr>
<td align="center">1323</td>
<td align="left"> 无法更新密码。提供作为当前密码的值不正确。</td>
</tr>
<tr>
<td align="center">1324</td>
<td align="left"> 无法更新密码。提供给新密码的值包含密码中不允许的值。</td>
</tr>
<tr>
<td align="center">1325</td>
<td align="left"> 无法更新密码。为新密码提供的值不符合字符域的长度、复杂性或历史要求。</td>
</tr>
<tr>
<td align="center">1326</td>
<td align="left"> 登录失败：未知的用户名或错误密码。</td>
</tr>
<tr>
<td align="center">1327</td>
<td align="left"> 登录失败：用户帐户限制。可能的原因包括不允许空密码，登录时间限制，或强制的策略限制。</td>
</tr>
<tr>
<td align="center">1328</td>
<td align="left"> 登录失败：违反帐户登录时间限制。</td>
</tr>
<tr>
<td align="center">1329</td>
<td align="left"> 登录失败：不允许用户登录到此计算机。</td>
</tr>
<tr>
<td align="center">1330</td>
<td align="left"> 登录失败：指定的帐户密码已过期。</td>
</tr>
<tr>
<td align="center">1331</td>
<td align="left"> 登录失败：禁用当前的帐户。</td>
</tr>
<tr>
<td align="center">1332</td>
<td align="left"> 帐户名与安全标识间无任何映射完成。</td>
</tr>
<tr>
<td align="center">1333</td>
<td align="left"> 一次请求过多的本地用户标识符 (LUIDs)。</td>
</tr>
<tr>
<td align="center">1334</td>
<td align="left"> 无更多可用的本地用户标识符 (LUIDs)。</td>
</tr>
<tr>
<td align="center">1335</td>
<td align="left"> 对于该特别用法，安全 ID 的次级授权部分无效。</td>
</tr>
<tr>
<td align="center">1336</td>
<td align="left"> 访问控制列表 (ACL) 结构无效。</td>
</tr>
<tr>
<td align="center">1337</td>
<td align="left"> 安全 ID 结构无效。</td>
</tr>
<tr>
<td align="center">1338</td>
<td align="left"> 安全描述符结构无效。</td>
</tr>
<tr>
<td align="center">1340</td>
<td align="left"> 无法创建固有的访问控制列表 (ACL) 或访问控制项目 (ACE)。</td>
</tr>
<tr>
<td align="center">1341</td>
<td align="left"> 服务器当前已禁用。</td>
</tr>
<tr>
<td align="center">1342</td>
<td align="left"> 服务器当前已启用。</td>
</tr>
<tr>
<td align="center">1343</td>
<td align="left"> 所提供的值是无效的标识符颁发机构的值。</td>
</tr>
<tr>
<td align="center">1344</td>
<td align="left"> 无更多可用的内存以更新安全信息。</td>
</tr>
<tr>
<td align="center">1345</td>
<td align="left"> 指定的特性无效，或不与组的特性兼容。</td>
</tr>
<tr>
<td align="center">1346</td>
<td align="left"> 指定的模拟级别无效，或所提供的模拟级别无效。</td>
</tr>
<tr>
<td align="center">1347</td>
<td align="left"> 无法打开匿名级安全令牌。</td>
</tr>
<tr>
<td align="center">1348</td>
<td align="left"> 请求的验证信息类别无效。</td>
</tr>
<tr>
<td align="center">1349</td>
<td align="left"> 令牌的类型对其尝试使用的方法不适当。</td>
</tr>
<tr>
<td align="center">1350</td>
<td align="left"> 无法在与安全性无关联的对象上运行安全性操作。</td>
</tr>
<tr>
<td align="center">1351</td>
<td align="left"> 未能从域控制器读取配置信息，或者因为机器不可使用，或者是访问被拒绝。</td>
</tr>
<tr>
<td align="center">1352</td>
<td align="left"> 安全帐户管理器 (SAM) 或本地安全颁发机构 (LSA) 服务器处于运行安全操作的错误状态。</td>
</tr>
<tr>
<td align="center">1353</td>
<td align="left"> 域处于运行安全操作的错误状态。</td>
</tr>
<tr>
<td align="center">1354</td>
<td align="left"> 该操作只能在主要域控制器执行。</td>
</tr>
<tr>
<td align="center">1355</td>
<td align="left"> 指定的域不存在，或无法联系。</td>
</tr>
<tr>
<td align="center">1356</td>
<td align="left"> 指定的域已存在。</td>
</tr>
<tr>
<td align="center">1357</td>
<td align="left"> 试图超出每服务器域个数的限制。</td>
</tr>
<tr>
<td align="center">1358</td>
<td align="left"> 无法完成请求操作，因为磁盘上的严重媒体失败或数据结构损坏。</td>
</tr>
<tr>
<td align="center">1359</td>
<td align="left"> 出现了内部错误。</td>
</tr>
<tr>
<td align="center">1360</td>
<td align="left"> 通用访问类型包含于已映射到非通用类型的访问掩码中。</td>
</tr>
<tr>
<td align="center">1361</td>
<td align="left"> 安全描述符格式不正确 (绝对或自相关的)。</td>
</tr>
<tr>
<td align="center">1362</td>
<td align="left"> 请求的操作只准登录过程使用。该调用过程并未被记录为登录过程。</td>
</tr>
<tr>
<td align="center">1363</td>
<td align="left"> 无法使用已在使用中的标识启动新的会话。</td>
</tr>
<tr>
<td align="center">1364</td>
<td align="left"> 特定的身份验证程序包未知。</td>
</tr>
<tr>
<td align="center">1365</td>
<td align="left"> 登录会话并非处于与请求操作一致的状态中。</td>
</tr>
<tr>
<td align="center">1366</td>
<td align="left"> 登录会话标识已在使用中。</td>
</tr>
<tr>
<td align="center">1367</td>
<td align="left"> 登录请求包含无效的登录类型值。</td>
</tr>
<tr>
<td align="center">1368</td>
<td align="left"> 在使用命名管道读取数据之前，无法经由该管道模拟。</td>
</tr>
<tr>
<td align="center">1369</td>
<td align="left"> 注册表子树的事务处理状态与请求状态不一致。</td>
</tr>
<tr>
<td align="center">1370</td>
<td align="left"> 安全性数据库内部出现损坏。</td>
</tr>
<tr>
<td align="center">1371</td>
<td align="left"> 无法在内置帐户上运行此操作。</td>
</tr>
<tr>
<td align="center">1372</td>
<td align="left"> 无法在内置特殊组上运行此操作。</td>
</tr>
<tr>
<td align="center">1373</td>
<td align="left"> 无法在内置特殊用户上运行此操作。</td>
</tr>
<tr>
<td align="center">1374</td>
<td align="left"> 无法从组中删除用户，因为当前组为用户的主要组。</td>
</tr>
<tr>
<td align="center">1375</td>
<td align="left"> 令牌已作为主要令牌使用。</td>
</tr>
<tr>
<td align="center">1376</td>
<td align="left"> 指定的本地组不存在。</td>
</tr>
<tr>
<td align="center">1377</td>
<td align="left"> 指定的帐户名不是本地组的成员。</td>
</tr>
<tr>
<td align="center">1378</td>
<td align="left"> 指定的帐户名已是本地组的成员。</td>
</tr>
<tr>
<td align="center">1379</td>
<td align="left"> 指定的本地组已存在。</td>
</tr>
<tr>
<td align="center">1380</td>
<td align="left"> 登录失败：未授予用户在此计算机上的请求登录类型。</td>
</tr>
<tr>
<td align="center">1381</td>
<td align="left"> 已超过在单一系统中可保存机密的最大个数。</td>
</tr>
<tr>
<td align="center">1382</td>
<td align="left"> 机密的长度超过允许的最大长度。</td>
</tr>
<tr>
<td align="center">1383</td>
<td align="left"> 本地安全颁发机构数据库内部包含不一致性。</td>
</tr>
<tr>
<td align="center">1384</td>
<td align="left"> 在尝试登录的过程中，用户的安全上下文积累了过多的安全标识。</td>
</tr>
<tr>
<td align="center">1385</td>
<td align="left"> 登录失败：未授予用户在此计算机上的请求登录类型。</td>
</tr>
<tr>
<td align="center">1386</td>
<td align="left"> 更改用户密码时需要交叉加密密码。</td>
</tr>
<tr>
<td align="center">1387</td>
<td align="left"> 该成员不存在，因此不能将其添加到本地组中或从本地组删除。</td>
</tr>
<tr>
<td align="center">1388</td>
<td align="left"> 无法将新成员加入到本地组中，因为成员的帐户类型错误。</td>
</tr>
<tr>
<td align="center">1389</td>
<td align="left"> 已指定过多的安全标识。</td>
</tr>
<tr>
<td align="center">1390</td>
<td align="left"> 更改此用户密码时需要交叉加密密码。</td>
</tr>
<tr>
<td align="center">1391</td>
<td align="left"> 表明 ACL 未包含任何可承继的组件。</td>
</tr>
<tr>
<td align="center">1392</td>
<td align="left"> 文件或目录损坏且无法读取。</td>
</tr>
<tr>
<td align="center">1393</td>
<td align="left"> 磁盘结构损坏且无法读取。</td>
</tr>
<tr>
<td align="center">1394</td>
<td align="left"> 没有指定登录会话的用户会话密钥。</td>
</tr>
<tr>
<td align="center">1395</td>
<td align="left"> 正在访问的服务有连接数目授权限制。这时候已经无法再连接，原因是已经到了可接受的连接数目上限。</td>
</tr>
<tr>
<td align="center">1396</td>
<td align="left"> 登录失败：该目标帐户名称不正确。</td>
</tr>
<tr>
<td align="center">1397</td>
<td align="left"> 相互身份验证失败。该服务器在域控制器的密码过期。</td>
</tr>
<tr>
<td align="center">1398</td>
<td align="left"> 在客户端和 / 或服务器之间有一个时间差。</td>
</tr>
<tr>
<td align="center">1399</td>
<td align="left"> 无法在当前域上执行此操作。</td>
</tr>
<tr>
<td align="center">1400</td>
<td align="left"> 无效的窗口句柄。</td>
</tr>
<tr>
<td align="center">1401</td>
<td align="left"> 无效的菜单句柄。</td>
</tr>
<tr>
<td align="center">1402</td>
<td align="left"> 无效的光标句柄。</td>
</tr>
<tr>
<td align="center">1403</td>
<td align="left"> 无效的加速器表句柄。</td>
</tr>
<tr>
<td align="center">1404</td>
<td align="left"> 无效的挂钩句柄。</td>
</tr>
<tr>
<td align="center">1405</td>
<td align="left"> 无效的多重窗口位置结构句柄。</td>
</tr>
<tr>
<td align="center">1406</td>
<td align="left"> 无法创建最上层子窗口。</td>
</tr>
<tr>
<td align="center">1407</td>
<td align="left"> 找不到窗口类别。</td>
</tr>
<tr>
<td align="center">1408</td>
<td align="left"> 无效窗口；它属于另一线程。</td>
</tr>
<tr>
<td align="center">1409</td>
<td align="left"> 热键已注册。</td>
</tr>
<tr>
<td align="center">1410</td>
<td align="left"> 类别已存在。</td>
</tr>
<tr>
<td align="center">1411</td>
<td align="left"> 类别不存在。</td>
</tr>
<tr>
<td align="center">1412</td>
<td align="left"> 类别仍有打开的窗口。</td>
</tr>
<tr>
<td align="center">1413</td>
<td align="left"> 无效索引。</td>
</tr>
<tr>
<td align="center">1414</td>
<td align="left"> 无效的图标句柄。</td>
</tr>
<tr>
<td align="center">1415</td>
<td align="left"> 使用专用 DIALOG 窗口字词。</td>
</tr>
<tr>
<td align="center">1416</td>
<td align="left"> 找不到列表框标识。</td>
</tr>
<tr>
<td align="center">1417</td>
<td align="left"> 找不到通配字符。</td>
</tr>
<tr>
<td align="center">1418</td>
<td align="left"> 线程没有打开的剪贴板。</td>
</tr>
<tr>
<td align="center">1419</td>
<td align="left"> 没有注册热键。</td>
</tr>
<tr>
<td align="center">1420</td>
<td align="left"> 窗口不是合法的对话窗口。</td>
</tr>
<tr>
<td align="center">1421</td>
<td align="left"> 找不到控件 ID。</td>
</tr>
<tr>
<td align="center">1422</td>
<td align="left"> 因为没有编辑控制，所以组合框的消息无效。</td>
</tr>
<tr>
<td align="center">1423</td>
<td align="left"> 窗口不是组合框。</td>
</tr>
<tr>
<td align="center">1424</td>
<td align="left"> 高度必须小于 256。</td>
</tr>
<tr>
<td align="center">1425</td>
<td align="left"> 无效的设备上下文 (DC) 句柄。</td>
</tr>
<tr>
<td align="center">1426</td>
<td align="left"> 无效的挂接程序类型。</td>
</tr>
<tr>
<td align="center">1427</td>
<td align="left"> 无效的挂接程序。</td>
</tr>
<tr>
<td align="center">1428</td>
<td align="left"> 没有模块句柄无法设置非本机的挂接。</td>
</tr>
<tr>
<td align="center">1429</td>
<td align="left"> 此挂接程序只可整体设置。</td>
</tr>
<tr>
<td align="center">1430</td>
<td align="left"> 日志挂接程序已安装。</td>
</tr>
<tr>
<td align="center">1431</td>
<td align="left"> 挂接程序尚未安装。</td>
</tr>
<tr>
<td align="center">1432</td>
<td align="left"> 单一选择列表框的无效消息。</td>
</tr>
<tr>
<td align="center">1433</td>
<td align="left">LB_SETCOUNT 发送到非被动的列表框。</td>
</tr>
<tr>
<td align="center">1434</td>
<td align="left"> 此列表框不支持 Tab 键宽度。</td>
</tr>
<tr>
<td align="center">1435</td>
<td align="left"> 无法毁坏由另一个线程创建的对象。</td>
</tr>
<tr>
<td align="center">1436</td>
<td align="left"> 子窗口没有菜单。</td>
</tr>
<tr>
<td align="center">1437</td>
<td align="left"> 窗口没有系统菜单。</td>
</tr>
<tr>
<td align="center">1438</td>
<td align="left"> 无效的消息对话框样式。</td>
</tr>
<tr>
<td align="center">1439</td>
<td align="left"> 无效的系统范围内的 (SPI_*) 参数。</td>
</tr>
<tr>
<td align="center">1440</td>
<td align="left"> 已锁定屏幕。</td>
</tr>
<tr>
<td align="center">1441</td>
<td align="left"> 多重窗口位置结构中窗口的所有句柄必须具有相同的上层。</td>
</tr>
<tr>
<td align="center">1442</td>
<td align="left"> 窗口不是子窗口。</td>
</tr>
<tr>
<td align="center">1443</td>
<td align="left"> 无效的 GW 命令</td>
</tr>
<tr>
<td align="center"> 1444</td>
<td align="left"> 无效的线程标识。</td>
</tr>
<tr>
<td align="center">1445</td>
<td align="left"> 无法处理非多重文档接口 (MDI) 窗口中的消息。</td>
</tr>
<tr>
<td align="center">1446</td>
<td align="left"> 弹出式菜单已经激活。</td>
</tr>
<tr>
<td align="center">1447</td>
<td align="left"> 窗口没有滚动条。</td>
</tr>
<tr>
<td align="center">1448</td>
<td align="left"> 滚动条范围不可大于 MAXLONG。</td>
</tr>
<tr>
<td align="center">1449</td>
<td align="left"> 无法以指定的方式显示或删除窗口。</td>
</tr>
<tr>
<td align="center">1450</td>
<td align="left"> 系统资源不足，无法完成请求的服务。</td>
</tr>
<tr>
<td align="center">1451</td>
<td align="left"> 系统资源不足，无法完成请求的服务。</td>
</tr>
<tr>
<td align="center">1452</td>
<td align="left"> 系统资源不足，无法完成请求的服务。</td>
</tr>
<tr>
<td align="center">1453</td>
<td align="left"> 配额不足，无法完成请求的服务。</td>
</tr>
<tr>
<td align="center">1454</td>
<td align="left"> 配额不足，无法完成请求的服务。</td>
</tr>
<tr>
<td align="center">1455</td>
<td align="left"> 页面文件太小，无法完成操作。</td>
</tr>
<tr>
<td align="center">1456</td>
<td align="left"> 找不到菜单项。</td>
</tr>
<tr>
<td align="center">1457</td>
<td align="left"> 键盘布局句柄无效。</td>
</tr>
<tr>
<td align="center">1458</td>
<td align="left"> 不允许使用挂钩类型。</td>
</tr>
<tr>
<td align="center">1459</td>
<td align="left"> 该操作需要交互式窗口工作站。</td>
</tr>
<tr>
<td align="center">1460</td>
<td align="left"> 由于超时时间已过，该操作返回。</td>
</tr>
<tr>
<td align="center">1461</td>
<td align="left"> 无效监视器句柄。</td>
</tr>
<tr>
<td align="center">1500</td>
<td align="left"> 事件日志文件损坏。</td>
</tr>
<tr>
<td align="center">1501</td>
<td align="left"> 无法打开事件日志文件，事件日志服务没有启动。</td>
</tr>
<tr>
<td align="center">1502</td>
<td align="left"> 事件日志文件已满。</td>
</tr>
<tr>
<td align="center">1503</td>
<td align="left"> 事件日志文件已在读取间更改。</td>
</tr>
<tr>
<td align="center">1601</td>
<td align="left"> 无法访问 Windows 安装服务。发生这种情况的可能是您在安全模式下运行 Windows，或是没有正确安装 Windows 安装，。请与技术支持人员联系以获得帮助。</td>
</tr>
<tr>
<td align="center">1602</td>
<td align="left"> 用户取消了安装。</td>
</tr>
<tr>
<td align="center">1603</td>
<td align="left"> 安装时发生严重错误</td>
</tr>
<tr>
<td align="center"> 1604</td>
<td align="left"> 安装已挂起，未完成。</td>
</tr>
<tr>
<td align="center">1605</td>
<td align="left"> 这个操作只对当前安装的产品有效。</td>
</tr>
<tr>
<td align="center">1606</td>
<td align="left"> 功能 ID 未注册。</td>
</tr>
<tr>
<td align="center">1607</td>
<td align="left"> 组件 ID 并未注册。</td>
</tr>
<tr>
<td align="center">1608</td>
<td align="left"> 未知属性。</td>
</tr>
<tr>
<td align="center">1609</td>
<td align="left"> 句柄处于不正确的状态。</td>
</tr>
<tr>
<td align="center">1610</td>
<td align="left"> 这个产品的配置数据已损坏。请与技术支持人员联系。</td>
</tr>
<tr>
<td align="center">1611</td>
<td align="left"> 组件限制语不存在。</td>
</tr>
<tr>
<td align="center">1612</td>
<td align="left"> 这个产品的安装来源无法使用。请验证来源是否存在，是否可以访问。</td>
</tr>
<tr>
<td align="center">1613</td>
<td align="left">Windows 安装服务无法安装这个安装程序包。您必须安装含有 Windows 安装服务新版本的 WindowsServicePark。</td>
</tr>
<tr>
<td align="center">1614</td>
<td align="left"> 没有卸载产品。</td>
</tr>
<tr>
<td align="center">1615</td>
<td align="left">SQL 查询语法不正确或不被支持。</td>
</tr>
<tr>
<td align="center">1616</td>
<td align="left"> 记录字符域不存在。</td>
</tr>
<tr>
<td align="center">1617</td>
<td align="left"> 设备已被删除。</td>
</tr>
<tr>
<td align="center">1618</td>
<td align="left"> 正在进行另一个安装操作。请在继续这个安装操作之前完成那个操作。</td>
</tr>
<tr>
<td align="center">1619</td>
<td align="left"> 未能打开这个安装程序包。请验证程序包是否存在，是否可以访问；或者与应用程序供应商联系，验证这是否是有效的 Windows 安装服务程序包。</td>
</tr>
<tr>
<td align="center">1620</td>
<td align="left"> 未能打开这个安装程序包。请与应用程序供应商联系，验证这是否是有效的 Windows 安装服务程序包。</td>
</tr>
<tr>
<td align="center">1621</td>
<td align="left"> 启动 Windows 安装服务用户接口时有错误。请与技术支持人员联系。</td>
</tr>
<tr>
<td align="center">1622</td>
<td align="left"> 打开安装日志文件的错误。请验证指定的日志文件位置是否存在，是否可以写入。</td>
</tr>
<tr>
<td align="center">1623</td>
<td align="left"> 安装程序包的语言不受系统支持。</td>
</tr>
<tr>
<td align="center">1624</td>
<td align="left"> 应用变换时的错误。请验证指定的变换路径是否有效。</td>
</tr>
<tr>
<td align="center">1625</td>
<td align="left"> 系统策略禁止这个安装。请与系统管理员联系。</td>
</tr>
<tr>
<td align="center">1626</td>
<td align="left"> 无法执行函数。</td>
</tr>
<tr>
<td align="center">1627</td>
<td align="left"> 执行期间，函数出了问题。</td>
</tr>
<tr>
<td align="center">1628</td>
<td align="left"> 指定了无效的或未知的表格。</td>
</tr>
<tr>
<td align="center">1629</td>
<td align="left"> 提供的数据类型不对。</td>
</tr>
<tr>
<td align="center">1630</td>
<td align="left"> 这个类型的数据不受支持。</td>
</tr>
<tr>
<td align="center">1631</td>
<td align="left">Windows 安装服务未能启动。请与技术支持人员联系。</td>
</tr>
<tr>
<td align="center">1632</td>
<td align="left"> 临时文件夹已满或无法访问。请释放一些空间或验证您是否有写入临时文件夹的权限。</td>
</tr>
<tr>
<td align="center">1633</td>
<td align="left"> 这个处理器类型不支持该安装程序包。请与产品供应商联系。</td>
</tr>
<tr>
<td align="center">1634</td>
<td align="left"> 组件没有在这台计算机上使用。</td>
</tr>
<tr>
<td align="center">1635</td>
<td align="left"> 无法打开修补程序包。请验证修补程序包是否存在，是否可以访问；或者与应用程序供应商联系，验证这是否是 Windows 安装服务的修补程序包。</td>
</tr>
<tr>
<td align="center">1636</td>
<td align="left"> 无法打开修补程序包。请与应用程序供应商联系，验证这是否是 Windows 安装服务的修补程序包。</td>
</tr>
<tr>
<td align="center">1637</td>
<td align="left">Windows 安装服务无法处理这个修补程序包。您必须安装含有 Windows 安装服务新版本的 WindowsServicePack。</td>
</tr>
<tr>
<td align="center">1638</td>
<td align="left"> 已安装这个产品的另一个版本。这个版本的安装无法继续。要配置或删除这个产品的现有版本，请用 “控制面板” 上的 “添加 / 删除程序”。</td>
</tr>
<tr>
<td align="center">1639</td>
<td align="left"> 无效的命令行参数。有关详细的命令行帮助，请查阅 Windows 安装服务的 SDK。</td>
</tr>
<tr>
<td align="center">1640</td>
<td align="left"> 在终端服务远程会话期间，只有管理员有添加、删除或配置服务器软件的权限。如果您要在服务器上安装或配置软件，请与网络管理员联系。</td>
</tr>
<tr>
<td align="center">1641</td>
<td align="left"> 要求的操作已成功结束。要使改动生效，必须重新启动系统。</td>
</tr>
<tr>
<td align="center">1642</td>
<td align="left">Windows 安装服务无法安装升级修补程序，因为被升级的程序可能会丢失或是升级修补程序可能更新此程序的一个不同版本。请确认要被升级的程序在您的计算机上且您的升级修补程序是正确的。</td>
</tr>
<tr>
<td align="center">1643</td>
<td align="left"> 软件限制策略不允许有修补程序包。</td>
</tr>
<tr>
<td align="center">1644</td>
<td align="left"> 软件限制策略不允许一个或多个自定义项。</td>
</tr>
<tr>
<td align="center">1700</td>
<td align="left"> 字符串绑定无效。</td>
</tr>
<tr>
<td align="center">1701</td>
<td align="left"> 绑定句柄的类型不正确。</td>
</tr>
<tr>
<td align="center">1702</td>
<td align="left"> 绑定句柄无效。</td>
</tr>
<tr>
<td align="center">1703</td>
<td align="left"> 不支持 RPC 协议序列。</td>
</tr>
<tr>
<td align="center">1704</td>
<td align="left">RPC 协议序列无效。</td>
</tr>
<tr>
<td align="center">1705</td>
<td align="left"> 字符串通用唯一标识 (UUID) 无效。</td>
</tr>
<tr>
<td align="center">1706</td>
<td align="left"> 终结点格式无效。</td>
</tr>
<tr>
<td align="center">1707</td>
<td align="left"> 网络地址无效。</td>
</tr>
<tr>
<td align="center">1708</td>
<td align="left"> 找不到终结点。</td>
</tr>
<tr>
<td align="center">1709</td>
<td align="left"> 超时值无效。</td>
</tr>
<tr>
<td align="center">1710</td>
<td align="left"> 找不到对象通用唯一标识 (UUID)。</td>
</tr>
<tr>
<td align="center">1711</td>
<td align="left"> 对象通用唯一标识 (UUID) 已注册。</td>
</tr>
<tr>
<td align="center">1712</td>
<td align="left"> 类型通用唯一标识 (UUID) 已注册。</td>
</tr>
<tr>
<td align="center">1713</td>
<td align="left">RPC 服务器已在侦听。</td>
</tr>
<tr>
<td align="center">1714</td>
<td align="left"> 未登记任何协议序列。</td>
</tr>
<tr>
<td align="center">1715</td>
<td align="left">RPC 服务器未在侦听。</td>
</tr>
<tr>
<td align="center">1716</td>
<td align="left"> 管理程序类型未知。</td>
</tr>
<tr>
<td align="center">1717</td>
<td align="left"> 接口未知。</td>
</tr>
<tr>
<td align="center">1718</td>
<td align="left"> 没有绑定。</td>
</tr>
<tr>
<td align="center">1719</td>
<td align="left"> 没有协议序列。</td>
</tr>
<tr>
<td align="center">1720</td>
<td align="left"> 无法创建终结点。</td>
</tr>
<tr>
<td align="center">1721</td>
<td align="left"> 资源不足，无法完成该操作。</td>
</tr>
<tr>
<td align="center">1722</td>
<td align="left">RPC 服务器不可用。</td>
</tr>
<tr>
<td align="center">1723</td>
<td align="left">RPC 服务器太忙，不能完成该操作。</td>
</tr>
<tr>
<td align="center">1724</td>
<td align="left"> 网络选项无效。</td>
</tr>
<tr>
<td align="center">1725</td>
<td align="left"> 该线程中没有远程过程调用活动。</td>
</tr>
<tr>
<td align="center">1726</td>
<td align="left"> 远程过程调用失败。</td>
</tr>
<tr>
<td align="center">1727</td>
<td align="left"> 远程过程调用失败且未运行。</td>
</tr>
<tr>
<td align="center">1728</td>
<td align="left"> 远程过程调用 (RPC) 协议出错。</td>
</tr>
<tr>
<td align="center">1730</td>
<td align="left">RPC 服务器不支持传送语法。</td>
</tr>
<tr>
<td align="center">1732</td>
<td align="left"> 不支持通用唯一标识 (UUID) 类型。</td>
</tr>
<tr>
<td align="center">1733</td>
<td align="left"> 标识无效。</td>
</tr>
<tr>
<td align="center">1734</td>
<td align="left"> 数组绑定无效。</td>
</tr>
<tr>
<td align="center">1735</td>
<td align="left"> 绑定不包含登录项名字。</td>
</tr>
<tr>
<td align="center">1736</td>
<td align="left"> 名称语法无效。</td>
</tr>
<tr>
<td align="center">1737</td>
<td align="left"> 不支持该名称语法。</td>
</tr>
<tr>
<td align="center">1739</td>
<td align="left"> 没有可用来创建通用唯一标识 (UUID) 的网络地址。</td>
</tr>
<tr>
<td align="center">1740</td>
<td align="left"> 终结点重复。</td>
</tr>
<tr>
<td align="center">1741</td>
<td align="left"> 未知的验证类型。</td>
</tr>
<tr>
<td align="center">1742</td>
<td align="left"> 调用的最大个数太小。</td>
</tr>
<tr>
<td align="center">1743</td>
<td align="left"> 字符串太长。</td>
</tr>
<tr>
<td align="center">1744</td>
<td align="left"> 找不到 RPC 协议顺序。</td>
</tr>
<tr>
<td align="center">1745</td>
<td align="left"> 过程号超出范围。</td>
</tr>
<tr>
<td align="center">1746</td>
<td align="left"> 绑定不包含任何验证信息。</td>
</tr>
<tr>
<td align="center">1747</td>
<td align="left"> 未知的验证服务。</td>
</tr>
<tr>
<td align="center">1748</td>
<td align="left"> 未知的验证级别。</td>
</tr>
<tr>
<td align="center">1749</td>
<td align="left"> 安全上下文无效。</td>
</tr>
<tr>
<td align="center">1750</td>
<td align="left"> 未知的授权服务。</td>
</tr>
<tr>
<td align="center">1751</td>
<td align="left"> 项目无效。</td>
</tr>
<tr>
<td align="center">1752</td>
<td align="left"> 服务器终结点无法运行操作。</td>
</tr>
<tr>
<td align="center">1753</td>
<td align="left"> 终结点映射器中没有更多的终结点可用。</td>
</tr>
<tr>
<td align="center">1754</td>
<td align="left"> 未导出任何接口。</td>
</tr>
<tr>
<td align="center">1755</td>
<td align="left"> 项目名不完整。</td>
</tr>
<tr>
<td align="center">1756</td>
<td align="left"> 版本选项无效。</td>
</tr>
<tr>
<td align="center">1757</td>
<td align="left"> 没有其他成员。</td>
</tr>
<tr>
<td align="center">1758</td>
<td align="left"> 没有内容未导出。</td>
</tr>
<tr>
<td align="center">1759</td>
<td align="left"> 接口没有找到。</td>
</tr>
<tr>
<td align="center">1760</td>
<td align="left"> 项目已存在。</td>
</tr>
<tr>
<td align="center">1761</td>
<td align="left"> 找不到项目。</td>
</tr>
<tr>
<td align="center">1762</td>
<td align="left"> 名称服务不可用。</td>
</tr>
<tr>
<td align="center">1763</td>
<td align="left"> 网络地址族无效。</td>
</tr>
<tr>
<td align="center">1764</td>
<td align="left"> 不支持请求的操作。</td>
</tr>
<tr>
<td align="center">1765</td>
<td align="left"> 没有安全上下文可用来允许模仿。</td>
</tr>
<tr>
<td align="center">1766</td>
<td align="left"> 远程过程调用 (RPC) 中发生内部错误。</td>
</tr>
<tr>
<td align="center">1767</td>
<td align="left">RPC 服务器试图以零除整数。</td>
</tr>
<tr>
<td align="center">1768</td>
<td align="left">RPC 服务器出现寻址错误。</td>
</tr>
<tr>
<td align="center">1769</td>
<td align="left">RPC 服务器上的浮点操作导至以零做除数。</td>
</tr>
<tr>
<td align="center">1770</td>
<td align="left">RPC 服务器上发生浮点下溢。</td>
</tr>
<tr>
<td align="center">1771</td>
<td align="left">RPC 服务器上发生浮点溢出。</td>
</tr>
<tr>
<td align="center">1772</td>
<td align="left"> 自动句柄绑定的可用 RPC 服务器列表已用完。</td>
</tr>
<tr>
<td align="center">1773</td>
<td align="left"> 无法打开字符翻译表文件。</td>
</tr>
<tr>
<td align="center">1774</td>
<td align="left"> 包含字符转换表的文件小于 512 字节。</td>
</tr>
<tr>
<td align="center">1775</td>
<td align="left"> 在远程过程调用时，将空的上下文句柄从客户端传递到主机。</td>
</tr>
<tr>
<td align="center">1777</td>
<td align="left"> 在远程过程调用时，上下文句柄已更改。</td>
</tr>
<tr>
<td align="center">1778</td>
<td align="left"> 传送给远程过程调用的绑定句柄不匹配。</td>
</tr>
<tr>
<td align="center">1779</td>
<td align="left"> 承接体无法获得远程过程调用句柄。</td>
</tr>
<tr>
<td align="center">1780</td>
<td align="left"> 向占位程序传送了空的索引指针。</td>
</tr>
<tr>
<td align="center">1781</td>
<td align="left"> 枚举值越界。</td>
</tr>
<tr>
<td align="center">1782</td>
<td align="left"> 字节计数太小。</td>
</tr>
<tr>
<td align="center">1783</td>
<td align="left"> 占位程序接收到错误数据。</td>
</tr>
<tr>
<td align="center">1784</td>
<td align="left"> 提供给请求操作的用户缓冲区无效。</td>
</tr>
<tr>
<td align="center">1785</td>
<td align="left"> 磁盘媒体无法识别。可能未被格式化。</td>
</tr>
<tr>
<td align="center">1786</td>
<td align="left"> 工作站没有信任机密。</td>
</tr>
<tr>
<td align="center">1787</td>
<td align="left"> 服务器上的安全数据库没有此工作站信任关系的计算机帐户。</td>
</tr>
<tr>
<td align="center">1788</td>
<td align="left"> 主域和受信域间的信任关系失败。</td>
</tr>
<tr>
<td align="center">1789</td>
<td align="left"> 此工作站和主域间的信任关系失败。</td>
</tr>
<tr>
<td align="center">1790</td>
<td align="left"> 网络登录失败。</td>
</tr>
<tr>
<td align="center">1791</td>
<td align="left"> 此线程的远程过程调用已在进行中。</td>
</tr>
<tr>
<td align="center">1792</td>
<td align="left"> 试图登录，但是网络登录服务没有启动。</td>
</tr>
<tr>
<td align="center">1793</td>
<td align="left"> 用户帐户已过期。</td>
</tr>
<tr>
<td align="center">1794</td>
<td align="left"> 重定向程序正使用中，不能卸装。</td>
</tr>
<tr>
<td align="center">1795</td>
<td align="left"> 指定的打印机驱动程序已安装。</td>
</tr>
<tr>
<td align="center">1796</td>
<td align="left"> 指定的端口未知。</td>
</tr>
<tr>
<td align="center">1797</td>
<td align="left"> 未知的打印机驱动程序。</td>
</tr>
<tr>
<td align="center">1798</td>
<td align="left"> 未知的打印机处理器。</td>
</tr>
<tr>
<td align="center">1799</td>
<td align="left"> 指定的分隔页文件无效。</td>
</tr>
<tr>
<td align="center">1800</td>
<td align="left"> 指定的优先级无效。</td>
</tr>
<tr>
<td align="center">1801</td>
<td align="left"> 打印机名无效。</td>
</tr>
<tr>
<td align="center">1802</td>
<td align="left"> 打印机已存在。</td>
</tr>
<tr>
<td align="center">1803</td>
<td align="left"> 打印机命令无效。</td>
</tr>
<tr>
<td align="center">1804</td>
<td align="left"> 指定的数据类型无效。</td>
</tr>
<tr>
<td align="center">1805</td>
<td align="left"> 指定的环境无效。</td>
</tr>
<tr>
<td align="center">1806</td>
<td align="left"> 没有更多的绑定。</td>
</tr>
<tr>
<td align="center">1807</td>
<td align="left"> 所用帐户为域间信任帐户。请使用您的全局用户帐户或本地用户帐户来访问这台服务器。</td>
</tr>
<tr>
<td align="center">1808</td>
<td align="left"> 所用帐户是一个计算机帐户。使用您的全局用户帐户或本地用户帐户来访问此服务器。</td>
</tr>
<tr>
<td align="center">1809</td>
<td align="left"> 已使用的帐户为服务器信任帐户。使用您的全局用户帐户或本地用户帐户来访问此服务器。</td>
</tr>
<tr>
<td align="center">1810</td>
<td align="left"> 指定域的名称或安全标识 (SID) 与该域的信任信息不一致。</td>
</tr>
<tr>
<td align="center">1811</td>
<td align="left"> 服务器在使用中且无法卸载。</td>
</tr>
<tr>
<td align="center">1812</td>
<td align="left"> 指定的映像文件不包含资源区域。</td>
</tr>
<tr>
<td align="center">1813</td>
<td align="left"> 找不到映像文件中指定的资源类型。</td>
</tr>
<tr>
<td align="center">1814</td>
<td align="left"> 找不到映像文件中指定的资源名。</td>
</tr>
<tr>
<td align="center">1815</td>
<td align="left"> 找不到映像文件中指定的资源语言标识。</td>
</tr>
<tr>
<td align="center">1816</td>
<td align="left"> 配额不足，无法处理此命令。</td>
</tr>
<tr>
<td align="center">1817</td>
<td align="left"> 未登记任何接口。</td>
</tr>
<tr>
<td align="center">1818</td>
<td align="left"> 远程过程调用被取消。</td>
</tr>
<tr>
<td align="center">1819</td>
<td align="left"> 绑定句柄不包含所有需要的信息。</td>
</tr>
<tr>
<td align="center">1820</td>
<td align="left"> 在远程过程调用过程中通信失败。</td>
</tr>
<tr>
<td align="center">1821</td>
<td align="left"> 请求的验证等级不被支持。</td>
</tr>
<tr>
<td align="center">1822</td>
<td align="left"> 未登记任何主名称。</td>
</tr>
<tr>
<td align="center">1823</td>
<td align="left"> 指定的错误不是有效的 WindowsRPC 错误码。</td>
</tr>
<tr>
<td align="center">1824</td>
<td align="left"> 已经分配只在这台计算机上有效的 UUID。</td>
</tr>
<tr>
<td align="center">1825</td>
<td align="left"> 出现了特定的安全程序包错误。</td>
</tr>
<tr>
<td align="center">1826</td>
<td align="left"> 线程未取消。</td>
</tr>
<tr>
<td align="center">1827</td>
<td align="left"> 无效的编码 / 解码句柄操作。</td>
</tr>
<tr>
<td align="center">1828</td>
<td align="left"> 系列程序包的不兼容版本。</td>
</tr>
<tr>
<td align="center">1829</td>
<td align="left">RPC 占位程序版本不兼容。</td>
</tr>
<tr>
<td align="center">1830</td>
<td align="left">RPC 管道对象无效或已损坏。</td>
</tr>
<tr>
<td align="center">1831</td>
<td align="left"> 试图在 RPC 管道对象上进行无效操作。</td>
</tr>
<tr>
<td align="center">1832</td>
<td align="left"> 不支持该版本的 RPC 管道。</td>
</tr>
<tr>
<td align="center">1898</td>
<td align="left"> 找不到该组成员。</td>
</tr>
<tr>
<td align="center">1899</td>
<td align="left"> 无法创建终结点映射表数据库项。</td>
</tr>
<tr>
<td align="center">1900</td>
<td align="left"> 对象通用唯一标识 (UUID) 为 nilUUID。</td>
</tr>
<tr>
<td align="center">1901</td>
<td align="left"> 指定的时间无效。</td>
</tr>
<tr>
<td align="center">1902</td>
<td align="left"> 指定的格式名称无效。</td>
</tr>
<tr>
<td align="center">1903</td>
<td align="left"> 指定的格式大小无效。</td>
</tr>
<tr>
<td align="center">1904</td>
<td align="left"> 指定的打印机句柄正等候在</td>
</tr>
<tr>
<td align="center"> 1905</td>
<td align="left"> 已删除指定的打印机。</td>
</tr>
<tr>
<td align="center">1906</td>
<td align="left"> 打印机的状态无效。</td>
</tr>
<tr>
<td align="center">1907</td>
<td align="left"> 用户首次登录之前必须更改密码。</td>
</tr>
<tr>
<td align="center">1908</td>
<td align="left"> 找不到此域的域控制器。</td>
</tr>
<tr>
<td align="center">1909</td>
<td align="left"> 引用的帐户当前已锁定，且可能无法登录。</td>
</tr>
<tr>
<td align="center">1910</td>
<td align="left"> 没有发现指定的此对象导出者</td>
</tr>
<tr>
<td align="center"> 1911</td>
<td align="left"> 没有发现指定的对象。</td>
</tr>
<tr>
<td align="center">1912</td>
<td align="left"> 没有发现指定的对象解析器。</td>
</tr>
<tr>
<td align="center">1913</td>
<td align="left"> 一些待发数据仍停留在请求缓冲区内。</td>
</tr>
<tr>
<td align="center">1914</td>
<td align="left"> 无效的异步远程过程调用句柄。</td>
</tr>
<tr>
<td align="center">1915</td>
<td align="left"> 这个操作的异步 RPC 调用句柄无效。</td>
</tr>
<tr>
<td align="center">1916</td>
<td align="left">RPC 管道对象已经关闭。</td>
</tr>
<tr>
<td align="center">1917</td>
<td align="left"> 在 RPC 调用完成之前全部的管道都已处理完成。</td>
</tr>
<tr>
<td align="center">1918</td>
<td align="left"> 没有其他可用的数据来自 RPC 管道。</td>
</tr>
<tr>
<td align="center">1919</td>
<td align="left"> 这个机器没有可用的站点名。</td>
</tr>
<tr>
<td align="center">1920</td>
<td align="left"> 系统无法访问此文件。</td>
</tr>
<tr>
<td align="center">1921</td>
<td align="left"> 系统无法辨识文件名。</td>
</tr>
<tr>
<td align="center">1922</td>
<td align="left"> 项目不是所要的类型。</td>
</tr>
<tr>
<td align="center">1923</td>
<td align="left"> 无法将所有对象的 UUID 导出到指定的项。</td>
</tr>
<tr>
<td align="center">1924</td>
<td align="left"> 无法将接口导出到指定的项。</td>
</tr>
<tr>
<td align="center">1925</td>
<td align="left"> 无法添加指定的配置文件项。</td>
</tr>
<tr>
<td align="center">1926</td>
<td align="left"> 无法添加指定的配置文件元素。</td>
</tr>
<tr>
<td align="center">1927</td>
<td align="left"> 无法删除指定的配置文件元素。</td>
</tr>
<tr>
<td align="center">1928</td>
<td align="left"> 无法添加组元素。</td>
</tr>
<tr>
<td align="center">1929</td>
<td align="left"> 无法删除组元素。</td>
</tr>
<tr>
<td align="center">1930</td>
<td align="left"> 打印机驱动程序与您计算机上启用的阻止 NT4.0 驱动程序的策略不兼容。</td>
</tr>
<tr>
<td align="center">1931</td>
<td align="left"> 上下文已过期，不能再用了。</td>
</tr>
<tr>
<td align="center">2000</td>
<td align="left"> 无效的像素格式。</td>
</tr>
<tr>
<td align="center">2001</td>
<td align="left"> 指定的驱动程序无效。</td>
</tr>
<tr>
<td align="center">2002</td>
<td align="left"> 窗口样式或类别属性对此操作无效。</td>
</tr>
<tr>
<td align="center">2003</td>
<td align="left"> 不支持请求的图元操作。</td>
</tr>
<tr>
<td align="center">2004</td>
<td align="left"> 不支持请求的变换操作。</td>
</tr>
<tr>
<td align="center">2005</td>
<td align="left"> 不支持请求的剪切操作。</td>
</tr>
<tr>
<td align="center">2010</td>
<td align="left"> 指定的颜色管理模块无效。</td>
</tr>
<tr>
<td align="center">2011</td>
<td align="left"> 制定的颜色文件配置无效。</td>
</tr>
<tr>
<td align="center">2012</td>
<td align="left"> 找不到指定的标识。</td>
</tr>
<tr>
<td align="center">2013</td>
<td align="left"> 找不到所需的标识。</td>
</tr>
<tr>
<td align="center">2014</td>
<td align="left"> 指定的标识已经存在。</td>
</tr>
<tr>
<td align="center">2015</td>
<td align="left"> 指定的颜色文件配置与任何设备都不相关。</td>
</tr>
<tr>
<td align="center">2016</td>
<td align="left"> 找不到该指定的颜色文件配置</td>
</tr>
<tr>
<td align="center"> 2017</td>
<td align="left"> 指定的颜色空间无效。</td>
</tr>
<tr>
<td align="center">2018</td>
<td align="left"> 图像颜色管理没有启动。</td>
</tr>
<tr>
<td align="center">2019</td>
<td align="left"> 在删除该颜色传输时有一个错误。</td>
</tr>
<tr>
<td align="center">2020</td>
<td align="left"> 该指定的颜色传输无效。</td>
</tr>
<tr>
<td align="center">2021</td>
<td align="left"> 该指定的变换与位图的颜色空间不匹配。</td>
</tr>
<tr>
<td align="center">2022</td>
<td align="left"> 该指定的命名颜色索引在配置文件中不存在。</td>
</tr>
<tr>
<td align="center">2102</td>
<td align="left"> 没有安装工作站驱动程序。</td>
</tr>
<tr>
<td align="center">2103</td>
<td align="left"> 无法定位服务器。</td>
</tr>
<tr>
<td align="center">2104</td>
<td align="left"> 发生内部错误，网络无法访问共享内存段。</td>
</tr>
<tr>
<td align="center">2105</td>
<td align="left"> 网络资源不足。</td>
</tr>
<tr>
<td align="center">2106</td>
<td align="left"> 工作站不支持该操作。</td>
</tr>
<tr>
<td align="center">2107</td>
<td align="left"> 设备没有连接。</td>
</tr>
<tr>
<td align="center">2108</td>
<td align="left"> 网络连接已成功，但需要提示用户输入一个不同于原始指定的密码。</td>
</tr>
<tr>
<td align="center">2109</td>
<td align="left"> 使用默认凭据成功连接网络。</td>
</tr>
<tr>
<td align="center">2114</td>
<td align="left"> 没有启动服务器服务。</td>
</tr>
<tr>
<td align="center">2115</td>
<td align="left"> 队列空。</td>
</tr>
<tr>
<td align="center">2116</td>
<td align="left"> 设备或目录不存在。</td>
</tr>
<tr>
<td align="center">2117</td>
<td align="left"> 无法在重定向的资源上执行此操作。</td>
</tr>
<tr>
<td align="center">2118</td>
<td align="left"> 名称已经共享。</td>
</tr>
<tr>
<td align="center">2119</td>
<td align="left"> 服务器目前无法提供所需的资源。</td>
</tr>
<tr>
<td align="center">2121</td>
<td align="left"> 额外请求的项目超过允许的上限。</td>
</tr>
<tr>
<td align="center">2122</td>
<td align="left"> 对等服务只支持两个同时操作的用户。</td>
</tr>
<tr>
<td align="center">2123</td>
<td align="left">API 返回的缓冲区太小。</td>
</tr>
<tr>
<td align="center">2127</td>
<td align="left"> 远程 API 错误。</td>
</tr>
<tr>
<td align="center">2131</td>
<td align="left"> 打开或读取配置文件时出错。</td>
</tr>
<tr>
<td align="center">2136</td>
<td align="left"> 发生一般网络错误。</td>
</tr>
<tr>
<td align="center">2137</td>
<td align="left"> 工作站服务的状态不一致。重新启动工作站服务之前，请先重新启动计算机。</td>
</tr>
<tr>
<td align="center">2138</td>
<td align="left"> 工作站服务没有启动。</td>
</tr>
<tr>
<td align="center">2139</td>
<td align="left"> 所需信息不可用。</td>
</tr>
<tr>
<td align="center">2140</td>
<td align="left"> 发生 Windows2000 内部错误。</td>
</tr>
<tr>
<td align="center">2141</td>
<td align="left"> 服务器没有配置事务处理。</td>
</tr>
<tr>
<td align="center">2142</td>
<td align="left"> 远程服务器不支持请求的 API。</td>
</tr>
<tr>
<td align="center">2143</td>
<td align="left"> 事件名无效。</td>
</tr>
<tr>
<td align="center">2144</td>
<td align="left"> 网络上已经有此计算机名。请更名后重新启动。</td>
</tr>
<tr>
<td align="center">2146</td>
<td align="left"> 配置信息中找不到指定的组件。</td>
</tr>
<tr>
<td align="center">2147</td>
<td align="left"> 配置信息中找不到指定的参数。</td>
</tr>
<tr>
<td align="center">2149</td>
<td align="left"> 配置文件中有一行太长。</td>
</tr>
<tr>
<td align="center">2150</td>
<td align="left"> 打印机不存在。</td>
</tr>
<tr>
<td align="center">2151</td>
<td align="left"> 打印作业不存在。</td>
</tr>
<tr>
<td align="center">2152</td>
<td align="left"> 找不到打印机目标。</td>
</tr>
<tr>
<td align="center">2153</td>
<td align="left"> 打印机目标已经存在。</td>
</tr>
<tr>
<td align="center">2154</td>
<td align="left"> 打印机队列已经存在。</td>
</tr>
<tr>
<td align="center">2155</td>
<td align="left"> 无法添加其他打印机。</td>
</tr>
<tr>
<td align="center">2156</td>
<td align="left"> 无法添加其他打印作业。</td>
</tr>
<tr>
<td align="center">2157</td>
<td align="left"> 无法添加其他打印机目标。</td>
</tr>
<tr>
<td align="center">2158</td>
<td align="left"> 此打印机目标处于空闲中，不接受控制操作。</td>
</tr>
<tr>
<td align="center">2159</td>
<td align="left"> 此打印机目标请求包含无效的控制函数。</td>
</tr>
<tr>
<td align="center">2160</td>
<td align="left"> 打印处理程序没有响应。</td>
</tr>
<tr>
<td align="center">2161</td>
<td align="left"> 后台处理程序没有运行。</td>
</tr>
<tr>
<td align="center">2162</td>
<td align="left"> 打印目标在当前的状态下无法执行这项操作。</td>
</tr>
<tr>
<td align="center">2163</td>
<td align="left"> 打印机队列在当前的状态下无法执行这项操作。</td>
</tr>
<tr>
<td align="center">2164</td>
<td align="left"> 打印作业在当前的状态下无法执行这项操作。</td>
</tr>
<tr>
<td align="center">2165</td>
<td align="left"> 无法为后台处理程序分配内存。</td>
</tr>
<tr>
<td align="center">2166</td>
<td align="left"> 设备驱动程序不存在。</td>
</tr>
<tr>
<td align="center">2167</td>
<td align="left"> 打印处理程序不支持该数据类型。</td>
</tr>
<tr>
<td align="center">2168</td>
<td align="left"> 没有安装打印处理程序。</td>
</tr>
<tr>
<td align="center">2180</td>
<td align="left"> 锁定服务数据库。</td>
</tr>
<tr>
<td align="center">2181</td>
<td align="left"> 服务表已满。</td>
</tr>
<tr>
<td align="center">2182</td>
<td align="left"> 请求的服务已经启动。</td>
</tr>
<tr>
<td align="center">2183</td>
<td align="left"> 这项服务没有响应控制操作。</td>
</tr>
<tr>
<td align="center">2184</td>
<td align="left"> 服务尚未启动。</td>
</tr>
<tr>
<td align="center">2185</td>
<td align="left"> 服务名无效。</td>
</tr>
<tr>
<td align="center">2186</td>
<td align="left"> 服务没有响应控制功能。</td>
</tr>
<tr>
<td align="center">2187</td>
<td align="left"> 服务控制处于忙碌状态。</td>
</tr>
<tr>
<td align="center">2188</td>
<td align="left"> 配置文件包含无效的服务程序名。</td>
</tr>
<tr>
<td align="center">2189</td>
<td align="left"> 在当前的状态下无法控制服务。</td>
</tr>
<tr>
<td align="center">2190</td>
<td align="left"> 服务异常终止。</td>
</tr>
<tr>
<td align="center">2191</td>
<td align="left"> 这项服务无法接受请求的” 暂停” 或” 停止” 操作。</td>
</tr>
<tr>
<td align="center">2192</td>
<td align="left"> 服务控制 “计划程序” 在 “计划表” 中找不到服务名。</td>
</tr>
<tr>
<td align="center">2193</td>
<td align="left"> 无法读取服务控制计划程序管道。</td>
</tr>
<tr>
<td align="center">2194</td>
<td align="left"> 无法创建新服务的线程。</td>
</tr>
<tr>
<td align="center">2200</td>
<td align="left"> 工作站已经登录到局域网。</td>
</tr>
<tr>
<td align="center">2201</td>
<td align="left"> 工作站没有登录到局域网。</td>
</tr>
<tr>
<td align="center">2202</td>
<td align="left"> 指定的用户名无效。</td>
</tr>
<tr>
<td align="center">2203</td>
<td align="left"> 密码参数无效。</td>
</tr>
<tr>
<td align="center">2204</td>
<td align="left"> 登录处理程序没有添加消息别名。</td>
</tr>
<tr>
<td align="center">2205</td>
<td align="left"> 登录处理程序没有添加消息别名。</td>
</tr>
<tr>
<td align="center">2206</td>
<td align="left"> 注销处理程序没有删除消息别名。</td>
</tr>
<tr>
<td align="center">2207</td>
<td align="left"> 注销处理程序没有删除消息别名。</td>
</tr>
<tr>
<td align="center">2209</td>
<td align="left"> 暂停网络登录。</td>
</tr>
<tr>
<td align="center">2210</td>
<td align="left"> 中心登录服务器发生冲突。</td>
</tr>
<tr>
<td align="center">2211</td>
<td align="left"> 服务器没有配置有效的用户路径。</td>
</tr>
<tr>
<td align="center">2212</td>
<td align="left"> 加载或运行登录脚本时出错。</td>
</tr>
<tr>
<td align="center">2214</td>
<td align="left"> 没有指定登录服务器，计算机的登录状态是单机操作。</td>
</tr>
<tr>
<td align="center">2215</td>
<td align="left"> 找不到登录服务器。</td>
</tr>
<tr>
<td align="center">2216</td>
<td align="left"> 此计算机已经有一个登录域。</td>
</tr>
<tr>
<td align="center">2217</td>
<td align="left"> 登录服务器无法验证登录。</td>
</tr>
<tr>
<td align="center">2219</td>
<td align="left"> 找不到安全数据库。</td>
</tr>
<tr>
<td align="center">2220</td>
<td align="left"> 找不到组名。</td>
</tr>
<tr>
<td align="center">2221</td>
<td align="left"> 找不到用户名。</td>
</tr>
<tr>
<td align="center">2222</td>
<td align="left"> 找不到资源名。</td>
</tr>
<tr>
<td align="center">2223</td>
<td align="left"> 组已经存在。</td>
</tr>
<tr>
<td align="center">2224</td>
<td align="left"> 帐户已经存在。</td>
</tr>
<tr>
<td align="center">2225</td>
<td align="left"> 资源使用权限列表已经存在。</td>
</tr>
<tr>
<td align="center">2226</td>
<td align="left"> 此操作只能在该域的主域控制器上执行。</td>
</tr>
<tr>
<td align="center">2227</td>
<td align="left"> 安全数据库没有启动。</td>
</tr>
<tr>
<td align="center">2228</td>
<td align="left"> 用户帐户数据库中的名称太多。</td>
</tr>
<tr>
<td align="center">2229</td>
<td align="left"> 磁盘 I/O 失败。</td>
</tr>
<tr>
<td align="center">2230</td>
<td align="left"> 已经超过每个资源 64 个项目的限制。</td>
</tr>
<tr>
<td align="center">2231</td>
<td align="left"> 不得删除带会话的用户。</td>
</tr>
<tr>
<td align="center">2232</td>
<td align="left"> 找不到上层目录。</td>
</tr>
<tr>
<td align="center">2233</td>
<td align="left"> 无法添加到安全数据库会话高速缓存段。</td>
</tr>
<tr>
<td align="center">2234</td>
<td align="left"> 该操作不能在此特殊的组上执行。</td>
</tr>
<tr>
<td align="center">2235</td>
<td align="left"> 用户帐户数据库会话高速缓存没有缓存此用户。</td>
</tr>
<tr>
<td align="center">2236</td>
<td align="left"> 用户已经属于此组。</td>
</tr>
<tr>
<td align="center">2237</td>
<td align="left"> 用户不属于此组。</td>
</tr>
<tr>
<td align="center">2238</td>
<td align="left"> 此用户帐户尚未定义。</td>
</tr>
<tr>
<td align="center">2239</td>
<td align="left"> 此用户帐户已过期。</td>
</tr>
<tr>
<td align="center">2240</td>
<td align="left"> 此用户不得从此工作站登录网络。</td>
</tr>
<tr>
<td align="center">2241</td>
<td align="left"> 此时不允许用户登录网络。</td>
</tr>
<tr>
<td align="center">2242</td>
<td align="left"> 此用户的密码已经过期。</td>
</tr>
<tr>
<td align="center">2243</td>
<td align="left"> 此用户的密码无法更改。</td>
</tr>
<tr>
<td align="center">2244</td>
<td align="left"> 现在无法使用此密码。</td>
</tr>
<tr>
<td align="center">2245</td>
<td align="left"> 密码不满足密码策略的要求。检查最小密码长度、密码复杂性和密码历史的要求。</td>
</tr>
<tr>
<td align="center">2246</td>
<td align="left"> 此用户的密码最近才启用，现在不能更改。</td>
</tr>
<tr>
<td align="center">2247</td>
<td align="left"> 安全数据库已损坏。</td>
</tr>
<tr>
<td align="center">2248</td>
<td align="left"> 不需要更新此副本复制的网络 / 本地安全数据库。</td>
</tr>
<tr>
<td align="center">2249</td>
<td align="left"> 此副本复制的数据库已过时；请同步其中的数据。</td>
</tr>
<tr>
<td align="center">2250</td>
<td align="left"> 此网络连接不存在。</td>
</tr>
<tr>
<td align="center">2251</td>
<td align="left"> 此 asg_type 无效。</td>
</tr>
<tr>
<td align="center">2252</td>
<td align="left"> 此设备目前正在共享中。</td>
</tr>
<tr>
<td align="center">2270</td>
<td align="left"> 计算机名无法作为消息别名添加。网络上可能已经有此名称。</td>
</tr>
<tr>
<td align="center">2271</td>
<td align="left"> 信使服务已经启动。</td>
</tr>
<tr>
<td align="center">2272</td>
<td align="left"> 信使服务启动失败。</td>
</tr>
<tr>
<td align="center">2273</td>
<td align="left"> 网络上找不到此消息别名。</td>
</tr>
<tr>
<td align="center">2274</td>
<td align="left"> 此消息别名已经被转发。</td>
</tr>
<tr>
<td align="center">2275</td>
<td align="left"> 已经添加了此消息别名，但是仍被转发。</td>
</tr>
<tr>
<td align="center">2276</td>
<td align="left"> 此消息别名已在本地存在。</td>
</tr>
<tr>
<td align="center">2277</td>
<td align="left"> 添加的消息别名已经超过数目上限。</td>
</tr>
<tr>
<td align="center">2278</td>
<td align="left"> 无法删除计算机名。</td>
</tr>
<tr>
<td align="center">2279</td>
<td align="left"> 消息无法转发回到同一个工作站。</td>
</tr>
<tr>
<td align="center">2280</td>
<td align="left"> 域消息处理程序出错。</td>
</tr>
<tr>
<td align="center">2281</td>
<td align="left"> 消息已经发送，但是收件者已经暂停信使服务。</td>
</tr>
<tr>
<td align="center">2282</td>
<td align="left"> 消息已经发送，但没有收到。</td>
</tr>
<tr>
<td align="center">2283</td>
<td align="left"> 消息别名目前正在使用中。请稍后再试。</td>
</tr>
<tr>
<td align="center">2284</td>
<td align="left"> 信使服务尚未启动。</td>
</tr>
<tr>
<td align="center">2285</td>
<td align="left"> 该名称不在本地计算机上。</td>
</tr>
<tr>
<td align="center">2286</td>
<td align="left"> 网络上找不到转发的消息别名。</td>
</tr>
<tr>
<td align="center">2287</td>
<td align="left"> 远程通讯站的消息别名表已经满了。</td>
</tr>
<tr>
<td align="center">2288</td>
<td align="left"> 此别名的消息目前没有在转发中。</td>
</tr>
<tr>
<td align="center">2289</td>
<td align="left"> 广播的消息被截断。</td>
</tr>
<tr>
<td align="center">2294</td>
<td align="left"> 设备名无效。</td>
</tr>
<tr>
<td align="center">2295</td>
<td align="left"> 写入出错。</td>
</tr>
<tr>
<td align="center">2297</td>
<td align="left"> 网络上的消息别名重复。</td>
</tr>
<tr>
<td align="center">2298</td>
<td align="left"> 此消息别名会在稍后删除。</td>
</tr>
<tr>
<td align="center">2299</td>
<td align="left"> 没有从所有的网络删除消息别名。</td>
</tr>
<tr>
<td align="center">2300</td>
<td align="left"> 该操作无法在使用多种网络的计算机上执行。</td>
</tr>
<tr>
<td align="center">2310</td>
<td align="left"> 共享资源不存在。</td>
</tr>
<tr>
<td align="center">2311</td>
<td align="left"> 设备没有共享。</td>
</tr>
<tr>
<td align="center">2312</td>
<td align="left"> 带此计算机名的会话不存在。</td>
</tr>
<tr>
<td align="center">2314</td>
<td align="left"> 没有用此识别号打开的文件。</td>
</tr>
<tr>
<td align="center">2315</td>
<td align="left"> 执行远程管理命令失败。</td>
</tr>
<tr>
<td align="center">2316</td>
<td align="left"> 打开远程临时文件失败。</td>
</tr>
<tr>
<td align="center">2317</td>
<td align="left"> 从远程管理命令返回的数据已经被截断成 64K。</td>
</tr>
<tr>
<td align="center">2318</td>
<td align="left"> 此设备无法同时共享为后台处理资源和非后台处理资源。</td>
</tr>
<tr>
<td align="center">2319</td>
<td align="left"> 服务器列表中的信息可能不正确</td>
</tr>
<tr>
<td align="center"> 2320</td>
<td align="left"> 计算机在此域未处于活动状态</td>
</tr>
<tr>
<td align="center"> 2321</td>
<td align="left"> 在删除共享之前，需要将该共享从分布式文件系统中删除。</td>
</tr>
<tr>
<td align="center">2331</td>
<td align="left"> 无法在此设备执行该操作</td>
</tr>
<tr>
<td align="center"> 2332</td>
<td align="left"> 此设备无法共享。</td>
</tr>
<tr>
<td align="center">2333</td>
<td align="left"> 此设备未打开。</td>
</tr>
<tr>
<td align="center">2334</td>
<td align="left"> 此设备名列表无效。</td>
</tr>
<tr>
<td align="center">2335</td>
<td align="left"> 队列优先顺序无效。</td>
</tr>
<tr>
<td align="center">2337</td>
<td align="left"> 没有任何共享的通讯设备。</td>
</tr>
<tr>
<td align="center">2338</td>
<td align="left"> 指定的队列不存在。</td>
</tr>
<tr>
<td align="center">2340</td>
<td align="left"> 此设备列表无效。</td>
</tr>
<tr>
<td align="center">2341</td>
<td align="left"> 请求的设备无效。</td>
</tr>
<tr>
<td align="center">2342</td>
<td align="left"> 后台处理程序正在使用此设备。</td>
</tr>
<tr>
<td align="center">2343</td>
<td align="left"> 此设备已经被当成通讯设备来使用。</td>
</tr>
<tr>
<td align="center">2351</td>
<td align="left"> 此计算机名无效。</td>
</tr>
<tr>
<td align="center">2354</td>
<td align="left"> 指定的字符串及前缀太长。</td>
</tr>
<tr>
<td align="center">2356</td>
<td align="left"> 此路径组成部分无效。</td>
</tr>
<tr>
<td align="center">2357</td>
<td align="left"> 无法判断输入类型。</td>
</tr>
<tr>
<td align="center">2362</td>
<td align="left"> 类型缓冲区不够大。</td>
</tr>
<tr>
<td align="center">2370</td>
<td align="left"> 配置文件不得超过 64K。</td>
</tr>
<tr>
<td align="center">2371</td>
<td align="left"> 初始偏移量越界。</td>
</tr>
<tr>
<td align="center">2372</td>
<td align="left"> 系统无法删除当前到网络资源的连接。</td>
</tr>
<tr>
<td align="center">2373</td>
<td align="left"> 系统无法分析此文件中的命令行。</td>
</tr>
<tr>
<td align="center">2374</td>
<td align="left"> 加载配置文件时出错。|</td>
</tr>
<tr>
<td align="center">2375</td>
<td align="left"> 保存配置文件时出错，只部份地保存了配置文件。</td>
</tr>
<tr>
<td align="center">2378</td>
<td align="left"> 此日志文件在前后两次读取之间已经发生变化。</td>
</tr>
<tr>
<td align="center">2380</td>
<td align="left"> 源路径不可以是目录。</td>
</tr>
<tr>
<td align="center">2381</td>
<td align="left"> 源路径无效。</td>
</tr>
<tr>
<td align="center">2382</td>
<td align="left"> 目标路径无效。</td>
</tr>
<tr>
<td align="center">2383</td>
<td align="left"> 源路径及目标路径分属不同的服务器。</td>
</tr>
<tr>
<td align="center">2385</td>
<td align="left"> 请求的 Run 服务器现在暂停。</td>
</tr>
<tr>
<td align="center">2389</td>
<td align="left"> 与 Run 服务器通讯时出错。</td>
</tr>
<tr>
<td align="center">2391</td>
<td align="left"> 启动后台处理时出错。</td>
</tr>
<tr>
<td align="center">2392</td>
<td align="left"> 找不到您连接的共享资源。</td>
</tr>
<tr>
<td align="center">2400</td>
<td align="left">LAN 适配器号码无效。</td>
</tr>
<tr>
<td align="center">2401</td>
<td align="left"> 此网络连接有文件打开或请求挂起。</td>
</tr>
<tr>
<td align="center">2402</td>
<td align="left"> 使用中的连接仍存在。</td>
</tr>
<tr>
<td align="center">2403</td>
<td align="left"> 此共享名或密码无效。</td>
</tr>
<tr>
<td align="center">2404</td>
<td align="left"> 设备正由活动进程使用，无法断开。</td>
</tr>
<tr>
<td align="center">2405</td>
<td align="left"> 此驱动器号已在本地使用。</td>
</tr>
<tr>
<td align="center">2430</td>
<td align="left"> 指定的客户端已经在指定的事件注册。</td>
</tr>
<tr>
<td align="center">2431</td>
<td align="left"> 警报表已满。</td>
</tr>
<tr>
<td align="center">2432</td>
<td align="left"> 发出的警报名称无效或不存在。</td>
</tr>
<tr>
<td align="center">2433</td>
<td align="left"> 警报接收者无效。</td>
</tr>
<tr>
<td align="center">2434</td>
<td align="left"> 用户的登录时间长短不再合法。所以已经删除用户与该服务器的会话。</td>
</tr>
<tr>
<td align="center">2440</td>
<td align="left"> 日志文件中没有请求的记录号。</td>
</tr>
<tr>
<td align="center">2450</td>
<td align="left"> 用户帐户数据库没有正确配置。</td>
</tr>
<tr>
<td align="center">2451</td>
<td align="left"> 当 Netlogon 服务正在运行时，不允许执行该操作。</td>
</tr>
<tr>
<td align="center">2452</td>
<td align="left"> 该操作无法在最新的管理帐户上执行。</td>
</tr>
<tr>
<td align="center">2453</td>
<td align="left"> 找不到此域的域控制器。</td>
</tr>
<tr>
<td align="center">2454</td>
<td align="left"> 无法设置此用户的登录信息。</td>
</tr>
<tr>
<td align="center">2455</td>
<td align="left">Netlogon 服务尚未启动。</td>
</tr>
<tr>
<td align="center">2456</td>
<td align="left"> 无法添加到用户帐户数据库。</td>
</tr>
<tr>
<td align="center">2457</td>
<td align="left"> 此服务器的时钟与主域控制器的时钟不一致。</td>
</tr>
<tr>
<td align="center">2458</td>
<td align="left"> 检测到密码不匹配。</td>
</tr>
<tr>
<td align="center">2460</td>
<td align="left"> 服务器标识没有指定有效的服务器。</td>
</tr>
<tr>
<td align="center">2461</td>
<td align="left"> 会话标识没有指定有效的会话。</td>
</tr>
<tr>
<td align="center">2462</td>
<td align="left"> 连接标识没有指定有效的连接。</td>
</tr>
<tr>
<td align="center">2463</td>
<td align="left"> 可用服务器表中无法添加其他项。</td>
</tr>
<tr>
<td align="center">2464</td>
<td align="left"> 服务器已经到了支持的会话数目上限。</td>
</tr>
<tr>
<td align="center">2465</td>
<td align="left"> 服务器已经到了支持的连接数目上限。</td>
</tr>
<tr>
<td align="center">2466</td>
<td align="left"> 服务器打开的文件到了上限，无法打开更多文件。</td>
</tr>
<tr>
<td align="center">2467</td>
<td align="left"> 这台服务器没有登记替换的服务器。</td>
</tr>
<tr>
<td align="center">2470</td>
<td align="left"> 请用低版本的 API (远程管理协议)。</td>
</tr>
<tr>
<td align="center">2480</td>
<td align="left">UPS 服务无法访问 UPS 驱动程序。</td>
</tr>
<tr>
<td align="center">2481</td>
<td align="left">UPS 服务配置错误。</td>
</tr>
<tr>
<td align="center">2482</td>
<td align="left">UPS 服务无法访问指定通讯端口 (CommPort)。</td>
</tr>
<tr>
<td align="center">2483</td>
<td align="left">UPS 显示线路中断或电池不足，服务没有启动。</td>
</tr>
<tr>
<td align="center">2484</td>
<td align="left">UPS 服务无法执行系统关机操作。</td>
</tr>
<tr>
<td align="center">2500</td>
<td align="left"> 下面的程序返回一个 MS-DOS 错误码:</td>
</tr>
<tr>
<td align="center">2501</td>
<td align="left"> 下面的程序需要更多的内存:</td>
</tr>
<tr>
<td align="center">2502</td>
<td align="left"> 下面的程序调用了不支持的 MS-DOS 函数:</td>
</tr>
<tr>
<td align="center">2503</td>
<td align="left"> 工作站无法启动。</td>
</tr>
<tr>
<td align="center">2504</td>
<td align="left"> 下面的文件已损坏。</td>
</tr>
<tr>
<td align="center">2505</td>
<td align="left"> 启动块定义文件中没有指定加载程序。</td>
</tr>
<tr>
<td align="center">2506</td>
<td align="left">NetBIOS 返回错误：NCB 及 SMB 数据转储。</td>
</tr>
<tr>
<td align="center">2507</td>
<td align="left"> 磁盘 I/O 错误。</td>
</tr>
<tr>
<td align="center">2508</td>
<td align="left"> 无法替换映像参数。</td>
</tr>
<tr>
<td align="center">2509</td>
<td align="left"> 跨越磁盘扇区范围的映像参数太多。</td>
</tr>
<tr>
<td align="center">2510</td>
<td align="left"> 不是从用 / S 格式化的 MS-DOS 软盘产生的映像。</td>
</tr>
<tr>
<td align="center">2511</td>
<td align="left"> 稍后会从远程重新启动。</td>
</tr>
<tr>
<td align="center">2512</td>
<td align="left"> 无法调用远程启动服务器。</td>
</tr>
<tr>
<td align="center">2513</td>
<td align="left"> 无法连接到远程启动服务器。</td>
</tr>
<tr>
<td align="center">2514</td>
<td align="left"> 无法打开远程启动服务器上的映像文件。</td>
</tr>
<tr>
<td align="center">2515</td>
<td align="left"> 正在连接到远程启动服务器…</td>
</tr>
<tr>
<td align="center">2516</td>
<td align="left"> 正在连接到远程启动服务器…</td>
</tr>
<tr>
<td align="center">2517</td>
<td align="left"> 远程启动服务已经停止，请检测错误记录文件，查明出错的原因。</td>
</tr>
<tr>
<td align="center">2518</td>
<td align="left"> 远程启动失败，请检查错误日志文件，查明出错的原因。</td>
</tr>
<tr>
<td align="center">2519</td>
<td align="left"> 不允许第二个远程启动 (Remoteboot) 资源连接。</td>
</tr>
<tr>
<td align="center">2550</td>
<td align="left"> 浏览服务配置成 MaintainServerList=No。</td>
</tr>
<tr>
<td align="center">2610</td>
<td align="left"> 因为没有网卡与这项服务一起启动，所以无法启动服务。</td>
</tr>
<tr>
<td align="center">2611</td>
<td align="left"> 因为注册表中的启动信息不正确，所以无法启动服务。</td>
</tr>
<tr>
<td align="center">2612</td>
<td align="left"> 因为服务的数据库找不到或损坏，所以无法启动服务。</td>
</tr>
<tr>
<td align="center">2613</td>
<td align="left"> 因为找不到 RPLFILES 共享，所以无法启动服务。</td>
</tr>
<tr>
<td align="center">2614</td>
<td align="left"> 因为找不到 RPLUSER 组，所以无法启动服务。</td>
</tr>
<tr>
<td align="center">2615</td>
<td align="left"> 无法枚举服务记录。</td>
</tr>
<tr>
<td align="center">2616</td>
<td align="left"> 工作站记录信息已损坏。</td>
</tr>
<tr>
<td align="center">2617</td>
<td align="left"> 找不到工作站记录。</td>
</tr>
<tr>
<td align="center">2618</td>
<td align="left"> 其他工作站正在使用此工作站名。</td>
</tr>
<tr>
<td align="center">2619</td>
<td align="left"> 配置文件记录信息已损坏。</td>
</tr>
<tr>
<td align="center">2620</td>
<td align="left"> 找不到配置文件记录。</td>
</tr>
<tr>
<td align="center">2621</td>
<td align="left"> 其他配置文件正在使用此名称。</td>
</tr>
<tr>
<td align="center">2622</td>
<td align="left"> 有很多工作站正在使用此配置文件。</td>
</tr>
<tr>
<td align="center">2623</td>
<td align="left"> 配置记录信息已损坏。</td>
</tr>
<tr>
<td align="center">2624</td>
<td align="left"> 找不到配置记录。</td>
</tr>
<tr>
<td align="center">2625</td>
<td align="left"> 适配器 ID 记录信息已损坏。</td>
</tr>
<tr>
<td align="center">2626</td>
<td align="left"> 内部服务出错。</td>
</tr>
<tr>
<td align="center">2627</td>
<td align="left"> 供应商 ID 记录信息已损坏。</td>
</tr>
<tr>
<td align="center">2628</td>
<td align="left"> 启动块记录信息已损坏。</td>
</tr>
<tr>
<td align="center">2629</td>
<td align="left"> 找不到此工作站记录的用户帐户。</td>
</tr>
<tr>
<td align="center">2630</td>
<td align="left"> 找不到 RPLUSER 本地组。</td>
</tr>
<tr>
<td align="center">2631</td>
<td align="left"> 找不到启动块记录。</td>
</tr>
<tr>
<td align="center">2632</td>
<td align="left"> 所选的配置文件与此工作站不兼容。</td>
</tr>
<tr>
<td align="center">2633</td>
<td align="left"> 其他工作站正在使用所选的网卡 ID。</td>
</tr>
<tr>
<td align="center">2634</td>
<td align="left"> 有些配置文件正在使用此配置。</td>
</tr>
<tr>
<td align="center">2635</td>
<td align="left"> 有数个工作站、配置文件或配置正在使用此启动块。</td>
</tr>
<tr>
<td align="center">2636</td>
<td align="left"> 服务无法制作远程启动数据库的备份。</td>
</tr>
<tr>
<td align="center">2637</td>
<td align="left"> 找不到适配器记录。</td>
</tr>
<tr>
<td align="center">2638</td>
<td align="left"> 找不到供应商记录。</td>
</tr>
<tr>
<td align="center">2639</td>
<td align="left"> 其他供应商记录正在使用此供应商名称。</td>
</tr>
<tr>
<td align="center">2640</td>
<td align="left"> 其他启动块记录正在使用启动名称或供应商 ID。</td>
</tr>
<tr>
<td align="center">2641</td>
<td align="left"> 其他配置正在使用此配置名称。</td>
</tr>
<tr>
<td align="center">2660</td>
<td align="left"> 由 DFS 服务所维护的内部数据库已损坏</td>
</tr>
<tr>
<td align="center"> 2661</td>
<td align="left"> 内部 DFS 数据库中的一条记录已损坏</td>
</tr>
<tr>
<td align="center"> 2662</td>
<td align="left"> 没有 DFS 名称的项目路径与输入项目路径匹配</td>
</tr>
<tr>
<td align="center"> 2663</td>
<td align="left"> 给定名称的根或链接已存在</td>
</tr>
<tr>
<td align="center"> 2664</td>
<td align="left"> 指定的服务器共享已在 DFS 中共享</td>
</tr>
<tr>
<td align="center"> 2665</td>
<td align="left"> 所显示的服务器共享不支持所显示的 DFS 名称空间</td>
</tr>
<tr>
<td align="center"> 2666</td>
<td align="left"> 此操作在这一部分的名称空间上无效</td>
</tr>
<tr>
<td align="center"> 2667</td>
<td align="left"> 此操作在这一部分的名称空间上无效</td>
</tr>
<tr>
<td align="center"> 2668</td>
<td align="left"> 此操作不明确，因为链接有多个服务器</td>
</tr>
<tr>
<td align="center"> 2669</td>
<td align="left"> 无法创建链接</td>
</tr>
<tr>
<td align="center"> 2670</td>
<td align="left"> 该服务器不是 DFS 可识别的</td>
</tr>
<tr>
<td align="center"> 2671</td>
<td align="left"> 指定的重命名目标路径无效。</td>
</tr>
<tr>
<td align="center">2672</td>
<td align="left"> 指定的 DFS 链接脱机</td>
</tr>
<tr>
<td align="center"> 2673</td>
<td align="left"> 指定的服务器不是此链接的服务器</td>
</tr>
<tr>
<td align="center"> 2674</td>
<td align="left"> 检测到 DFS 名中的环路</td>
</tr>
<tr>
<td align="center"> 2675</td>
<td align="left"> 在基于服务器的 DFS 上不支持该操作</td>
</tr>
<tr>
<td align="center"> 2676</td>
<td align="left"> 此链接已经受该指定服务器共享支持</td>
</tr>
<tr>
<td align="center"> 2677</td>
<td align="left"> 无法删除这个根或链接的最新服务器共享支持</td>
</tr>
<tr>
<td align="center"> 2678</td>
<td align="left">DFS 间的链接不支持该操作</td>
</tr>
<tr>
<td align="center"> 2679</td>
<td align="left">DFS 服务的内部状态已经变得不一致</td>
</tr>
<tr>
<td align="center"> 2680</td>
<td align="left">DFS 服务已经安装在指定的服务器上</td>
</tr>
<tr>
<td align="center"> 2681</td>
<td align="left"> 被协调的 DFS 数据是一样的</td>
</tr>
<tr>
<td align="center"> 2682</td>
<td align="left"> 无法删除 DFS 根目录 - 如需要请卸载 DFS</td>
</tr>
<tr>
<td align="center">2683</td>
<td align="left"> 该共享的子目录或父目录已经存在在一个 DFS 中</td>
</tr>
<tr>
<td align="center"> 2690</td>
<td align="left">DFS 内部错误</td>
</tr>
<tr>
<td align="center"> 2691</td>
<td align="left"> 这台机器已经加入域。</td>
</tr>
<tr>
<td align="center">2692</td>
<td align="left"> 这个机器目前未加入域。</td>
</tr>
<tr>
<td align="center">2693</td>
<td align="left"> 这台机器是域控制器，而且无法从域中退出。</td>
</tr>
<tr>
<td align="center">2694</td>
<td align="left"> 目标域控制器不支持在 OU 中创建的机器帐户。</td>
</tr>
<tr>
<td align="center">2695</td>
<td align="left"> 指定的工作组名无效。</td>
</tr>
<tr>
<td align="center">2696</td>
<td align="left"> 指定的计算机名与域控制器上使用的默认语言不兼容。</td>
</tr>
<tr>
<td align="center">2697</td>
<td align="left"> 找不到指定的计算机帐户。</td>
</tr>
<tr>
<td align="center">2698</td>
<td align="left"> 此版本的 Windows 不能加入到域。</td>
</tr>
<tr>
<td align="center">2999</td>
<td align="left"> 这是 NERR 范围内的最后一个错误。</td>
</tr>
<tr>
<td align="center">3000</td>
<td align="left"> 指定了未知的打印监视器。</td>
</tr>
<tr>
<td align="center">3001</td>
<td align="left"> 指定的打印机驱动程序当前正在使用。</td>
</tr>
<tr>
<td align="center">3002</td>
<td align="left"> 找不到缓冲文件。</td>
</tr>
<tr>
<td align="center">3003</td>
<td align="left"> 未发送 StartDocPrinter 调用。</td>
</tr>
<tr>
<td align="center">3004</td>
<td align="left"> 未发送 AddJob 调用。</td>
</tr>
<tr>
<td align="center">3005</td>
<td align="left"> 指定的打印处理器已经安装。</td>
</tr>
<tr>
<td align="center">3006</td>
<td align="left"> 指定的打印监视器已经安装。</td>
</tr>
<tr>
<td align="center">3007</td>
<td align="left"> 该指定的打印监视器不具备所要求的功能。</td>
</tr>
<tr>
<td align="center">3008</td>
<td align="left"> 该指定的打印监视器正在使用中。</td>
</tr>
<tr>
<td align="center">3009</td>
<td align="left"> 当打印机有作业排成队列时此操作请求是不允许的。</td>
</tr>
<tr>
<td align="center">3010</td>
<td align="left"> 请求的操作成功。直到重新启动系统前更改将不会生效。</td>
</tr>
<tr>
<td align="center">3011</td>
<td align="left"> 请求的操作成功。直到重新启动服务前更改将不会生效。</td>
</tr>
<tr>
<td align="center">3012</td>
<td align="left"> 找不到打印机。</td>
</tr>
<tr>
<td align="center">3013</td>
<td align="left"> 已知打印机驱动程序不可靠。</td>
</tr>
<tr>
<td align="center">3014</td>
<td align="left"> 已知打印机驱动程序会伤害系统。</td>
</tr>
<tr>
<td align="center">3023</td>
<td align="left"> 用户指定的关机命令文件的配置有问题。不过 UPS 服务已经启动。</td>
</tr>
<tr>
<td align="center">3029</td>
<td align="left"> 因为用户帐户数据库 (NET.ACC) 找不到或损坏，而且也没有可用的备份数据库，所以不能启动本地安全机制。系统不安全！</td>
</tr>
<tr>
<td align="center">3037</td>
<td align="left"> 登录小时数</td>
</tr>
<tr>
<td align="center"> 3039</td>
<td align="left"> 已经超过一个目录中文件的副本复制的限制。</td>
</tr>
<tr>
<td align="center">3040</td>
<td align="left"> 已经超过副本复制的目录树深度限制。</td>
</tr>
<tr>
<td align="center">3046</td>
<td align="left"> 无法登录。用户目前已经登录，同时参数 TRYUSER 设置为 NO。</td>
</tr>
<tr>
<td align="center">3052</td>
<td align="left"> 命令行或配置文件中没有提供必要的参数。</td>
</tr>
<tr>
<td align="center">3054</td>
<td align="left"> 无法满足资源的请求。</td>
</tr>
<tr>
<td align="center">3055</td>
<td align="left"> 系统配置有问题。</td>
</tr>
<tr>
<td align="center">3056</td>
<td align="left"> 系统出错。</td>
</tr>
<tr>
<td align="center">3057</td>
<td align="left"> 发生内部一致性的错误。</td>
</tr>
<tr>
<td align="center">3058</td>
<td align="left"> 配置文件或命令行的选项不明确。</td>
</tr>
<tr>
<td align="center">3059</td>
<td align="left"> 配置文件或命令行的参数重复。</td>
</tr>
<tr>
<td align="center">3060</td>
<td align="left"> 服务没有响应控制，DosKillProc 函数已经停止服务。</td>
</tr>
<tr>
<td align="center">3061</td>
<td align="left"> 运行服务程序时出错。</td>
</tr>
<tr>
<td align="center">3062</td>
<td align="left"> 无法启动次级服务。</td>
</tr>
<tr>
<td align="center">3064</td>
<td align="left"> 文件有问题。</td>
</tr>
<tr>
<td align="center">3070</td>
<td align="left"> 内存</td>
</tr>
<tr>
<td align="center"> 3071</td>
<td align="left"> 磁盘空间</td>
</tr>
<tr>
<td align="center"> 3072</td>
<td align="left"> 线程</td>
</tr>
<tr>
<td align="center"> 3073</td>
<td align="left"> 过程</td>
</tr>
<tr>
<td align="center"> 3074</td>
<td align="left"> 安全性失败。</td>
</tr>
<tr>
<td align="center">3075</td>
<td align="left">LANManager 根目录不正确或找不到。</td>
</tr>
<tr>
<td align="center">3076</td>
<td align="left"> 未安装网络软件。</td>
</tr>
<tr>
<td align="center">3077</td>
<td align="left"> 服务器未启动。</td>
</tr>
<tr>
<td align="center">3078</td>
<td align="left"> 服务器无法访问用户帐户数据库 (NET.ACC)。</td>
</tr>
<tr>
<td align="center">3079</td>
<td align="left">LANMAN 树中安装的文件不兼容。</td>
</tr>
<tr>
<td align="center">3080</td>
<td align="left">LANMAN\LOGS 目录无效。</td>
</tr>
<tr>
<td align="center">3081</td>
<td align="left"> 指定的域无法使用。</td>
</tr>
<tr>
<td align="center">3082</td>
<td align="left"> 另一计算机正将此计算机名当作消息别名使用。</td>
</tr>
<tr>
<td align="center">3083</td>
<td align="left"> 宣布服务器名失败。</td>
</tr>
<tr>
<td align="center">3084</td>
<td align="left"> 用户帐户数据库没有正确配置。</td>
</tr>
<tr>
<td align="center">3085</td>
<td align="left"> 服务器没有运行用户级安全功能。</td>
</tr>
<tr>
<td align="center">3087</td>
<td align="left"> 工作站配置不正确。</td>
</tr>
<tr>
<td align="center">3088</td>
<td align="left"> 查看您的错误日志文件以了解详细信息。</td>
</tr>
<tr>
<td align="center">3089</td>
<td align="left"> 无法写入此文件。</td>
</tr>
<tr>
<td align="center">3090</td>
<td align="left">ADDPAK 文件损坏。请删除 LANMAN\NETPROG\ADDPAK.SER 后重新应用所有的 ADDPAK。</td>
</tr>
<tr>
<td align="center">3091</td>
<td align="left"> 因为没有运行 CACHE.EXE，所以无法启动 LM386 服务器。</td>
</tr>
<tr>
<td align="center">3092</td>
<td align="left"> 安全数据库中找不到这台计算机的帐户。</td>
</tr>
<tr>
<td align="center">3093</td>
<td align="left"> 这台计算机不是 SERVERS 组的成员。</td>
</tr>
<tr>
<td align="center">3094</td>
<td align="left">SERVERS 组在本地安全数据库中不存在。</td>
</tr>
<tr>
<td align="center">3095</td>
<td align="left"> 此计算机被配置为某个组的成员，并不是域的成员。此种配置下不需要运行 Netlogon 服务。</td>
</tr>
<tr>
<td align="center">3096</td>
<td align="left"> 找不到此域的主域控制器。</td>
</tr>
<tr>
<td align="center">3098</td>
<td align="left"> 服务无法与主域控制器进行验证。</td>
</tr>
<tr>
<td align="center">3099</td>
<td align="left"> 安全数据库文件创建日期或序列号有问题。</td>
</tr>
<tr>
<td align="center">3100</td>
<td align="left"> 因为网络软件出错，所以无法执行操作。</td>
</tr>
<tr>
<td align="center">3102</td>
<td align="left"> 这项服务无法获得网络控制块 (NCB) 段的长期锁定。错误码就是相关数据。</td>
</tr>
<tr>
<td align="center">3103</td>
<td align="left"> 这项服务无法解除网络控制块 (NCB) 段的长期锁定。错误码就是相关数据。</td>
</tr>
<tr>
<td align="center">3106</td>
<td align="left"> 收到意外的网络控制块 (NCB)。NCB 就是相关数据。</td>
</tr>
<tr>
<td align="center">3107</td>
<td align="left"> 网络没有启动。</td>
</tr>
<tr>
<td align="center">3108</td>
<td align="left">NETWKSTA.SYS 的 DosDevIoctl 或 DosFsCtl 调用失败。显示的数据为以下格式：DWORD 值代表调用 Ioctl 或 FsCtl 的 CS:IPWORD 错误代码 WORDIoctl 或 FsCtl 号</td>
</tr>
<tr>
<td align="center"> 3111</td>
<td align="left"> 发生意外的 NetBIOS 错误。错误码就是相关数据。</td>
</tr>
<tr>
<td align="center">3112</td>
<td align="left"> 收到的服务器消息块 (SMB) 无效。SMB 就是相关数据。</td>
</tr>
<tr>
<td align="center">3114</td>
<td align="left"> 因为缓冲区溢出，所以错误日志文件中部份的项目丢失。</td>
</tr>
<tr>
<td align="center">3120</td>
<td align="left"> 控制网络缓冲区以外资源用量的初始化参数被设置大小，因此需要的内存太多。</td>
</tr>
<tr>
<td align="center">3121</td>
<td align="left"> 服务器无法增加内存段的大小。</td>
</tr>
<tr>
<td align="center">3124</td>
<td align="left"> 服务器启动失败。三个 chdev 参数必须同时为零或者同时不为零。</td>
</tr>
<tr>
<td align="center">3129</td>
<td align="left"> 服务器无法更新 AT 计划文件。文件损坏。</td>
</tr>
<tr>
<td align="center">3130</td>
<td align="left"> 服务器调用 NetMakeLMFileName 时出错。错误码就是相关数据。</td>
</tr>
<tr>
<td align="center">3132</td>
<td align="left"> 无法长期锁定服务器缓冲区。请检查交换磁盘的可用空间，然后重新启动系统以启动服务器。</td>
</tr>
<tr>
<td align="center">3140</td>
<td align="left"> 因为多次连续出现网络控制块 (NCB) 错误，所以停止服务。最后一个坏的 NCB 以原始数据形式出现。</td>
</tr>
<tr>
<td align="center">3141</td>
<td align="left"> 因为消息服务器共享的数据段被锁住，所以消息服务器已经停止运行。</td>
</tr>
<tr>
<td align="center">3151</td>
<td align="left"> 因为 VIO 调用出错，所以无法显示 POPUP 消息。错误码就是相关数据。</td>
</tr>
<tr>
<td align="center">3152</td>
<td align="left"> 收到的服务器消息块 (SMB) 无效。SMB 就是相关数据。</td>
</tr>
<tr>
<td align="center">3160</td>
<td align="left"> 工作站信息段大于 64K。大小如下 (以 DWORD 值的格式):</td>
</tr>
<tr>
<td align="center">3161</td>
<td align="left"> 工作站无法取得计算机的名称号码。</td>
</tr>
<tr>
<td align="center">3162</td>
<td align="left"> 工作站无法初始化 AsyncNetBIOS 线程。错误码就是相关数据。</td>
</tr>
<tr>
<td align="center">3163</td>
<td align="left"> 工作站无法打开最前面的共享段。错误码就是相关数据。</td>
</tr>
<tr>
<td align="center">3164</td>
<td align="left"> 工作站主机表已满。</td>
</tr>
<tr>
<td align="center">3165</td>
<td align="left"> 收到的邮筒服务器消息块 (SMB) 有问题，SMB 就是相关数据。</td>
</tr>
<tr>
<td align="center">3166</td>
<td align="left"> 工作站启动用户帐户数据库时出错。错误码就是相关数据。</td>
</tr>
<tr>
<td align="center">3167</td>
<td align="left"> 工作站响应 SSI 重新验证请求时出错。函数码及错误码就是相关数据。</td>
</tr>
<tr>
<td align="center">3174</td>
<td align="left"> 服务器无法读取 AT 计划文件。</td>
</tr>
<tr>
<td align="center">3175</td>
<td align="left"> 服务器发现无效的 AT 计划记录。</td>
</tr>
<tr>
<td align="center">3176</td>
<td align="left"> 服务器找不到 AT 计划文件，所以创建了一个计划文件。</td>
</tr>
<tr>
<td align="center">3185</td>
<td align="left"> 因为用户帐户数据库 (NET.ACC) 找不到或损坏，而且也没有可用的备份数据库，所以不能启动本地安全机制。系统不安全！</td>
</tr>
<tr>
<td align="center">3204</td>
<td align="left"> 服务器无法创建线程。CONFIG.SYS 中的 THREADS 参数必须加大。</td>
</tr>
<tr>
<td align="center">3213</td>
<td align="left"> 已经超过一个目录中文件的副本复制的限制。</td>
</tr>
<tr>
<td align="center">3214</td>
<td align="left"> 已经超过副本复制的目录树深度限制。</td>
</tr>
<tr>
<td align="center">3215</td>
<td align="left"> 邮筒中收到的消息无法识别。</td>
</tr>
<tr>
<td align="center">3217</td>
<td align="left"> 无法登录。用户当前已经登录，同时参数 TRYUSER 设置为 NO。</td>
</tr>
<tr>
<td align="center">3230</td>
<td align="left"> 检测到服务器的电源中断。</td>
</tr>
<tr>
<td align="center">3231</td>
<td align="left">UPS 服务已经关掉服务器。</td>
</tr>
<tr>
<td align="center">3232</td>
<td align="left">UPS 服务没有完成执行用户指定的关机命令文件。</td>
</tr>
<tr>
<td align="center">3233</td>
<td align="left"> 无法打开 UPS 驱动程序。错误码就是相关数据。</td>
</tr>
<tr>
<td align="center">3234</td>
<td align="left"> 电源已经恢复。</td>
</tr>
<tr>
<td align="center">3235</td>
<td align="left"> 用户指定的关机命令文件有问题。</td>
</tr>
<tr>
<td align="center">3256</td>
<td align="left"> 该服务的动态链接库发生无法修复的错误。</td>
</tr>
<tr>
<td align="center">3257</td>
<td align="left"> 系统返回意外的错误码。错误码就是相关数据。</td>
</tr>
<tr>
<td align="center">3258</td>
<td align="left"> 容错错误日志文件 - LANROOT\LOGS\FT.LOG 超过 64K。</td>
</tr>
<tr>
<td align="center">3259</td>
<td align="left"> 容错错误日志文件 - LANROOT\LOGS\FT.LOG，在被打开时就已设置更新进度位，这表示上次使用错误日志时，系统死机。</td>
</tr>
<tr>
<td align="center">3301</td>
<td align="left">RemoteIPC</td>
</tr>
<tr>
<td align="center">3302</td>
<td align="left">RemoteAdmin</td>
</tr>
<tr>
<td align="center">3303</td>
<td align="left">Logonservershare</td>
</tr>
<tr>
<td align="center">3304</td>
<td align="left"> 网络出错。</td>
</tr>
<tr>
<td align="center">3400</td>
<td align="left"> 内存不足，无法启动工作站服务。</td>
</tr>
<tr>
<td align="center">3401</td>
<td align="left"> 读取 LAMAN.INI 文件的 NETWORKS 项目出错。</td>
</tr>
<tr>
<td align="center">3404</td>
<td align="left">LAMAN.INI 文件中的 NETWORKS 项目太多。</td>
</tr>
<tr>
<td align="center">3408</td>
<td align="left"> 程序无法用在此操作系统。</td>
</tr>
<tr>
<td align="center">3409</td>
<td align="left"> 已经安装重定向程序。</td>
</tr>
<tr>
<td align="center">3411</td>
<td align="left"> 安装 NETWKSTA.SYS 时出错。请按 ENTER 继续。</td>
</tr>
<tr>
<td align="center">3412</td>
<td align="left"> 求解程序链接问题。</td>
</tr>
<tr>
<td align="center">3419</td>
<td align="left"> 您已经打开文件或设备，强制断开会造成数据丢失。</td>
</tr>
<tr>
<td align="center">3420</td>
<td align="left"> 内部用的默认共享</td>
</tr>
<tr>
<td align="center"> 3421</td>
<td align="left"> 信使服务</td>
</tr>
<tr>
<td align="center"> 3500</td>
<td align="left"> 命令成功完成。</td>
</tr>
<tr>
<td align="center">3501</td>
<td align="left"> 使用的选项无效。</td>
</tr>
<tr>
<td align="center">3503</td>
<td align="left"> 命令包含无效的参数个数。</td>
</tr>
<tr>
<td align="center">3504</td>
<td align="left"> 命令运行完毕，但发生一个或多个错误。</td>
</tr>
<tr>
<td align="center">3505</td>
<td align="left"> 使用的选项数值不正确。</td>
</tr>
<tr>
<td align="center">3510</td>
<td align="left"> 命令使用了冲突的选项。</td>
</tr>
<tr>
<td align="center">3512</td>
<td align="left"> 软件需要新版的操作系统。</td>
</tr>
<tr>
<td align="center">3513</td>
<td align="left"> 数据多于 Windows 所能够返回的。</td>
</tr>
<tr>
<td align="center">3515</td>
<td align="left"> 此命令只能用于 Windows 域控制器。</td>
</tr>
<tr>
<td align="center">3516</td>
<td align="left"> 此命令不能用于 Windows 域控制器。</td>
</tr>
<tr>
<td align="center">3520</td>
<td align="left"> 已经启动以下 Windows 服务:</td>
</tr>
<tr>
<td align="center">3525</td>
<td align="left"> 停止工作站服务也会同时停止服务器服务。</td>
</tr>
<tr>
<td align="center">3526</td>
<td align="left"> 工作站有打开的文件。</td>
</tr>
<tr>
<td align="center">3533</td>
<td align="left"> 服务正在启动或停止中，请稍候片刻后再试一次。</td>
</tr>
<tr>
<td align="center">3534</td>
<td align="left"> 服务没有报告任何错误。</td>
</tr>
<tr>
<td align="center">3535</td>
<td align="left"> 正在控制设备时出错。</td>
</tr>
<tr>
<td align="center">3660</td>
<td align="left"> 下列工作站在这台服务器上有会话:</td>
</tr>
<tr>
<td align="center">3661</td>
<td align="left"> 下列工作站在这台服务器上有会话并打开了文件:</td>
</tr>
<tr>
<td align="center">3666</td>
<td align="left"> 消息别名已经转发出去。</td>
</tr>
<tr>
<td align="center">3670</td>
<td align="left"> 您有以下的远程连接:</td>
</tr>
<tr>
<td align="center">3671</td>
<td align="left"> 继续运行会取消连接。</td>
</tr>
<tr>
<td align="center">3676</td>
<td align="left"> 会记录新的网络连接。</td>
</tr>
<tr>
<td align="center">3677</td>
<td align="left"> 不记录新的网络连接。</td>
</tr>
<tr>
<td align="center">3678</td>
<td align="left"> 保存配置文件时出错，原先记录的网络连接状态没有更改。</td>
</tr>
<tr>
<td align="center">3679</td>
<td align="left"> 读取配置文件时出错。</td>
</tr>
<tr>
<td align="center">3682</td>
<td align="left"> 没有启动任何网络服务。</td>
</tr>
<tr>
<td align="center">3683</td>
<td align="left"> 列表是空的。</td>
</tr>
<tr>
<td align="center">3689</td>
<td align="left"> 工作站服务已经在运行中，Windows 会忽略工作站的命令选项。</td>
</tr>
<tr>
<td align="center">3694</td>
<td align="left"> 在打印作业正在后台处理到队列时，无法删除共享的队列。</td>
</tr>
<tr>
<td align="center">3710</td>
<td align="left"> 打开帮助文件时出错。</td>
</tr>
<tr>
<td align="center">3711</td>
<td align="left"> 帮助文件是空的。</td>
</tr>
<tr>
<td align="center">3712</td>
<td align="left"> 帮助文件已经损坏。</td>
</tr>
<tr>
<td align="center">3714</td>
<td align="left"> 这是专为那些安装旧版软件的系统提供的操作。</td>
</tr>
<tr>
<td align="center">3716</td>
<td align="left"> 设备类型未知。</td>
</tr>
<tr>
<td align="center">3717</td>
<td align="left"> 日志文件已经损坏。</td>
</tr>
<tr>
<td align="center">3718</td>
<td align="left"> 程序文件名后必须以.EXE 结束。</td>
</tr>
<tr>
<td align="center">3719</td>
<td align="left"> 找不到匹配的共享，因此没有删除。</td>
</tr>
<tr>
<td align="center">3720</td>
<td align="left"> 用户记录中的 “单位 / 星期” 字段的值不正确。</td>
</tr>
<tr>
<td align="center">3725</td>
<td align="left"> 删除共享时出错。</td>
</tr>
<tr>
<td align="center">3726</td>
<td align="left"> 用户名无效。</td>
</tr>
<tr>
<td align="center">3727</td>
<td align="left"> 密码无效。</td>
</tr>
<tr>
<td align="center">3728</td>
<td align="left"> 密码不匹配。</td>
</tr>
<tr>
<td align="center">3729</td>
<td align="left"> 永久连接没有完全还原。</td>
</tr>
<tr>
<td align="center">3730</td>
<td align="left"> 计算机名或域名无效。</td>
</tr>
<tr>
<td align="center">3732</td>
<td align="left"> 无法设置该资源的默认权限。</td>
</tr>
<tr>
<td align="center">3734</td>
<td align="left"> 没有输入有效的密码。</td>
</tr>
<tr>
<td align="center">3735</td>
<td align="left"> 没有输入有效的名称。</td>
</tr>
<tr>
<td align="center">3736</td>
<td align="left"> 该命名资源无法共享。</td>
</tr>
<tr>
<td align="center">3737</td>
<td align="left"> 权限字符串包含无效的权限。</td>
</tr>
<tr>
<td align="center">3738</td>
<td align="left"> 您只能在打印机或通讯设备上执行这项操作。</td>
</tr>
<tr>
<td align="center">3743</td>
<td align="left"> 服务器没有配置远程管理的功能。</td>
</tr>
<tr>
<td align="center">3752</td>
<td align="left"> 这台服务器上没有用户的会话。</td>
</tr>
<tr>
<td align="center">3756</td>
<td align="left"> 响应无效。</td>
</tr>
<tr>
<td align="center">3757</td>
<td align="left"> 没有提供有效的响应。</td>
</tr>
<tr>
<td align="center">3758</td>
<td align="left"> 提供的目标列表与打印机队列目标列表不匹配。</td>
</tr>
<tr>
<td align="center">3761</td>
<td align="left"> 指定的时间范围中结束的时间比开始的时间早。</td>
</tr>
<tr>
<td align="center">3764</td>
<td align="left"> 提供的时间不是整点。</td>
</tr>
<tr>
<td align="center">3765</td>
<td align="left">12 与 24 小时格式不能混用。</td>
</tr>
<tr>
<td align="center">3767</td>
<td align="left"> 提供的日期格式无效。</td>
</tr>
<tr>
<td align="center">3768</td>
<td align="left"> 提供的日期范围无效。</td>
</tr>
<tr>
<td align="center">3769</td>
<td align="left"> 提供的时间范围无效。</td>
</tr>
<tr>
<td align="center">3770</td>
<td align="left">NETUSER 的参数无效。请检查最短的密码长度和 / 或提供参数。</td>
</tr>
<tr>
<td align="center">3771</td>
<td align="left">ENABLESCRIPT 的值必须是 YES。</td>
</tr>
<tr>
<td align="center">3773</td>
<td align="left"> 提供的国家 (地区) 代码无效。</td>
</tr>
<tr>
<td align="center">3774</td>
<td align="left"> 用户已经创建成功，但是无法添加到 USERS 本地组中。</td>
</tr>
<tr>
<td align="center">3775</td>
<td align="left"> 提供的用户上下文无效。</td>
</tr>
<tr>
<td align="center">3777</td>
<td align="left"> 文件发送功能已不再支持。</td>
</tr>
<tr>
<td align="center">3778</td>
<td align="left"> 您可能没有指定 ADMIN$ 及 IPC$ 共享的路径。</td>
</tr>
<tr>
<td align="center">3784</td>
<td align="left"> 只有磁盘共享可以标记为可以缓存。</td>
</tr>
<tr>
<td align="center">3802</td>
<td align="left"> 此计划日期无效。</td>
</tr>
<tr>
<td align="center">3803</td>
<td align="left">LANMAN 根目录不可用。</td>
</tr>
<tr>
<td align="center">3804</td>
<td align="left">SCHED.LOG 文件无法打开。</td>
</tr>
<tr>
<td align="center">3805</td>
<td align="left"> 服务器服务尚未启动。</td>
</tr>
<tr>
<td align="center">3806</td>
<td align="left">AT 作业 ID 不存在。</td>
</tr>
<tr>
<td align="center">3807</td>
<td align="left">AT 计划文件已损坏。</td>
</tr>
<tr>
<td align="center">3808</td>
<td align="left"> 因为 AT 计划文件发生问题，所以无法运行删除操作。</td>
</tr>
<tr>
<td align="center">3809</td>
<td align="left"> 命令行不得超过 259 个字符。</td>
</tr>
<tr>
<td align="center">3810</td>
<td align="left"> 因为磁盘已满，所以 AT 计划文件无法更新。</td>
</tr>
<tr>
<td align="center">3812</td>
<td align="left">AT 计划文件无效。请删除此文件并创建新的文件。</td>
</tr>
<tr>
<td align="center">3813</td>
<td align="left">AT 计划文件已经删除。</td>
</tr>
<tr>
<td align="center">3814</td>
<td align="left"> 此命令的语法是：AT [id][/DELETE] AT 时间 [/EVERY: 日期 / NEXT: 日期] 命令 AT 命令会在以后的指定日期及时间，安排程序在服务器上运行。它也会显示安排运行的程序及命令的清单。您可以将日期指定为 M、T、W、Th、F、Sa、Su 或 1-31 的格式。您可以将时间指定为 HH:3814</td>
</tr>
<tr>
<td align="center">3815</td>
<td align="left">AT 命令已经超时。请稍后再试一次。</td>
</tr>
<tr>
<td align="center">3816</td>
<td align="left"> 用户帐户的密码最短使用期限不得大于密码最长使用期限。</td>
</tr>
<tr>
<td align="center">3817</td>
<td align="left"> 指定的数值与安装下层软件的服务器不兼容。请指定较小的值。</td>
</tr>
<tr>
<td align="center">3901</td>
<td align="left"> 空</td>
</tr>
<tr>
<td align="center"> 3902</td>
<td align="left"> 意外到达消息的结尾</td>
</tr>
<tr>
<td align="center"> 3905</td>
<td align="left"> 请按 ESC 退出</td>
</tr>
<tr>
<td align="center"> 3906</td>
<td align="left"> 空</td>
</tr>
<tr>
<td align="center"> 3912</td>
<td align="left"> 找不到时间服务器。</td>
</tr>
<tr>
<td align="center">3915</td>
<td align="left"> 无法判断用户的主目录。</td>
</tr>
<tr>
<td align="center">3916</td>
<td align="left"> 没有指定用户的主目录。</td>
</tr>
<tr>
<td align="center">3920</td>
<td align="left"> 已经没有可用的驱动器号。</td>
</tr>
<tr>
<td align="center">3936</td>
<td align="left"> 这台计算机目前没有配置成使用一个指定的 SNTP 服务器。</td>
</tr>
<tr>
<td align="center">3953</td>
<td align="left"> 语法错误。</td>
</tr>
<tr>
<td align="center">3960</td>
<td align="left"> 指定的文件号码无效。</td>
</tr>
<tr>
<td align="center">3961</td>
<td align="left"> 指定的打印作业号码无效。</td>
</tr>
<tr>
<td align="center">3963</td>
<td align="left"> 指定的用户或组帐户找不到。</td>
</tr>
<tr>
<td align="center">3965</td>
<td align="left"> 已添加用户，但 NetWare 的文件和打印服务无法启用。</td>
</tr>
<tr>
<td align="center">3966</td>
<td align="left"> 没有安装 NetWare 的文件和打印服务。</td>
</tr>
<tr>
<td align="center">3967</td>
<td align="left"> 无法为 NetWare 的文件和打印服务设置用户属性。</td>
</tr>
<tr>
<td align="center">3969</td>
<td align="left">NetWare 兼容登录</td>
</tr>
<tr>
<td align="center"> 4000</td>
<td align="left">WINS 在处理命令时遇到错误。</td>
</tr>
<tr>
<td align="center">4001</td>
<td align="left"> 本地的 WINS 不能删除。</td>
</tr>
<tr>
<td align="center">4002</td>
<td align="left"> 文件导入操作失败。</td>
</tr>
<tr>
<td align="center">4003</td>
<td align="left"> 备份操作失败。是否先前已作过完整备份？</td>
</tr>
<tr>
<td align="center">4004</td>
<td align="left"> 备份操作失败。请检查您备份数据库的目录。</td>
</tr>
<tr>
<td align="center">4005</td>
<td align="left">WINS 数据库中没有这个名称。</td>
</tr>
<tr>
<td align="center">4006</td>
<td align="left"> 不允许复制一个尚未配置的伙伴。</td>
</tr>
<tr>
<td align="center">4100</td>
<td align="left">DHCP 客户端获得一个在网络上已被使用的 IP 地址。直到 DHCP 客户端可以获得新的地址前，本地接口将被禁用。</td>
</tr>
<tr>
<td align="center">4200</td>
<td align="left"> 无法识别传来的 GUID 是否为有效的 WMI 数据提供程序。</td>
</tr>
<tr>
<td align="center">4201</td>
<td align="left"> 无法识别传来的范例名是否为有效的 WMI 数据提供程序。</td>
</tr>
<tr>
<td align="center">4202</td>
<td align="left"> 无法识别传来的数据项目标识符是否为有效的 WMI 数据提供程序。</td>
</tr>
<tr>
<td align="center">4203</td>
<td align="left"> 无法完成 WMI 请求，应该重试一次。</td>
</tr>
<tr>
<td align="center">4204</td>
<td align="left"> 找不到 WMI 数据提供程序。</td>
</tr>
<tr>
<td align="center">4205</td>
<td align="left">WMI 数据提供程序引用到一个未注册的范例组。</td>
</tr>
<tr>
<td align="center">4206</td>
<td align="left">WMI 数据块或事件通知已启用。</td>
</tr>
<tr>
<td align="center">4207</td>
<td align="left">WMI 数据块不再可用。</td>
</tr>
<tr>
<td align="center">4208</td>
<td align="left">WMI 数据服务无法使用。</td>
</tr>
<tr>
<td align="center">4209</td>
<td align="left">WMI 数据提供程序无法完成要求。</td>
</tr>
<tr>
<td align="center">4210</td>
<td align="left">WMIMOF 信息无效。</td>
</tr>
<tr>
<td align="center">4211</td>
<td align="left">WMI 注册信息无效。</td>
</tr>
<tr>
<td align="center">4212</td>
<td align="left">WMI 数据块或事件通知已禁用。</td>
</tr>
<tr>
<td align="center">4213</td>
<td align="left">WMI 数据项目或数据块为只读。</td>
</tr>
<tr>
<td align="center">4214</td>
<td align="left"> 不能更改 WMI 数据项目或数据块。</td>
</tr>
<tr>
<td align="center">4300</td>
<td align="left"> 媒体标识符没有表示一个有效的媒体。</td>
</tr>
<tr>
<td align="center">4301</td>
<td align="left"> 库标识符没有表示一个有效的库。</td>
</tr>
<tr>
<td align="center">4302</td>
<td align="left"> 媒体缓冲池标识符没有表示一个有效的媒体缓冲池。</td>
</tr>
<tr>
<td align="center">4303</td>
<td align="left"> 驱动器和媒体不兼容或位于不同的库中。</td>
</tr>
<tr>
<td align="center">4304</td>
<td align="left"> 媒体目前在脱机库中，您必须联机才能运行这个操作。</td>
</tr>
<tr>
<td align="center">4305</td>
<td align="left"> 操作无法在脱机库中运行。</td>
</tr>
<tr>
<td align="center">4306</td>
<td align="left"> 库、驱动器或媒体缓冲池是空的。</td>
</tr>
<tr>
<td align="center">4307</td>
<td align="left"> 库、磁盘或媒体缓冲池必须是空的，才能运行这个操作。</td>
</tr>
<tr>
<td align="center">4308</td>
<td align="left"> 在这个媒体缓冲池或库中目前没有可用的媒体。</td>
</tr>
<tr>
<td align="center">4309</td>
<td align="left"> 这个操作所需的资源已禁用。</td>
</tr>
<tr>
<td align="center">4310</td>
<td align="left"> 媒体标识符没有表示一个有效的清洗器。</td>
</tr>
<tr>
<td align="center">4311</td>
<td align="left"> 无法清洗驱动器或不支持清洗。</td>
</tr>
<tr>
<td align="center">4312</td>
<td align="left"> 对象标识符没有表示一个有效的对象。</td>
</tr>
<tr>
<td align="center">4313</td>
<td align="left"> 无法读取或写入数据库。</td>
</tr>
<tr>
<td align="center">4314</td>
<td align="left"> 数据库已满。</td>
</tr>
<tr>
<td align="center">4315</td>
<td align="left"> 媒体与设备或媒体缓冲池不兼容。</td>
</tr>
<tr>
<td align="center">4316</td>
<td align="left"> 这个操作所需的资源不存在。</td>
</tr>
<tr>
<td align="center">4317</td>
<td align="left"> 操作标识符不正确。</td>
</tr>
<tr>
<td align="center">4318</td>
<td align="left"> 媒体未被安装，或未就绪。</td>
</tr>
<tr>
<td align="center">4319</td>
<td align="left"> 设备未就绪。</td>
</tr>
<tr>
<td align="center">4320</td>
<td align="left"> 操作员或系统管理员拒绝了请求。</td>
</tr>
<tr>
<td align="center">4321</td>
<td align="left"> 驱动器标识符不代表一个有效的驱动器。</td>
</tr>
<tr>
<td align="center">4322</td>
<td align="left"> 程序库已满。没有可使用的插槽。</td>
</tr>
<tr>
<td align="center">4323</td>
<td align="left"> 传输程序不能访问媒体。</td>
</tr>
<tr>
<td align="center">4324</td>
<td align="left"> 无法将媒体加载到驱动器中。</td>
</tr>
<tr>
<td align="center">4325</td>
<td align="left"> 无法检索有关驱动器的状态。</td>
</tr>
<tr>
<td align="center">4326</td>
<td align="left"> 无法检索有关插槽的状态。</td>
</tr>
<tr>
<td align="center">4327</td>
<td align="left"> 无法检索传输的状态。</td>
</tr>
<tr>
<td align="center">4328</td>
<td align="left"> 因为传输已在使用中，所以无法使用。</td>
</tr>
<tr>
<td align="center">4329</td>
<td align="left"> 无法打开或关闭弹入 / 弹出端口。</td>
</tr>
<tr>
<td align="center">4330</td>
<td align="left"> 因为媒体在驱动器中，无法将其弹出。</td>
</tr>
<tr>
<td align="center">4331</td>
<td align="left"> 清洗器插槽已被保留。</td>
</tr>
<tr>
<td align="center">4332</td>
<td align="left"> 没有保留清洗器插槽。</td>
</tr>
<tr>
<td align="center">4333</td>
<td align="left"> 清洗器墨盒已进行了最大次数的驱动器清洗。</td>
</tr>
<tr>
<td align="center">4334</td>
<td align="left"> 意外媒体标识号。</td>
</tr>
<tr>
<td align="center">4335</td>
<td align="left"> 在这个组或源中最后剩下的项目不能被删除。</td>
</tr>
<tr>
<td align="center">4336</td>
<td align="left"> 提供的消息超过了这个参数所允许的最大尺寸。</td>
</tr>
<tr>
<td align="center">4337</td>
<td align="left"> 该卷含有系统和页面文件。</td>
</tr>
<tr>
<td align="center">4338</td>
<td align="left"> 由于库中至少有一个驱动器可以支持该媒体类型，不能从库中删除媒体类型。</td>
</tr>
<tr>
<td align="center">4339</td>
<td align="left"> 由于没有可以使用的已被启动的驱动器，无法将该脱机媒体装入这个系统。</td>
</tr>
<tr>
<td align="center">4340</td>
<td align="left"> 清洗磁带在磁带库中。</td>
</tr>
<tr>
<td align="center">4341</td>
<td align="left">(Y/N)[N]</td>
</tr>
<tr>
<td align="center">4342</td>
<td align="left"> 错误</td>
</tr>
<tr>
<td align="center"> 4343</td>
<td align="left">OK</td>
</tr>
<tr>
<td align="center">4344</td>
<td align="left">Y</td>
</tr>
<tr>
<td align="center">4345</td>
<td align="left">N</td>
</tr>
<tr>
<td align="center">4346</td>
<td align="left"> 任何</td>
</tr>
<tr>
<td align="center"> 4347</td>
<td align="left">A</td>
</tr>
<tr>
<td align="center">4348</td>
<td align="left">P</td>
</tr>
<tr>
<td align="center">4349</td>
<td align="left">(找不到)</td>
</tr>
<tr>
<td align="center">4350</td>
<td align="left"> 远程存储服务无法撤回文件。</td>
</tr>
<tr>
<td align="center">4351</td>
<td align="left"> 远程存储服务此时不可操作。</td>
</tr>
<tr>
<td align="center">4352</td>
<td align="left"> 远程存储服务遇到一个媒体错误。</td>
</tr>
<tr>
<td align="center">4354</td>
<td align="left"> 请键入密码:</td>
</tr>
<tr>
<td align="center">4358</td>
<td align="left"> 请键入用户的密码:</td>
</tr>
<tr>
<td align="center">4359</td>
<td align="left"> 请键入共享资源的密码:</td>
</tr>
<tr>
<td align="center">4360</td>
<td align="left"> 请键入您的密码:</td>
</tr>
<tr>
<td align="center">4361</td>
<td align="left"> 请再键入一次密码以便确认:</td>
</tr>
<tr>
<td align="center">4362</td>
<td align="left"> 请键入用户的旧密码:</td>
</tr>
<tr>
<td align="center">4363</td>
<td align="left"> 请键入用户的新密码:</td>
</tr>
<tr>
<td align="center">4364</td>
<td align="left"> 请键入您的新密码:</td>
</tr>
<tr>
<td align="center">4365</td>
<td align="left"> 请键入复制程序服务密码:</td>
</tr>
<tr>
<td align="center">4368</td>
<td align="left"> 请键入您的用户名:</td>
</tr>
<tr>
<td align="center">4372</td>
<td align="left"> 打印作业详细信息</td>
</tr>
<tr>
<td align="center"> 4378</td>
<td align="left"> 控制下列正在运行的服务:</td>
</tr>
<tr>
<td align="center">4379</td>
<td align="left"> 统计数据可用于下列正在运行的服务:</td>
</tr>
<tr>
<td align="center">4381</td>
<td align="left"> 此命令的语法是:</td>
</tr>
<tr>
<td align="center">4382</td>
<td align="left"> 此命令的选项是:</td>
</tr>
<tr>
<td align="center">4383</td>
<td align="left"> 请键入主域控制器的名称:</td>
</tr>
<tr>
<td align="center">4385</td>
<td align="left">Sunday</td>
</tr>
<tr>
<td align="center">4386</td>
<td align="left">Monday</td>
</tr>
<tr>
<td align="center">4387</td>
<td align="left">Tuesday</td>
</tr>
<tr>
<td align="center">4388</td>
<td align="left">Wednesday</td>
</tr>
<tr>
<td align="center">4389</td>
<td align="left">Thursday</td>
</tr>
<tr>
<td align="center">4390</td>
<td align="left"> 此文件或目录不是一个重解析点。</td>
</tr>
<tr>
<td align="center">4391</td>
<td align="left"> 重解析点的属性不能被设置，因为它与已有的属性冲突。</td>
</tr>
<tr>
<td align="center">4392</td>
<td align="left"> 在重解析点缓冲区中的数据无效。</td>
</tr>
<tr>
<td align="center">4393</td>
<td align="left"> 在重解析点缓冲区中的标签无效。</td>
</tr>
<tr>
<td align="center">4394</td>
<td align="left"> 请求中指定的标签和重解析点中的不匹配。</td>
</tr>
<tr>
<td align="center">4395</td>
<td align="left">W</td>
</tr>
<tr>
<td align="center">4396</td>
<td align="left">Th</td>
</tr>
<tr>
<td align="center">4397</td>
<td align="left">F</td>
</tr>
<tr>
<td align="center">4398</td>
<td align="left">S</td>
</tr>
<tr>
<td align="center">4399</td>
<td align="left">Sa</td>
</tr>
<tr>
<td align="center">4401</td>
<td align="left"> 组名</td>
</tr>
<tr>
<td align="center"> 4402</td>
<td align="left"> 注释</td>
</tr>
<tr>
<td align="center"> 4403</td>
<td align="left"> 成员</td>
</tr>
<tr>
<td align="center"> 4406</td>
<td align="left"> 别名</td>
</tr>
<tr>
<td align="center"> 4407</td>
<td align="left"> 注释</td>
</tr>
<tr>
<td align="center"> 4408</td>
<td align="left"> 成员</td>
</tr>
<tr>
<td align="center"> 4411</td>
<td align="left"> 用户名</td>
</tr>
<tr>
<td align="center"> 4412</td>
<td align="left"> 全名</td>
</tr>
<tr>
<td align="center"> 4413</td>
<td align="left"> 注释</td>
</tr>
<tr>
<td align="center"> 4414</td>
<td align="left"> 用户的注释</td>
</tr>
<tr>
<td align="center"> 4415</td>
<td align="left"> 参数</td>
</tr>
<tr>
<td align="center"> 4416</td>
<td align="left"> 国家 (地区) 代码</td>
</tr>
<tr>
<td align="center"> 4417</td>
<td align="left"> 权限等级</td>
</tr>
<tr>
<td align="center"> 4418</td>
<td align="left"> 操作员权限</td>
</tr>
<tr>
<td align="center"> 4419</td>
<td align="left"> 帐户启用</td>
</tr>
<tr>
<td align="center"> 4420</td>
<td align="left"> 帐户到期</td>
</tr>
<tr>
<td align="center"> 4421</td>
<td align="left"> 上次设置密码</td>
</tr>
<tr>
<td align="center"> 4422</td>
<td align="left"> 密码到期</td>
</tr>
<tr>
<td align="center"> 4423</td>
<td align="left"> 密码可更改</td>
</tr>
<tr>
<td align="center"> 4424</td>
<td align="left"> 允许的工作站</td>
</tr>
<tr>
<td align="center"> 4425</td>
<td align="left"> 磁盘空间上限</td>
</tr>
<tr>
<td align="center"> 4426</td>
<td align="left"> 无限制</td>
</tr>
<tr>
<td align="center"> 4427</td>
<td align="left"> 本地组成员</td>
</tr>
<tr>
<td align="center"> 4428</td>
<td align="left"> 域控制器</td>
</tr>
<tr>
<td align="center"> 4429</td>
<td align="left"> 登录脚本</td>
</tr>
<tr>
<td align="center"> 4430</td>
<td align="left"> 上次登录</td>
</tr>
<tr>
<td align="center"> 4431</td>
<td align="left"> 全局组成员</td>
</tr>
<tr>
<td align="center"> 4432</td>
<td align="left"> 可允许的登录小时数</td>
</tr>
<tr>
<td align="center"> 4433</td>
<td align="left"> 全部</td>
</tr>
<tr>
<td align="center"> 4434</td>
<td align="left"> 无</td>
</tr>
<tr>
<td align="center"> 4436</td>
<td align="left"> 主目录</td>
</tr>
<tr>
<td align="center"> 4437</td>
<td align="left"> 需要密码</td>
</tr>
<tr>
<td align="center"> 4438</td>
<td align="left"> 用户可以更改密码</td>
</tr>
<tr>
<td align="center"> 4439</td>
<td align="left"> 用户配置文件</td>
</tr>
<tr>
<td align="center"> 4440</td>
<td align="left"> 已锁定</td>
</tr>
<tr>
<td align="center"> 4450</td>
<td align="left"> 计算机名</td>
</tr>
<tr>
<td align="center"> 4451</td>
<td align="left"> 用户名</td>
</tr>
<tr>
<td align="center"> 4452</td>
<td align="left"> 软件版本</td>
</tr>
<tr>
<td align="center"> 4453</td>
<td align="left"> 工作站正运行于</td>
</tr>
<tr>
<td align="center"> 4454</td>
<td align="left">WindowsNT 根目录</td>
</tr>
<tr>
<td align="center"> 4455</td>
<td align="left"> 工作站域</td>
</tr>
<tr>
<td align="center"> 4456</td>
<td align="left"> 登录域</td>
</tr>
<tr>
<td align="center"> 4457</td>
<td align="left"> 其它域</td>
</tr>
<tr>
<td align="center"> 4458</td>
<td align="left">COM 打开超时 (秒)</td>
</tr>
<tr>
<td align="center">4459</td>
<td align="left">COM 发送计数 (字节)</td>
</tr>
<tr>
<td align="center">4460</td>
<td align="left">COM 发送超时 (毫秒)</td>
</tr>
<tr>
<td align="center">4461</td>
<td align="left">DOS 会话打印超时 (秒)</td>
</tr>
<tr>
<td align="center">4462</td>
<td align="left"> 错误日志文件大小上限 (K)</td>
</tr>
<tr>
<td align="center">4463</td>
<td align="left"> 高速缓存上限 (K)</td>
</tr>
<tr>
<td align="center">4464</td>
<td align="left"> 网络缓冲区数</td>
</tr>
<tr>
<td align="center"> 4465</td>
<td align="left"> 字符缓冲区数</td>
</tr>
<tr>
<td align="center"> 4466</td>
<td align="left"> 域缓冲区大小</td>
</tr>
<tr>
<td align="center"> 4467</td>
<td align="left"> 字符缓冲区大小</td>
</tr>
<tr>
<td align="center"> 4468</td>
<td align="left"> 计算机全名</td>
</tr>
<tr>
<td align="center"> 4469</td>
<td align="left"> 工作站域 DNS 名称</td>
</tr>
<tr>
<td align="center"> 4470</td>
<td align="left">Windows2002</td>
</tr>
<tr>
<td align="center">4481</td>
<td align="left"> 服务器名称</td>
</tr>
<tr>
<td align="center"> 4482</td>
<td align="left"> 服务器注释</td>
</tr>
<tr>
<td align="center"> 4483</td>
<td align="left"> 发送管理警报到</td>
</tr>
<tr>
<td align="center"> 4484</td>
<td align="left"> 软件版本</td>
</tr>
<tr>
<td align="center"> 4485</td>
<td align="left"> 对等服务器</td>
</tr>
<tr>
<td align="center"> 4486</td>
<td align="left">WindowsNT</td>
</tr>
<tr>
<td align="center">4487</td>
<td align="left"> 服务器等级</td>
</tr>
<tr>
<td align="center"> 4488</td>
<td align="left">WindowsNTServer</td>
</tr>
<tr>
<td align="center">4489</td>
<td align="left"> 服务器正运行于</td>
</tr>
<tr>
<td align="center"> 4492</td>
<td align="left"> 服务器已隐藏</td>
</tr>
<tr>
<td align="center"> 4500</td>
<td align="left"> 零备份存储在这个卷上不可用。</td>
</tr>
<tr>
<td align="center">4506</td>
<td align="left"> 登录的用户数量上限</td>
</tr>
<tr>
<td align="center"> 4507</td>
<td align="left"> 同时可并存的管理员数量上限</td>
</tr>
<tr>
<td align="center"> 4508</td>
<td align="left"> 共享的资源数量上限</td>
</tr>
<tr>
<td align="center"> 4509</td>
<td align="left"> 资源连接数量上限</td>
</tr>
<tr>
<td align="center"> 4510</td>
<td align="left"> 服务器打开的文件数量上限</td>
</tr>
<tr>
<td align="center"> 4511</td>
<td align="left"> 每个会话打开的文件数量上限</td>
</tr>
<tr>
<td align="center"> 4512</td>
<td align="left"> 文件锁定数量上限</td>
</tr>
<tr>
<td align="center"> 4520</td>
<td align="left"> 空闲的会话时间 (分)</td>
</tr>
<tr>
<td align="center">4526</td>
<td align="left"> 共享等级</td>
</tr>
<tr>
<td align="center"> 4527</td>
<td align="left"> 用户等级</td>
</tr>
<tr>
<td align="center"> 4530</td>
<td align="left"> 未限制的服务器</td>
</tr>
<tr>
<td align="center"> 4570</td>
<td align="left"> 强制用户在时间到期之后多久必须注销？:</td>
</tr>
<tr>
<td align="center">4571</td>
<td align="left"> 多少次密码不正确后锁住帐户？:</td>
</tr>
<tr>
<td align="center">4572</td>
<td align="left"> 密码最短使用期限 (天):</td>
</tr>
<tr>
<td align="center">4573</td>
<td align="left"> 密码最长使用期限 (天):</td>
</tr>
<tr>
<td align="center">4574</td>
<td align="left"> 密码长度下限:</td>
</tr>
<tr>
<td align="center">4575</td>
<td align="left"> 保持的密码历史记录长度:</td>
</tr>
<tr>
<td align="center">4576</td>
<td align="left"> 计算机角色:</td>
</tr>
<tr>
<td align="center">4577</td>
<td align="left"> 工作站域的主域控制器:</td>
</tr>
<tr>
<td align="center">4578</td>
<td align="left"> 锁定阈值:</td>
</tr>
<tr>
<td align="center">4579</td>
<td align="left"> 锁定持续时间 (分):</td>
</tr>
<tr>
<td align="center">4580</td>
<td align="left"> 锁定观测窗口 (分):</td>
</tr>
<tr>
<td align="center">4600</td>
<td align="left"> 统计开始于</td>
</tr>
<tr>
<td align="center"> 4601</td>
<td align="left"> 接受的会话</td>
</tr>
<tr>
<td align="center"> 4602</td>
<td align="left"> 会话超时</td>
</tr>
<tr>
<td align="center"> 4603</td>
<td align="left"> 会话出错</td>
</tr>
<tr>
<td align="center"> 4604</td>
<td align="left"> 发送的 KB</td>
</tr>
<tr>
<td align="center">4605</td>
<td align="left"> 接收的 KB</td>
</tr>
<tr>
<td align="center">4606</td>
<td align="left"> 平均响应时间 (毫秒)</td>
</tr>
<tr>
<td align="center">4607</td>
<td align="left"> 网络错误</td>
</tr>
<tr>
<td align="center"> 4608</td>
<td align="left"> 访问的文件</td>
</tr>
<tr>
<td align="center"> 4609</td>
<td align="left"> 后台处理的打印作业</td>
</tr>
<tr>
<td align="center"> 4610</td>
<td align="left"> 系统出错</td>
</tr>
<tr>
<td align="center"> 4611</td>
<td align="left"> 密码违规</td>
</tr>
<tr>
<td align="center"> 4612</td>
<td align="left"> 权限违规</td>
</tr>
<tr>
<td align="center"> 4613</td>
<td align="left"> 访问的通讯设备</td>
</tr>
<tr>
<td align="center"> 4614</td>
<td align="left"> 启动的会话</td>
</tr>
<tr>
<td align="center"> 4615</td>
<td align="left"> 重新连接的会话</td>
</tr>
<tr>
<td align="center"> 4616</td>
<td align="left"> 启动失败的会话</td>
</tr>
<tr>
<td align="center"> 4617</td>
<td align="left"> 断开的会话</td>
</tr>
<tr>
<td align="center"> 4618</td>
<td align="left"> 网络 I/O 执行</td>
</tr>
<tr>
<td align="center"> 4619</td>
<td align="left"> 访问的文件及管道</td>
</tr>
<tr>
<td align="center"> 4620</td>
<td align="left"> 耗尽的时间缓冲区</td>
</tr>
<tr>
<td align="center"> 4621</td>
<td align="left"> 大缓冲区</td>
</tr>
<tr>
<td align="center"> 4622</td>
<td align="left"> 请求缓冲区</td>
</tr>
<tr>
<td align="center"> 4626</td>
<td align="left"> 已做连接</td>
</tr>
<tr>
<td align="center"> 4627</td>
<td align="left"> 失败的连接</td>
</tr>
<tr>
<td align="center"> 4630</td>
<td align="left"> 接收的字节数</td>
</tr>
<tr>
<td align="center"> 4631</td>
<td align="left"> 接收的服务器消息块 (SMB)</td>
</tr>
<tr>
<td align="center">4632</td>
<td align="left"> 传输的字节数</td>
</tr>
<tr>
<td align="center"> 4633</td>
<td align="left"> 传输的服务器消息块 (SMB)</td>
</tr>
<tr>
<td align="center">4634</td>
<td align="left"> 读取操作</td>
</tr>
<tr>
<td align="center"> 4635</td>
<td align="left"> 写入操作</td>
</tr>
<tr>
<td align="center"> 4636</td>
<td align="left"> 拒绝原始读取</td>
</tr>
<tr>
<td align="center"> 4637</td>
<td align="left"> 拒绝原始写入</td>
</tr>
<tr>
<td align="center"> 4638</td>
<td align="left"> 网络错误</td>
</tr>
<tr>
<td align="center"> 4639</td>
<td align="left"> 已做连接</td>
</tr>
<tr>
<td align="center"> 4640</td>
<td align="left"> 重新连接</td>
</tr>
<tr>
<td align="center"> 4641</td>
<td align="left"> 服务器断开</td>
</tr>
<tr>
<td align="center"> 4642</td>
<td align="left"> 已启动的会话</td>
</tr>
<tr>
<td align="center"> 4643</td>
<td align="left"> 会话挂起</td>
</tr>
<tr>
<td align="center"> 4644</td>
<td align="left"> 失败的会话</td>
</tr>
<tr>
<td align="center"> 4645</td>
<td align="left"> 失败的操作</td>
</tr>
<tr>
<td align="center"> 4646</td>
<td align="left"> 使用计数</td>
</tr>
<tr>
<td align="center"> 4647</td>
<td align="left"> 使用计数失败</td>
</tr>
<tr>
<td align="center"> 4655</td>
<td align="left"> 消息名称转发已经取消。</td>
</tr>
<tr>
<td align="center">4661</td>
<td align="left"> 密码已经更改成功。</td>
</tr>
<tr>
<td align="center">4664</td>
<td align="left"> 消息已经发给网络上所有的用户。</td>
</tr>
<tr>
<td align="center">4666</td>
<td align="left"> 消息已经送到服务器上的所有用户。</td>
</tr>
<tr>
<td align="center">4696</td>
<td align="left">WindowsNTServer</td>
</tr>
<tr>
<td align="center">4697</td>
<td align="left">WindowsNTWorkstation</td>
</tr>
<tr>
<td align="center">4698</td>
<td align="left">MS-DOS 增强型工作站</td>
</tr>
<tr>
<td align="center"> 4700</td>
<td align="left"> 服务器名称注释</td>
</tr>
<tr>
<td align="center"> 4702</td>
<td align="left">(UNC)</td>
</tr>
<tr>
<td align="center">4703</td>
<td align="left">…</td>
</tr>
<tr>
<td align="center">4704</td>
<td align="left">Domain</td>
</tr>
<tr>
<td align="center">4706</td>
<td align="left"> 无效的网络提供程序。可用的网络为:</td>
</tr>
<tr>
<td align="center">4710</td>
<td align="left">Disk</td>
</tr>
<tr>
<td align="center">4711</td>
<td align="left">Print</td>
</tr>
<tr>
<td align="center">4712</td>
<td align="left">Comm</td>
</tr>
<tr>
<td align="center">4713</td>
<td align="left">IPC</td>
</tr>
<tr>
<td align="center">4714</td>
<td align="left"> 状态本地远程网络</td>
</tr>
<tr>
<td align="center"> 4715</td>
<td align="left">OK</td>
</tr>
<tr>
<td align="center">4716</td>
<td align="left"> 休止</td>
</tr>
<tr>
<td align="center"> 4717</td>
<td align="left"> 已暂停</td>
</tr>
<tr>
<td align="center"> 4718</td>
<td align="left"> 已断开</td>
</tr>
<tr>
<td align="center"> 4719</td>
<td align="left"> 错误</td>
</tr>
<tr>
<td align="center"> 4720</td>
<td align="left"> 正在连接</td>
</tr>
<tr>
<td align="center"> 4721</td>
<td align="left"> 正在重新连接</td>
</tr>
<tr>
<td align="center"> 4722</td>
<td align="left"> 状态</td>
</tr>
<tr>
<td align="center"> 4723</td>
<td align="left"> 本地名称</td>
</tr>
<tr>
<td align="center"> 4724</td>
<td align="left"> 远程名称</td>
</tr>
<tr>
<td align="center"> 4725</td>
<td align="left"> 资源类型</td>
</tr>
<tr>
<td align="center"> 4726</td>
<td align="left">#打开</td>
</tr>
<tr>
<td align="center"> 4727</td>
<td align="left">#连接</td>
</tr>
<tr>
<td align="center"> 4728</td>
<td align="left"> 不可用</td>
</tr>
<tr>
<td align="center"> 4730</td>
<td align="left"> 共享名资源注释</td>
</tr>
<tr>
<td align="center"> 4731</td>
<td align="left"> 共享名</td>
</tr>
<tr>
<td align="center"> 4732</td>
<td align="left"> 资源</td>
</tr>
<tr>
<td align="center"> 4733</td>
<td align="left"> 后台处理</td>
</tr>
<tr>
<td align="center"> 4734</td>
<td align="left"> 权限</td>
</tr>
<tr>
<td align="center"> 4735</td>
<td align="left"> 用户上限</td>
</tr>
<tr>
<td align="center"> 4736</td>
<td align="left"> 无限制</td>
</tr>
<tr>
<td align="center"> 4737</td>
<td align="left"> 用户</td>
</tr>
<tr>
<td align="center"> 4739</td>
<td align="left"> 正在缓存</td>
</tr>
<tr>
<td align="center"> 4740</td>
<td align="left">ID 路径用户名 #锁定</td>
</tr>
<tr>
<td align="center"> 4741</td>
<td align="left"> 文件 ID</td>
</tr>
<tr>
<td align="center">4742</td>
<td align="left"> 锁定</td>
</tr>
<tr>
<td align="center"> 4743</td>
<td align="left"> 权限</td>
</tr>
<tr>
<td align="center"> 4744</td>
<td align="left"> 共享名</td>
</tr>
<tr>
<td align="center"> 4745</td>
<td align="left"> 类型</td>
</tr>
<tr>
<td align="center"> 4746</td>
<td align="left"> 使用为</td>
</tr>
<tr>
<td align="center"> 4747</td>
<td align="left"> 注释</td>
</tr>
<tr>
<td align="center"> 4750</td>
<td align="left"> 计算机用户名客户类型打开空闲时间</td>
</tr>
<tr>
<td align="center"> 4751</td>
<td align="left"> 计算机</td>
</tr>
<tr>
<td align="center"> 4752</td>
<td align="left"> 会话时间</td>
</tr>
<tr>
<td align="center"> 4753</td>
<td align="left"> 空闲时间</td>
</tr>
<tr>
<td align="center"> 4754</td>
<td align="left"> 资源共享名类型 #打开</td>
</tr>
<tr>
<td align="center"> 4755</td>
<td align="left"> 客户类型</td>
</tr>
<tr>
<td align="center"> 4756</td>
<td align="left"> 来宾登录</td>
</tr>
<tr>
<td align="center"> 4770</td>
<td align="left"> 手动缓存文档</td>
</tr>
<tr>
<td align="center"> 4771</td>
<td align="left"> 自动缓存文档</td>
</tr>
<tr>
<td align="center"> 4772</td>
<td align="left"> 自动缓存程序文档</td>
</tr>
<tr>
<td align="center"> 4773</td>
<td align="left"> 缓存被停用</td>
</tr>
<tr>
<td align="center"> 4774</td>
<td align="left"> 自动</td>
</tr>
<tr>
<td align="center"> 4775</td>
<td align="left"> 手动</td>
</tr>
<tr>
<td align="center"> 4776</td>
<td align="left"> 文档</td>
</tr>
<tr>
<td align="center"> 4777</td>
<td align="left"> 程序</td>
</tr>
<tr>
<td align="center"> 4778</td>
<td align="left"> 无</td>
</tr>
<tr>
<td align="center"> 4800</td>
<td align="left"> 名称</td>
</tr>
<tr>
<td align="center"> 4801</td>
<td align="left"> 转发到</td>
</tr>
<tr>
<td align="center"> 4802</td>
<td align="left"> 已经从下列位置转发给您</td>
</tr>
<tr>
<td align="center"> 4803</td>
<td align="left"> 这台服务器的用户</td>
</tr>
<tr>
<td align="center"> 4804</td>
<td align="left"> 用户已经按 Ctrl+Break 中断 NetSend。</td>
</tr>
<tr>
<td align="center">4810</td>
<td align="left"> 名称作业编号大小状态</td>
</tr>
<tr>
<td align="center"> 4811</td>
<td align="left"> 作业</td>
</tr>
<tr>
<td align="center"> 4812</td>
<td align="left"> 打印</td>
</tr>
<tr>
<td align="center"> 4813</td>
<td align="left"> 名称</td>
</tr>
<tr>
<td align="center"> 4814</td>
<td align="left"> 作业#</td>
</tr>
<tr>
<td align="center">4815</td>
<td align="left"> 大小</td>
</tr>
<tr>
<td align="center"> 4816</td>
<td align="left"> 状态</td>
</tr>
<tr>
<td align="center"> 4817</td>
<td align="left"> 分隔文件</td>
</tr>
<tr>
<td align="center"> 4818</td>
<td align="left"> 注释</td>
</tr>
<tr>
<td align="center"> 4819</td>
<td align="left"> 优先顺序</td>
</tr>
<tr>
<td align="center"> 4820</td>
<td align="left"> 打印后于</td>
</tr>
<tr>
<td align="center"> 4821</td>
<td align="left"> 打印直到</td>
</tr>
<tr>
<td align="center"> 4822</td>
<td align="left"> 打印处理程序</td>
</tr>
<tr>
<td align="center"> 4823</td>
<td align="left"> 附加信息</td>
</tr>
<tr>
<td align="center"> 4824</td>
<td align="left"> 参数</td>
</tr>
<tr>
<td align="center"> 4825</td>
<td align="left"> 打印设备</td>
</tr>
<tr>
<td align="center"> 4826</td>
<td align="left"> 打印机活动中</td>
</tr>
<tr>
<td align="center"> 4827</td>
<td align="left"> 打印机搁置</td>
</tr>
<tr>
<td align="center"> 4828</td>
<td align="left"> 打印机出错</td>
</tr>
<tr>
<td align="center"> 4829</td>
<td align="left"> 正在删除打印机</td>
</tr>
<tr>
<td align="center"> 4830</td>
<td align="left"> 打印机状态未知</td>
</tr>
<tr>
<td align="center"> 4841</td>
<td align="left"> 作业#</td>
</tr>
<tr>
<td align="center">4842</td>
<td align="left"> 正在提交用户</td>
</tr>
<tr>
<td align="center"> 4843</td>
<td align="left"> 通知</td>
</tr>
<tr>
<td align="center"> 4844</td>
<td align="left"> 作业数据类型</td>
</tr>
<tr>
<td align="center"> 4845</td>
<td align="left"> 作业参数</td>
</tr>
<tr>
<td align="center"> 4846</td>
<td align="left"> 正在等候</td>
</tr>
<tr>
<td align="center"> 4847</td>
<td align="left"> 搁置于队列</td>
</tr>
<tr>
<td align="center"> 4848</td>
<td align="left"> 正在后台处理</td>
</tr>
<tr>
<td align="center"> 4849</td>
<td align="left"> 已暂停</td>
</tr>
<tr>
<td align="center"> 4850</td>
<td align="left"> 脱机</td>
</tr>
<tr>
<td align="center"> 4851</td>
<td align="left"> 错误</td>
</tr>
<tr>
<td align="center"> 4852</td>
<td align="left"> 缺纸</td>
</tr>
<tr>
<td align="center"> 4853</td>
<td align="left"> 需要干预</td>
</tr>
<tr>
<td align="center"> 4854</td>
<td align="left"> 正在打印</td>
</tr>
<tr>
<td align="center"> 4855</td>
<td align="left">on</td>
</tr>
<tr>
<td align="center">4862</td>
<td align="left"> 驱动程序</td>
</tr>
<tr>
<td align="center"> 4930</td>
<td align="left"> 用户名类型日期</td>
</tr>
<tr>
<td align="center"> 4931</td>
<td align="left"> 锁定</td>
</tr>
<tr>
<td align="center"> 4932</td>
<td align="left"> 服务</td>
</tr>
<tr>
<td align="center"> 4933</td>
<td align="left"> 服务器</td>
</tr>
<tr>
<td align="center"> 4934</td>
<td align="left"> 服务器已启动</td>
</tr>
<tr>
<td align="center"> 4935</td>
<td align="left"> 服务器已暂停</td>
</tr>
<tr>
<td align="center"> 4936</td>
<td align="left"> 服务器已继续操作</td>
</tr>
<tr>
<td align="center"> 4937</td>
<td align="left"> 服务器已停止</td>
</tr>
<tr>
<td align="center"> 4938</td>
<td align="left"> 会话</td>
</tr>
<tr>
<td align="center"> 4939</td>
<td align="left"> 登录来宾</td>
</tr>
<tr>
<td align="center"> 4940</td>
<td align="left"> 登录用户</td>
</tr>
<tr>
<td align="center"> 4941</td>
<td align="left"> 登录管理员</td>
</tr>
<tr>
<td align="center"> 4942</td>
<td align="left"> 正常注销</td>
</tr>
<tr>
<td align="center"> 4943</td>
<td align="left"> 登录</td>
</tr>
<tr>
<td align="center"> 4944</td>
<td align="left"> 注销错误</td>
</tr>
<tr>
<td align="center"> 4945</td>
<td align="left"> 注销自动断开</td>
</tr>
<tr>
<td align="center"> 4946</td>
<td align="left"> 注销管理员断开</td>
</tr>
<tr>
<td align="center"> 4947</td>
<td align="left"> 注销受登录限制</td>
</tr>
<tr>
<td align="center"> 4948</td>
<td align="left"> 服务</td>
</tr>
<tr>
<td align="center"> 4957</td>
<td align="left"> 帐户</td>
</tr>
<tr>
<td align="center"> 4964</td>
<td align="left"> 已修改帐户系统设置</td>
</tr>
<tr>
<td align="center"> 4965</td>
<td align="left"> 登录限制</td>
</tr>
<tr>
<td align="center"> 4966</td>
<td align="left"> 超过限制：未知</td>
</tr>
<tr>
<td align="center"> 4967</td>
<td align="left"> 超过限制：登录时间</td>
</tr>
<tr>
<td align="center"> 4968</td>
<td align="left"> 超过限制：帐户过期</td>
</tr>
<tr>
<td align="center"> 4969</td>
<td align="left"> 超过限制：工作站 ID 无效</td>
</tr>
<tr>
<td align="center"> 4970</td>
<td align="left"> 超过限制：帐户停用</td>
</tr>
<tr>
<td align="center"> 4971</td>
<td align="left"> 超过限制：帐户已删除</td>
</tr>
<tr>
<td align="center"> 4972</td>
<td align="left"> 资源</td>
</tr>
<tr>
<td align="center"> 4978</td>
<td align="left"> 密码不正确</td>
</tr>
<tr>
<td align="center"> 4979</td>
<td align="left"> 需要管理员特权</td>
</tr>
<tr>
<td align="center"> 4980</td>
<td align="left"> 访问</td>
</tr>
<tr>
<td align="center"> 4984</td>
<td align="left"> 拒绝访问</td>
</tr>
<tr>
<td align="center"> 4985</td>
<td align="left"> 未知</td>
</tr>
<tr>
<td align="center"> 4986</td>
<td align="left"> 其它</td>
</tr>
<tr>
<td align="center"> 4987</td>
<td align="left"> 持续时间:</td>
</tr>
<tr>
<td align="center">4988</td>
<td align="left"> 持续时间：不可用</td>
</tr>
<tr>
<td align="center"> 4989</td>
<td align="left"> 持续时间：1 秒以下</td>
</tr>
<tr>
<td align="center"> 4990</td>
<td align="left">(无)</td>
</tr>
<tr>
<td align="center">4994</td>
<td align="left"> 访问结束</td>
</tr>
<tr>
<td align="center"> 4995</td>
<td align="left"> 登录到网络</td>
</tr>
<tr>
<td align="center"> 4996</td>
<td align="left"> 拒绝登录</td>
</tr>
<tr>
<td align="center"> 4997</td>
<td align="left"> 程序消息时间</td>
</tr>
<tr>
<td align="center"> 4999</td>
<td align="left"> 管理员已解除帐户的锁定状态</td>
</tr>
<tr>
<td align="center"> 5000</td>
<td align="left"> 注销网络</td>
</tr>
<tr>
<td align="center"> 5001</td>
<td align="left"> 因为其他资源需要它，不能将群集资源移到另一个组。</td>
</tr>
<tr>
<td align="center">5002</td>
<td align="left"> 找不到此群集资源的依存。</td>
</tr>
<tr>
<td align="center">5003</td>
<td align="left"> 因为已经处于依存状态，此群集资源不能依存于指定的资源。</td>
</tr>
<tr>
<td align="center">5004</td>
<td align="left"> 此群集资源未联机。</td>
</tr>
<tr>
<td align="center">5005</td>
<td align="left"> 此操作没有可用的群集节点。</td>
</tr>
<tr>
<td align="center">5006</td>
<td align="left"> 没有群集资源。</td>
</tr>
<tr>
<td align="center">5007</td>
<td align="left"> 找不到群集资源。</td>
</tr>
<tr>
<td align="center">5008</td>
<td align="left"> 正在关闭群集。</td>
</tr>
<tr>
<td align="center">5009</td>
<td align="left"> 除非节点处于关闭状态或是最后一个节点，群集节点无法从群集中脱离。</td>
</tr>
<tr>
<td align="center">5010</td>
<td align="left"> 对象已存在。</td>
</tr>
<tr>
<td align="center">5011</td>
<td align="left"> 此对象已在列表中。</td>
</tr>
<tr>
<td align="center">5012</td>
<td align="left"> 新请求没有可用的群集组。</td>
</tr>
<tr>
<td align="center">5013</td>
<td align="left"> 找不到群集组。</td>
</tr>
<tr>
<td align="center">5014</td>
<td align="left"> 因为群集组未联机，此操作不能完成。</td>
</tr>
<tr>
<td align="center">5015</td>
<td align="left"> 群集节点不是此资源的所有者。</td>
</tr>
<tr>
<td align="center">5016</td>
<td align="left"> 群集节点不是此资源的所有者。</td>
</tr>
<tr>
<td align="center">5017</td>
<td align="left"> 群集资源不能在指定的资源监视器中创建。</td>
</tr>
<tr>
<td align="center">5018</td>
<td align="left"> 群集资源不能通过资源监视器来联机。</td>
</tr>
<tr>
<td align="center">5019</td>
<td align="left"> 因为群集资源联机，此操作不能完成。</td>
</tr>
<tr>
<td align="center">5020</td>
<td align="left"> 由于是仲裁资源，群集资源不能被删除或脱机。</td>
</tr>
<tr>
<td align="center">5021</td>
<td align="left"> 由于没有能力成为仲裁资源，此群集不能使指定资源成为仲裁资源。</td>
</tr>
<tr>
<td align="center">5022</td>
<td align="left"> 群集软件正关闭。</td>
</tr>
<tr>
<td align="center">5023</td>
<td align="left"> 组或资源的状态不是执行请求操作的正确状态。</td>
</tr>
<tr>
<td align="center">5024</td>
<td align="left"> 属性已被存储，但在下次资源联机前，不是所有的修改将生效。</td>
</tr>
<tr>
<td align="center">5025</td>
<td align="left"> 由于不属于共享存储类别，群集不能使指定资源成为仲裁资源。</td>
</tr>
<tr>
<td align="center">5026</td>
<td align="left"> 由于是内核资源，无法删除群集资源。</td>
</tr>
<tr>
<td align="center">5027</td>
<td align="left"> 仲裁资源联机失败。</td>
</tr>
<tr>
<td align="center">5028</td>
<td align="left"> 无法成功创建或装入仲裁日志。</td>
</tr>
<tr>
<td align="center">5029</td>
<td align="left"> 群集日志损坏。</td>
</tr>
<tr>
<td align="center">5030</td>
<td align="left"> 由于该日志已超出最大限量，无法将记录写入群集日志。</td>
</tr>
<tr>
<td align="center">5031</td>
<td align="left"> 群集日志已超出最大限量。</td>
</tr>
<tr>
<td align="center">5032</td>
<td align="left"> 群集日志没有发现检查点记录。</td>
</tr>
<tr>
<td align="center">5033</td>
<td align="left"> 不满足日志所需的最小磁盘空间。</td>
</tr>
<tr>
<td align="center">5034</td>
<td align="left"> 群集节点未能控制仲裁资源，因为它被另一个活动节点拥有。</td>
</tr>
<tr>
<td align="center">5035</td>
<td align="left"> 这个操作的群集网络无效。</td>
</tr>
<tr>
<td align="center">5036</td>
<td align="left"> 此操作没有可用的群集节点。</td>
</tr>
<tr>
<td align="center">5037</td>
<td align="left"> 所有群集节点都必须运行才能执行这个操作。</td>
</tr>
<tr>
<td align="center">5038</td>
<td align="left"> 群集资源失败。</td>
</tr>
<tr>
<td align="center">5039</td>
<td align="left"> 该群集节点无效。</td>
</tr>
<tr>
<td align="center">5040</td>
<td align="left"> 该群集节点已经存在。</td>
</tr>
<tr>
<td align="center">5041</td>
<td align="left"> 一个节点正在加入该群集。</td>
</tr>
<tr>
<td align="center">5042</td>
<td align="left"> 找不到群集节点。</td>
</tr>
<tr>
<td align="center">5043</td>
<td align="left"> 找不到群集本地节点信息。</td>
</tr>
<tr>
<td align="center">5044</td>
<td align="left"> 群集网络已经存在。</td>
</tr>
<tr>
<td align="center">5045</td>
<td align="left"> 找不到群集网络。</td>
</tr>
<tr>
<td align="center">5046</td>
<td align="left"> 群集网络接口已经存在。</td>
</tr>
<tr>
<td align="center">5047</td>
<td align="left"> 找不到群集网络接口。</td>
</tr>
<tr>
<td align="center">5048</td>
<td align="left"> 群集请求在这个对象中无效。</td>
</tr>
<tr>
<td align="center">5049</td>
<td align="left"> 群集网络提供程序无效。</td>
</tr>
<tr>
<td align="center">5050</td>
<td align="left"> 群集节点坏了。</td>
</tr>
<tr>
<td align="center">5051</td>
<td align="left"> 无法连接到群集节点。</td>
</tr>
<tr>
<td align="center">5052</td>
<td align="left"> 该群集节点不是群集的一个成员。</td>
</tr>
<tr>
<td align="center">5053</td>
<td align="left"> 目前没有执行群集加入操作。</td>
</tr>
<tr>
<td align="center">5054</td>
<td align="left"> 该群集网络无效。</td>
</tr>
<tr>
<td align="center">5055</td>
<td align="left">Mar</td>
</tr>
<tr>
<td align="center">5056</td>
<td align="left"> 该群集节点可以使用。</td>
</tr>
<tr>
<td align="center">5057</td>
<td align="left"> 该群集 IP 地址已在使用中。</td>
</tr>
<tr>
<td align="center">5058</td>
<td align="left"> 该群集节点没有中止。</td>
</tr>
<tr>
<td align="center">5059</td>
<td align="left"> 没有有效的群集安全上下文。</td>
</tr>
<tr>
<td align="center">5060</td>
<td align="left"> 该群集网络不是为内部群集通讯配置的。</td>
</tr>
<tr>
<td align="center">5061</td>
<td align="left"> 群集节点已经开始。</td>
</tr>
<tr>
<td align="center">5062</td>
<td align="left"> 群集节点已经坏了。</td>
</tr>
<tr>
<td align="center">5063</td>
<td align="left"> 群集网络已经联机。</td>
</tr>
<tr>
<td align="center">5064</td>
<td align="left"> 群集网络已经脱机。</td>
</tr>
<tr>
<td align="center">5065</td>
<td align="left"> 群集节点已经是该群集的成员。</td>
</tr>
<tr>
<td align="center">5066</td>
<td align="left"> 该群集网络是为两个或更多活动群集节点进行内部群集通讯的唯一配置。不能从网络上删除内部通讯能力。</td>
</tr>
<tr>
<td align="center">5067</td>
<td align="left"> 一个或更多的群集资源依靠网络来向客户端提供服务。不能从网络上删除客户端访问能力。</td>
</tr>
<tr>
<td align="center">5068</td>
<td align="left"> 该操作不能在群集资源上作为仲裁资源执行。您不能将仲裁资源脱机或修改它的所有者名单。</td>
</tr>
<tr>
<td align="center">5069</td>
<td align="left"> 该群集仲裁资源不允许有任何依存关系。</td>
</tr>
<tr>
<td align="center">5070</td>
<td align="left"> 该群集节点暂停。</td>
</tr>
<tr>
<td align="center">5071</td>
<td align="left"> 群集资源不能联机。所有者节点不能在这个资源上运行。</td>
</tr>
<tr>
<td align="center">5072</td>
<td align="left"> 群集节点没有准备好，不能执行所请求的操作。</td>
</tr>
<tr>
<td align="center">5073</td>
<td align="left"> 群集节点</td>
</tr>
</tbody></table>
<p>结果</p>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>windows</tag>
      </tags>
  </entry>
  <entry>
    <title>小米路由 R1D 发挥余热，刷 TOMATO 固件并开启软件中心</title>
    <url>/2020/02/06/%E5%B0%8F%E7%B1%B3%E8%B7%AF%E7%94%B1R1D%E5%8F%91%E6%8C%A5%E4%BD%99%E7%83%AD%EF%BC%8C%E5%9B%BA%E4%BB%B6%E5%88%B7TOMATO%E5%B9%B6%E5%BC%80%E5%90%AF%E8%BD%AF%E4%BB%B6%E4%B8%AD%E5%BF%83/</url>
    <content><![CDATA[<p>先来 2 张效果图：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_r1d_001.jpg"><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_r1d_002.jpg"></p>
<h5 id="楔子"><a href="#楔子" class="headerlink" title="楔子"></a>楔子</h5><p>原来家里很早以前买的一个小米 R1D 路由，因为后面玩软路由了，就闲置在家里了。最近有需要就又把他拿起来发挥点余热，不过用了几天感觉小米的系统太难用了。所以动手把路由固件改造刷新一下。做个笔记，下面是改造步骤:</p>
<h4 id="小米路由刷TOMATO系统"><a href="#小米路由刷TOMATO系统" class="headerlink" title="小米路由刷TOMATO系统"></a>小米路由刷 TOMATO 系统</h4><h5 id="1-小米路由R1D开启SSH。"><a href="#1-小米路由R1D开启SSH。" class="headerlink" title="1. 小米路由R1D开启SSH。"></a>1. 小米路由 R1D 开启 SSH。</h5><p>先将小米路由器刷成开发版。然后使用官方的 SSH 工具，在 <a href="http://d.miwifi.com/rom/ssh">http://d.miwifi.com/rom/ssh</a> 上开启 SSH 功能，下载 SSH 工具包，将 ssh_rom.bin 文件拷贝到 U 盘，然后长按 RESET 键进入 U 盘恢复模式。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_r1d_003.jpg"></p>
<h5 id="2-下载刷机工具包及固件。"><a href="#2-下载刷机工具包及固件。" class="headerlink" title="2. 下载刷机工具包及固件。"></a>2. 下载刷机工具包及固件。</h5><p>刷机包工具地址<br>链接: <a href="https://pan.baidu.com/s/1Si54WbEGaJRFmfjVFC0doQ">https://pan.baidu.com/s/1Si54WbEGaJRFmfjVFC0doQ</a> 提取码: qkq4</p>
<p>TOMATO 固件下载服务器地址<br><a href="http://firmware.koolshare.cn/Koolshare_tomato-arm_firmware/">http://firmware.koolshare.cn/Koolshare_tomato-arm_firmware/</a><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_r1d_004.jpg"><br>可自行选择当前最新版本下载。</p>
<p>2020/2/6 最新 TOMATO 固件下载地址：<br><a href="http://firmware.koolshare.cn/Koolshare_tomato-arm_firmware/X1.4/tomato-R1D-KoolShare-AT-ARM-3.4-140-X1.4-Custom-64K.trx">http://firmware.koolshare.cn/Koolshare_tomato-arm_firmware/X1.4/tomato-R1D-KoolShare-AT-ARM-3.4-140-X1.4-Custom-64K.trx</a></p>
<h5 id="3-前期准备工作"><a href="#3-前期准备工作" class="headerlink" title="3.前期准备工作"></a>3. 前期准备工作</h5><p>由于小米路由器引导和 tomato 不同，需要修改 cfe.bin 并且稍后更换。两步走，一是打开小米路由器管理后台，按截图记下你小米路由器的 MAC 。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_r1d_005.jpg"></p>
<p>用工具包的 cfe 编辑器，打开 cfe_stock.bin 文件，按下面截图提示修改并且保存 cfe.bin 文件备用<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_r1d_006.jpg"><br>把修改后的 cef.bin 文件以及工具包里的 backup.sh、flash-cfe.sh 共 3 個文件放到 U 盘中，插入小米路由器 USB 待用。</p>
<h5 id="4-开始刷机"><a href="#4-开始刷机" class="headerlink" title="4.开始刷机"></a>4. 开始刷机</h5><ol>
<li><p>用 Xshell 4 或者 putty.exe 之类打开 SSH 操作。进入 U 盘。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">cd /extdisks/sdb1  </span><br></pre></td></tr></tbody></table></figure>
<p>这个 U 盘位置各人可能不同，自己修正。</p>
</li>
<li><p>原有小米路由器备份。这一步非常重要。因为我们刷机第三方系统，今后要恢复原系统要靠这些备份。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">./backup.sh</span><br></pre></td></tr></tbody></table></figure>
<p>约半分钟左右，备份完毕。</p>
</li>
<li><p>更换 cfe.bin。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">./flash-cfe.sh</span><br></pre></td></tr></tbody></table></figure>
<p>几秒钟后 cfe，更换完成，拿下 U 盘，备份妥善保存。</p>
</li>
<li><p>确认刷机后门打开。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">nvram set boot_wait=on &amp;&amp; nvram set wait_time=10 &amp;&amp; nvram commit &amp;&amp; nvram show |grep wait</span><br></pre></td></tr></tbody></table></figure>
<p>屏幕上有<br>boot_wait=on<br>wait_time=12<br>显示为成功。</p>
</li>
<li><p>把本地 IP 设置成 <code>192.168.1.2</code><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_r1d_007.jpg"></p>
</li>
<li><p>小米路由器 lan 口用网线和电脑连接，路由器拔下电源重启，指示灯转黄灯，稍等一会用网页打开 <code>192.168.1.1</code>. 会有以下显示:<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_r1d_008.jpg"></p>
</li>
</ol>
<p>按选择文件找到你下载的 <code>tomato</code> 固件，再按上传 （Upload）注意左下角有正在上传文件的百分比。</p>
<ol start="7">
<li>等待固件安装和重启，需要时间较长，等 3-5 分钟或者更长时间，到黄灯转蓝灯即成功。这里如果重启不能显示 cfe 刷机服务标志，又或者上传不能开始，上传时间过长（超过 1 分钟），上传中途中断等，不用灰心。黄灯不可怕，可能是缓存问题，只需要拔下电源，长按 <code>reset键</code>再插电 30 秒以上。重新操作直到黄灯转蓝灯，最后在网页输入 <code>192.168.1.1</code>，会弹出要求的登录名和密码框框，同样都输入 <code>admin</code> 即可进入 tomato 设置。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_r1d_009.jpg"><br>到此 TOMATO 固件就已经刷完了，但是还没有软件中心功能。</li>
</ol>
<h4 id="TOMATO固件安装部署软件中心"><a href="#TOMATO固件安装部署软件中心" class="headerlink" title="TOMATO固件安装部署软件中心"></a>TOMATO 固件安装部署软件中心</h4><h5 id="1-挂载硬盘到TOMATO"><a href="#1-挂载硬盘到TOMATO" class="headerlink" title="1. 挂载硬盘到TOMATO."></a>1. 挂载硬盘到 TOMATO.</h5><p>ssh 登陆 192.168.1.1, 检查硬盘挂载情况。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">df -h</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_r1d_010.jpg"><br>我的硬盘识别出来是 <code>sda1</code>, 所以按下面的命令建立一个 <code>jffs</code> 目录。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">mkdir /mnt/sda1/jffs</span><br></pre></td></tr></tbody></table></figure>
<p>接着把这个目录挂载到路由器的 <code>/jffs</code> 目录上。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">mount -o bind /mnt/sda1/jffs /jffs</span><br></pre></td></tr></tbody></table></figure>

<h5 id="2-软件中心安装"><a href="#2-软件中心安装" class="headerlink" title="2. 软件中心安装"></a>2. 软件中心安装</h5><p>输入以下命令来进行软件中心的安装：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">eval `/usr/bin/wget -q -O - https://ttsoft.ngrok.wang/softcenter/ttsoft`</span><br></pre></td></tr></tbody></table></figure>
<p>安装完后，重新登陆 <code>192.168.1.1</code> 就可以看到软件中心了。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_r1d_002.jpg"></p>
<h5 id="3-TOMATO开机启动设置"><a href="#3-TOMATO开机启动设置" class="headerlink" title="3. TOMATO开机启动设置"></a>3. TOMATO 开机启动设置</h5><p>软件中心安装完成后，需要做一些启动设置，不然重启路由后，软件中心就会没有了。<br>进入<code>系统管理</code> -&gt; <code>脚本</code> -&gt; <code>初始化脚本</code> , 添加下面这段代码。（挂载的硬盘路径，自己根据情况修改）</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">mount -o bind /mnt/sda1/jffs /jffs</span><br><span class="line">/jffs/koolshare/bin/kscore.sh</span><br><span class="line">/jffs/koolshare/bin/ks-wan-start.sh</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_r1d_011.jpg"></p>
<p>以上设置完成后，建议重启一下路由器看看软件中心是否能正常访问和运行。</p>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
  </entry>
  <entry>
    <title>grafana 展示 zabbix 数据中的变量引用</title>
    <url>/2020/01/21/grafana%E5%B1%95%E7%A4%BAzabbix%E6%95%B0%E6%8D%AE%E4%B8%AD%E7%9A%84%E5%8F%98%E9%87%8F%E5%BC%95%E7%94%A8/</url>
    <content><![CDATA[<p>Variables 变量提供了用户和面板交互，并动态刷新面板的功能。不需要硬编码，不需要每次都修改 SQL 查询语句。变量的下拉菜单显示在面板的顶部，这样改变下拉菜单的值，即可改变变量的值，而且所有使用该变量的仪表板都会随着变量的改变而改变。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_grafana_1.jpg"></p>
<h4 id="变量（Variables）的定义："><a href="#变量（Variables）的定义：" class="headerlink" title="变量（Variables）的定义："></a>变量（Variables）的定义：</h4><p>在 Dashboard 的设置中定义的变量，可以作为该 dashboard 的全局变量使用，如下图所示<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_grafana_2.jpg"></p>
<h5 id="列表显示分组"><a href="#列表显示分组" class="headerlink" title="列表显示分组"></a>列表显示分组</h5><p>1. 在 General 输入变量名 <code>group</code>,Label 设置成<code>系统</code><br>2. 数据源选择为 “zabbix”，refresh 选择”On Dashboard Load”,Query 里输入 <code>*</code><br>3.Multi-value 为是否为多选项，Include All option 为是否有全选选项。自己根据情况选择。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_grafana_3.jpg"><br>保存后，就可以看到面板中多了一个<code>系统</code>的可选择项，显示 zabbix 里的所有分组。</p>
<h5 id="列表显示主机"><a href="#列表显示主机" class="headerlink" title="列表显示主机"></a>列表显示主机</h5><p>1. 在 General 输入变量名 <code>host</code>,Label 设置成<code>主机</code><br>2. 数据源选择为 “zabbix”，refresh 选择”On Dashboard Load”,Query 里输入 <code>{$group}{*}</code><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_grafana_4.jpg"><br>保存后，就可以看到面板中多了一个<code>主机</code>的可选择项，显示当前分组的所有主机。</p>
<h5 id="列表显示应用集"><a href="#列表显示应用集" class="headerlink" title="列表显示应用集"></a>列表显示应用集</h5><p>1. 在 General 输入变量名 <code>app</code>,Label 设置成<code>应用集</code><br>2. 数据源选择为 “zabbix”，refresh 选择”On Dashboard Load”,Query 里输入 <code>{$group}{$host}{*}</code><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_grafana_5.jpg"><br>保存后，就可以看到面板中多了一个<code>应用集</code>的可选择项。</p>
<h5 id="列表显示监控项"><a href="#列表显示监控项" class="headerlink" title="列表显示监控项"></a>列表显示监控项</h5><p>1. 在 General 输入变量名 <code>item</code>,Label 设置成<code>监控项</code><br>2. 数据源选择为 “zabbix”，refresh 选择”On Dashboard Load”,Query 里输入 <code>{$group}{$host}{app}{*}</code><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_grafana_6.jpg"><br>保存后，就可以看到面板中多了一个<code>监控项</code>的可选择项。</p>
<h4 id="变量（Variables）的使用。"><a href="#变量（Variables）的使用。" class="headerlink" title="变量（Variables）的使用。"></a>变量（Variables）的使用。</h4><p>在新建展示项里，将 Group 的值设为 <code>$group</code>,Host 的值设为 <code>$host</code>,Application 的值设为 <code>$app</code>,Item 的值设为 <code>$item</code><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_grafana_7.jpg"><br>接下来就是正常配置 grafana 的显示效果。</p>
<h4 id="效果展示"><a href="#效果展示" class="headerlink" title="效果展示"></a>效果展示</h4><p>下面是一张我配置的比较简单的 cpu、内存、网络流量及硬盘使用率的展示表。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_grafana_8.jpg"></p>
]]></content>
      <tags>
        <tag>zabbix</tag>
      </tags>
  </entry>
  <entry>
    <title>ROS 内网回流设置，通过域名访问内网服务</title>
    <url>/2020/01/12/ROS%E5%86%85%E7%BD%91%E5%9B%9E%E6%B5%81%E8%AE%BE%E7%BD%AE%EF%BC%8C%E9%80%9A%E8%BF%87%E5%9F%9F%E5%90%8D%E8%AE%BF%E9%97%AE%E5%86%85%E7%BD%91%E6%9C%8D%E5%8A%A1/</url>
    <content><![CDATA[<p>网上有很多关于 ROS，怎么设置回流的文章。很多都用不了，无法实现回流的功能。所以自己动手，写一篇关于 ROS 回流的设置方法。算是自己 2020 年开年的一篇博文吧。</p>
<h4 id="回流是什么？"><a href="#回流是什么？" class="headerlink" title="回流是什么？"></a>回流是什么？</h4><p>所谓的回流，就是在内部环境里用外部环境的方式来访问指定的内部服务器。</p>
<h4 id="为什么要回流？"><a href="#为什么要回流？" class="headerlink" title="为什么要回流？"></a>为什么要回流？</h4><p>通常企业内部会有很多服务器需要互联网用户访问，这时就需要做 Dst-Nat. 但是我们配置完后会发现内网用户不能通过公网 IP 访问对应的服务器。其实这时我们再添加一条策略即可搞定.</p>
<h4 id="举例说明："><a href="#举例说明：" class="headerlink" title="举例说明："></a>举例说明：</h4><p>内网服务器：192.168.0.100<br>路由器 LAN 口：192.168.0.1<br>公网 IP：202.101.XXX.XXX</p>
<p>外网访问 IP 假设为 1.1.1.1    内网访问的 PC 假设 IP 为 192.168.0.11</p>
<p>配置 NAT:<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROS_fanliu01.jpg"><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROS_fanliu02.jpg"></p>
<p>配置完后，外网可以正常访问了。但是内网通过公网 IP 不可访问.\</p>
<p>究其原因:</p>
<p> 外网访问流程: </p>
<ol>
<li>soureIP 1.1.1.1   destinationIP 202.101.xxx.xxx</li>
<li>soureIP 1.1.1.1  destinationIP 192.168.0.100 (dst-nat 后)</li>
<li>soureIP 192.168.0.100     destinationIP  1.1.1.1</li>
<li>soureIP 202.101.xxx.xxx     destinationIP  1.1.1.1 (src-nat 后)</li>
</ol>
<p>这时，第一步骤和第四步骤请求和响应一致，因此没有任何问题.</p>
<p>但是当内网通过公网 IP 访问内网服务器时:</p>
<ol>
<li>soureIP 192.168.0.11   destinationIP 202.101.xxx.xxx</li>
<li>soureIP 192.168.0.11   destinationIP 192.168.0.100 (dst-nat 后)</li>
<li><font color="red">soureIP 192.168.0.100   destinationIP  192.168.0.11</font></li>
</ol>
<p>在第三 步骤中，因为服务器和访问的 PC 是在一个子网网络，因此服务器响应包直接响应给客户 PC。</p>
<p>但是由于 PC 请求包的目的地址是  202.101.xxx.xxx ，而响应包确是 192.168.0.11，所以 PC 会回决绝掉响应。 因此造成不能访问的现象。</p>
<h4 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h4><p>在防火墙添 NAT 链中加一条如下策略，即可解决问题</p>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROS_fanliu03.jpg"><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROS_fanliu04.jpg"></p>
<p>添加之后内网的访问流程如下:</p>
<ol>
<li>soureIP 192.168.0.11  destinationIP 202.101.xxx.xxx </li>
<li>soureIP 192.168.0.1  destinationIP 192.168.0.100</li>
<li>soureIP 192.168.0.100   destinationIP 192.168.0.1 </li>
<li>soureIP 202.101.xxx.xxx destinationIP 192.168.0.11</li>
</ol>
<p>详情请参考: <a href="http://wiki.mikrotik.com/wiki/Hairpin_NAT">http://wiki.mikrotik.com/wiki/Hairpin_NAT</a></p>
]]></content>
  </entry>
  <entry>
    <title>重置 VCSA 6.5 的 SSO Administrator 密码</title>
    <url>/2019/11/15/%E9%87%8D%E7%BD%AEVCSA-6-5%E7%9A%84SSO-Administrator%E5%AF%86%E7%A0%81/</url>
    <content><![CDATA[<p>记一次忘记 VCSA 的 SSO 密码，重置密码的方法及步骤：</p>
<h4 id="首先得打开VCSA的SSH登陆权限。"><a href="#首先得打开VCSA的SSH登陆权限。" class="headerlink" title="首先得打开VCSA的SSH登陆权限。"></a>首先得打开 VCSA 的 SSH 登陆权限。</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_VCSA_RESET_1.jpg"><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_VCSA_RESET_2.jpg"></p>
<h4 id="SSH登录到VCSA的命令行界面，输入“shell”命令激活bash-shell。"><a href="#SSH登录到VCSA的命令行界面，输入“shell”命令激活bash-shell。" class="headerlink" title="SSH登录到VCSA的命令行界面，输入“shell”命令激活bash shell。"></a>SSH 登录到 VCSA 的命令行界面，输入 “shell” 命令激活 bash shell。</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_VCSA_RESET_3.jpg"></p>
<h4 id="运行下面的命令确认Domain的名字。"><a href="#运行下面的命令确认Domain的名字。" class="headerlink" title="运行下面的命令确认Domain的名字。"></a>运行下面的命令确认 Domain 的名字。</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">/usr/lib/vmware-vmafd/bin/vmafd-cli get-domain-name --server-name localhost</span><br></pre></td></tr></tbody></table></figure>
<p> <img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_VCSA_RESET_4.jpg"></p>
<h4 id="得到了缺省的SSO-Domain讯息后，执行如下命令启动vdcadmintool命令准备恢复密码"><a href="#得到了缺省的SSO-Domain讯息后，执行如下命令启动vdcadmintool命令准备恢复密码" class="headerlink" title="得到了缺省的SSO Domain讯息后，执行如下命令启动vdcadmintool命令准备恢复密码"></a>得到了缺省的 SSO Domain 讯息后，执行如下命令启动 vdcadmintool 命令准备恢复密码</h4> <figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">/usr/lib/vmware-vmdir/bin/vdcadmintool</span><br></pre></td></tr></tbody></table></figure>

<p> 如下图所示：</p>
<p> <img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_VCSA_RESET_5.jpg"></p>
<p> 在这个菜单里输入 “3”，重置 Account password，然后输入要重置的帐号”<a href="mailto:administrator@vsphere.local">administrator@vsphere.local</a>“, 之后可以看到系统生成了新的密码。记录下这个密码，登陆到 web client 里修改即可。</p>
]]></content>
      <tags>
        <tag>vmware</tag>
      </tags>
  </entry>
  <entry>
    <title>一行代码测试 DNS 响应速度</title>
    <url>/2019/08/23/%E4%B8%80%E8%A1%8C%E4%BB%A3%E7%A0%81%E6%B5%8B%E8%AF%95DNS%E5%93%8D%E5%BA%94%E9%80%9F%E5%BA%A6/</url>
    <content><![CDATA[<p>好久没有更新博客了，今天更新一篇如何利用 dig 命令来测试 DNS 响应速度。具体代码见下面</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">yum install bind-utils  #centos&amp;redhat</span><br><span class="line">apt install dnsutils   #debian&amp;unbuntu</span><br><span class="line">for ((i=1;i&lt;=15;i++));do (time dig @223.6.6.6 www.baidu.com) 2&gt;&amp;1 | grep real | cut  -dm -f 2 | sed s/[s.]//g;done</span><br></pre></td></tr></tbody></table></figure>
<p>将 223.6.6.6 改为你要测试的 DNS，<code>www.baidu.com</code> 改为你要测试的网址。响应值越低越好。</p>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_DNStest.jpg"></p>
<p>通过上图明显能看出来，218.85.152.99 的 DNS，比 223.6.6.6 的 DNS 要快！</p>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
  </entry>
  <entry>
    <title>Linux 密码忘记后，重置密码的方法</title>
    <url>/2019/07/30/Linux%E5%AF%86%E7%A0%81%E5%BF%98%E8%AE%B0%E5%90%8E%EF%BC%8C%E9%87%8D%E7%BD%AE%E5%AF%86%E7%A0%81%E7%9A%84%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<h3 id="Centos-Redhat重置方法"><a href="#Centos-Redhat重置方法" class="headerlink" title="Centos&amp;Redhat重置方法"></a>Centos&amp;Redhat 重置方法</h3><p>首先进入开启菜单，按下 e 键进入编辑现有的内核，如下图所示 </p>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_linx_reset_passwd1.gif"><br>然后滚动列表，找到 ro，将它替换成 rw，并加上 init=/sysroot/bin/sh，最终变为如下图<br> <br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_linx_reset_passwd2.gif"></p>
<p>然后按 CTRL+X 进入到单用户模式，在这个模式下，就可以更换密码<br>先运行 chroot /sysroot </p>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_linx_reset_passwd3.gif"><br> <br>最后运行 passwd root 就可以设置新的密码<br>设置完密码之后，运行 touch /.autorelabel 更新 SELinux 的参数<br>之后重启就行了 </p>
<h3 id="Debian-ubuntu重置方法"><a href="#Debian-ubuntu重置方法" class="headerlink" title="Debian&amp;ubuntu重置方法"></a>Debian&amp;ubuntu 重置方法</h3><p>在 debian 或者 ubuntu 启动的时候，界面如下，同样是按下 E 键。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_linx_reset_passwd4.jpg"></p>
<p>按下 E 键以后，进入了如下界面，这个界面可以看到了， 和 redhat/CentOS 等系统不一样，这个是因为 grub 版本不一样，debian ubuntu 等系统使用的是 grub2，界面如下图。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_linx_reset_passwd5.jpg"><br>在这个界面呢，使用方向键，移动到下面，有一行 linux 开头的那一行，移动到最后面，把 <code>ro quiet</code> 改成如下语句：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">rw quiet init=/bin/bash</span><br></pre></td></tr></tbody></table></figure>

<p>如下图所示：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_linx_reset_passwd6.jpg"><br>这个时候，按 Ctrl + X 启动系统。</p>
<p>启动后的情况如下图，这个时候，可以看到已经进入了一个 shell，使用 passwd 命令，即可以重置密码了。重置后重启系统。</p>
]]></content>
  </entry>
  <entry>
    <title>python 获得视频的播放时长</title>
    <url>/2019/07/19/python%E8%8E%B7%E5%BE%97%E8%A7%86%E9%A2%91%E7%9A%84%E6%92%AD%E6%94%BE%E6%97%B6%E9%95%BF/</url>
    <content><![CDATA[<p>没什么好说的，直接上原代码！</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">#!/usr/bin/env python</span><br><span class="line"># coding=utf-8</span><br><span class="line">import os</span><br><span class="line">import sys</span><br><span class="line">def getLength(input_video):</span><br><span class="line">    cmd = 'ffprobe -i %s -show_entries format=duration -v quiet -of csv="p=0"' % input_video</span><br><span class="line">    output =os.popen(cmd,'r')</span><br><span class="line">    output = output.read()</span><br><span class="line">    output = float(output)/60</span><br><span class="line">    return output</span><br><span class="line">print getLength(sys.argv[1])</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux 之间的免密登陆</title>
    <url>/2019/07/06/Linux%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%8D%E5%AF%86%E7%99%BB%E9%99%86/</url>
    <content><![CDATA[<h3 id="方法和原理"><a href="#方法和原理" class="headerlink" title="方法和原理"></a>方法和原理</h3><p>使用 ssh-keygen 在 ServerA 上生成 private 和 public 密钥，将生成的 public 密钥拷贝到远程机器 ServerB 上后，就可以使用 ssh 命令无需密码登录到另外一台机器 ServerB 上。</p>
<p>在 linux 系统中，ssh 是远程登录的默认工具，因为该工具的协议使用了 RSA/DSA 的加密算法【默认是 DSR 算法】，该工具做 linux 系统的远程管理是非常安全的。</p>
<p>这里只给出最简单的实现方法，有兴趣的同学可以自己百度一下 ssh-keygen。</p>
<h3 id="具体方法"><a href="#具体方法" class="headerlink" title="具体方法"></a>具体方法</h3><h4 id="创建本地private和public密钥"><a href="#创建本地private和public密钥" class="headerlink" title="创建本地private和public密钥"></a>创建本地 private 和 public 密钥</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">echo -e "\n" | ssh-keygen -t rsa -P ""</span><br></pre></td></tr></tbody></table></figure>


<h4 id="将public密钥复制到远程Linux主机"><a href="#将public密钥复制到远程Linux主机" class="headerlink" title="将public密钥复制到远程Linux主机"></a>将 public 密钥复制到远程 Linux 主机</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">ssh-copy-id -i ~/.ssh/id_rsa.pub root@192.168.xxx.xxx</span><br></pre></td></tr></tbody></table></figure>

<p>这样就大功告成了！</p>
<h4 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">ssh root@192.168.xxx.xxx</span><br></pre></td></tr></tbody></table></figure>

<p>你就不用输入密码，直接 ssh 登陆到另一台 linux 上了。</p>
<h4 id="设置-ssh目录权限"><a href="#设置-ssh目录权限" class="headerlink" title="设置.ssh目录权限"></a>设置.ssh 目录权限</h4><p>为了 ssh 目录安全，建议修改一下.ssh 目录的权限。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">chmod 700 -R ~/.ssh</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Docker 的安装方法</title>
    <url>/2019/06/22/%E5%90%84%E7%B3%BB%E7%BB%9F%E4%B8%8BDocker%E7%9A%84%E5%AE%89%E8%A3%85%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<h3 id="Ubuntu-Debian-Docker-安装"><a href="#Ubuntu-Debian-Docker-安装" class="headerlink" title="Ubuntu/Debian Docker 安装"></a>Ubuntu/Debian Docker 安装</h3><p>Ubuntu Docker 安装<br>Docker 支持以下的 Ubuntu 版本：</p>
<p>Ubuntu Precise 12.04 (LTS)</p>
<ul>
<li><p>Ubuntu Trusty 14.04 (LTS)</p>
</li>
<li><p>Ubuntu Wily 15.10</p>
</li>
<li><p>Xenial 16.04 (LTS)</p>
</li>
<li><p>其他更新的版本……<br> 如果安装 Docker ce 需要 16.04 及以上版本，安装步骤可以查看笔记部分：</p>
</li>
<li><p>Cosmic 18.10</p>
</li>
<li><p>Bionic 18.04 (LTS)</p>
</li>
<li><p>Xenial 16.04 (LTS)</p>
</li>
</ul>
<h4 id="前提条件"><a href="#前提条件" class="headerlink" title="前提条件"></a>前提条件</h4><p>Docker 要求 Ubuntu 系统的内核版本高于 3.10 ，查看本页面的前提条件来验证你的 Ubuntu 版本是否支持 Docker。</p>
<p>通过 uname -r 命令查看你当前的内核版本</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">uname -r</span><br></pre></td></tr></tbody></table></figure>
<h4 id="使用脚本安装Docker"><a href="#使用脚本安装Docker" class="headerlink" title="使用脚本安装Docker"></a>使用脚本安装 Docker</h4><p>1. 获取最新版本的 Docker 安装包</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">wget -qO- https://get.docker.com/ | sh</span><br></pre></td></tr></tbody></table></figure>
<p>2. 启动 docker 后台服务</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">service docker start</span><br></pre></td></tr></tbody></table></figure>
<p>3. 测试运行 hello-world</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker run hello-world</span><br></pre></td></tr></tbody></table></figure>

<h4 id="手工安装"><a href="#手工安装" class="headerlink" title="手工安装"></a>手工安装</h4><p>安装一些必备软件包，这些软件包允许通过 HTTPS 使用软件包</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">apt install apt-transport-https ca-certificates curl gnupg2 software-properties-common</span><br></pre></td></tr></tbody></table></figure>

<p>将官方 Docker 存储库的 GPG 密钥添加到系统</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">curl -fsSL https://download.docker.com/linux/debian/gpg | apt-key add -</span><br></pre></td></tr></tbody></table></figure>

<p>将 Docker 存储库添加到 APT 源</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/debian $(lsb_release -cs) stable"</span><br></pre></td></tr></tbody></table></figure>
<p>使用新添加的 repo 中的 Docker 包更新包数据库</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">apt update</span><br></pre></td></tr></tbody></table></figure>
<p>最后，安装 Docker</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">apt install docker-ce</span><br></pre></td></tr></tbody></table></figure>

<p>镜像加速<br>鉴于国内网络问题，后续拉取 Docker 镜像十分缓慢，我们可以需要配置加速器来解决，我使用的是网易的镜像地址：<a href="http://hub-mirror.c.163.com./">http://hub-mirror.c.163.com。</a><br>新版的 Docker 使用 /etc/docker/daemon.json（Linux） 或者 % programdata%\docker\config\daemon.json（Windows）来配置 Daemon。</p>
<p>请在该配置文件中加入（没有该文件的话，请先建一个）：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">{</span><br><span class="line">      "registry-mirrors": ["http://hub-mirror.c.163.com"]</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="Centos-Docker安装"><a href="#Centos-Docker安装" class="headerlink" title="Centos Docker安装"></a>Centos Docker 安装</h3><p>CentOS Docker 安装<br>Docker 支持以下的 CentOS 版本：</p>
<ul>
<li>CentOS 7 (64-bit)</li>
<li>CentOS 6.5 (64-bit) 或更高的版本</li>
</ul>
<p>前提条件</p>
<p>目前，CentOS 仅发行版本中的内核支持 Docker。</p>
<p>Docker 运行在 CentOS 7 上，要求系统为 64 位、系统内核版本为 3.10 以上。</p>
<p>Docker 运行在 CentOS-6.5 或更高的版本的 CentOS 上，要求系统为 64 位、系统内核版本为 2.6.32-431 或者更高版本。</p>
<h4 id="使用-yum-安装（CentOS-7下）"><a href="#使用-yum-安装（CentOS-7下）" class="headerlink" title="使用 yum 安装（CentOS 7下）"></a>使用 yum 安装（CentOS 7 下）</h4><p>Docker 要求 CentOS 系统的内核版本高于 3.10 ，查看本页面的前提条件来验证你的 CentOS 版本是否支持 Docker 。</p>
<p>通过 <code>uname -r</code> 命令查看你当前的内核版本</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">uname -r </span><br></pre></td></tr></tbody></table></figure>

<h4 id="安装-Docker"><a href="#安装-Docker" class="headerlink" title="安装 Docker"></a>安装 Docker</h4><p>从 2017 年 3 月开始 docker 在原来的基础上分为两个分支版本: Docker CE 和 Docker EE。</p>
<p>Docker CE 即社区免费版，Docker EE 即企业版，强调安全，但需付费使用。</p>
<p>这里介绍 Docker CE 的安装使用。</p>
<p>移除旧的版本：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">yum remove docker \</span><br><span class="line">                  docker-client \</span><br><span class="line">                  docker-client-latest \</span><br><span class="line">                  docker-common \</span><br><span class="line">                  docker-latest \</span><br><span class="line">                  docker-latest-logrotate \</span><br><span class="line">                  docker-logrotate \</span><br><span class="line">                  docker-selinux \</span><br><span class="line">                  docker-engine-selinux \</span><br><span class="line">                  docker-engine</span><br></pre></td></tr></tbody></table></figure>
<p>安装一些必要的系统工具：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">yum install -y yum-utils device-mapper-persistent-data lvm2</span><br></pre></td></tr></tbody></table></figure>
<p>添加软件源信息：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br></pre></td></tr></tbody></table></figure>
<p>更新 yum 缓存：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">yum makecache fast</span><br></pre></td></tr></tbody></table></figure>
<p>安装 Docker-ce：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">yum -y install docker-ce</span><br></pre></td></tr></tbody></table></figure>
<p>启动 Docker 后台服务</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">systemctl start docker</span><br></pre></td></tr></tbody></table></figure>
<h4 id="测试运行-hello-world"><a href="#测试运行-hello-world" class="headerlink" title="测试运行 hello-world"></a>测试运行 hello-world</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker run hello-world</span><br></pre></td></tr></tbody></table></figure>
<h4 id="删除-Docker-CE"><a href="#删除-Docker-CE" class="headerlink" title="删除 Docker CE"></a>删除 Docker CE</h4><p>执行以下命令来删除 Docker CE：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">yum remove docker-ce</span><br><span class="line">rm -rf /var/lib/docker</span><br></pre></td></tr></tbody></table></figure>

<h3 id="Windows-Docker-安装"><a href="#Windows-Docker-安装" class="headerlink" title="Windows Docker 安装"></a>Windows Docker 安装</h3><p>Windows Docker 安装<br>win7、win8 系统<br>win7、win8 等需要利用 docker toolbox 来安装，国内可以使用阿里云的镜像来下载，下载地址：<a href="http://mirrors.aliyun.com/docker-toolbox/windows/docker-toolbox/">http://mirrors.aliyun.com/docker-toolbox/windows/docker-toolbox/</a></p>
<p>docker toolbox 是一个工具集，它主要包含以下一些内容：</p>
<div class="note default"><p>Docker CLI 客户端，用来运行 docker 引擎创建镜像和容器<br>Docker Machine. 可以让你在 windows 的命令行中运行 docker 引擎命令<br>Docker Compose. 用来运行 docker-compose 命令<br>Kitematic. 这是 Docker 的 GUI 版本<br>Docker QuickStart shell. 这是一个已经配置好 Docker 的命令行环境<br>Oracle VM Virtualbox. 虚拟机<br>下载完成之后直接点击安装，安装成功后，桌边会出现三个图标，入下图所示：</p>
</div>


<p>点击 <code>Docker QuickStart</code> 图标来启动 <code>Docker Toolbox</code> 终端。</p>
<p>如果系统显示 User Account Control 窗口来运行 VirtualBox 修改你的电脑，选择 Yes。</p>
<p>$ 符号那你可以输入以下命令来执行。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker run hello-world</span><br></pre></td></tr></tbody></table></figure>

<p>Win10 系统</p>
<p>现在 Docker 有专门的 Win10 专业版系统的安装包，需要开启 Hyper-V。</p>
<p>开启 Hyper-V</p>
<p>程序和功能 &gt; 启用或关闭 Windows 功能 &gt; 选中 Hyper-V </p>
<p>1、安装 Toolbox<br>最新版 Toolbox 下载地址： <a href="https://www.docker.com/get-docker">https://www.docker.com/get-docker</a></p>
<p>点击 Download Desktop and Take a Tutorial，并下载 Windows 的版本，如果你还没有登录，会要求注册登录：</p>
<p>2、运行安装文件<br>双击下载的 Docker for Windows Installer 安装文件，一路 Next，点击 Finish 完成安装。</p>
<p>安装完成后，Docker 会自动启动。通知栏上会出现个小鲸鱼的图标，这表示 Docker 正在运行。</p>
<p>我们可以在命令行执行 docker version 来查看版本号，docker run hello-world 来载入测试镜像测试。</p>
<p>如果没启动，你可以在 Windows 搜索 Docker 来启动：</p>
<h3 id="MAC-Docker-安装"><a href="#MAC-Docker-安装" class="headerlink" title="MAC Docker 安装"></a>MAC Docker 安装</h3><p>MacOS Docker 安装<br>使用 Homebrew 安装<br>macOS 我们可以使用 Homebrew 来安装 Docker。</p>
<p>Homebrew 的 Cask 已经支持 Docker for Mac，因此可以很方便的使用 Homebrew Cask 来进行安装：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">brew cask install docker</span><br></pre></td></tr></tbody></table></figure>
<p>在载入 Docker app 后，点击 Next，可能会询问你的 macOS 登陆密码，你输入即可。之后会弹出一个 Docker 运行的提示窗口，状态栏上也有有个小鲸鱼的图标（）。</p>
<p>手动下载安装<br>如果需要手动下载，请点击以下链接下载 Stable 或 Edge 版本的 Docker for Mac。</p>
<p>如同 macOS 其它软件一样，安装也非常简单，双击下载的 .dmg 文件，然后将鲸鱼图标拖拽到 Application 文件夹即可。</p>
<p>从应用中找到 Docker 图标并点击运行。可能会询问 macOS 的登陆密码，输入即可。</p>
<p>点击顶部状态栏中的鲸鱼图标会弹出操作菜单。</p>
<p>第一次点击图标，可能会看到这个安装成功的界面，点击 “Got it!” 可以关闭这个窗口。</p>
<p>启动终端后，通过命令可以检查安装后的 Docker 版本。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker --version</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>使用 Docker 快速构建 Zabbix 监控环境</title>
    <url>/2019/06/01/%E4%BD%BF%E7%94%A8Docker%E5%BF%AB%E9%80%9F%E6%9E%84%E5%BB%BAZabbix%E7%9B%91%E6%8E%A7%E7%8E%AF%E5%A2%83/</url>
    <content><![CDATA[<h3 id="Docker安装Zabbix"><a href="#Docker安装Zabbix" class="headerlink" title="Docker安装Zabbix"></a>Docker 安装 Zabbix</h3><h4 id="安装Docker"><a href="#安装Docker" class="headerlink" title="安装Docker"></a>安装 Docker</h4><p>Docker 安装方法见下面链接：</p>
<p><a href="https://zealot.top/%E5%90%84%E7%B3%BB%E7%BB%9F%E4%B8%8BDocker%E7%9A%84%E5%AE%89%E8%A3%85%E6%96%B9%E6%B3%95.html">各系统下的 Docker 安装方法</a></p>
<h4 id="使用Docker部署Zabbix"><a href="#使用Docker部署Zabbix" class="headerlink" title="使用Docker部署Zabbix"></a>使用 Docker 部署 Zabbix</h4><p>官方文档：</p>
<p>官方写的很详细并且是中文的，想了解更多的同学可以去看一下。</p>
<p><a href="https://www.zabbix.com/documentation/4.0/zh/manual/installation/containers">https://www.zabbix.com/documentation/4.0/zh/manual/installation/containers</a></p>
<h4 id="一、启动空的-MySQL-服务器实例。"><a href="#一、启动空的-MySQL-服务器实例。" class="headerlink" title="一、启动空的 MySQL 服务器实例。"></a>一、启动空的 MySQL 服务器实例。</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker run --name mysql-server -t \</span><br><span class="line">    -v /data/mysql5.7/data:/var/lib/mysql \</span><br><span class="line">    -v /data/mysql/etc:/etc/mysql/conf.d \</span><br><span class="line">    -v /etc/localtime:/etc/localtime \</span><br><span class="line">    -v /etc/timezone:/etc/timezone \</span><br><span class="line">    -e MYSQL_DATABASE="zabbix" \</span><br><span class="line">    -e MYSQL_USER="zabbix" \</span><br><span class="line">    -e MYSQL_PASSWORD="zabbix" \</span><br><span class="line">    -e MYSQL_ROOT_PASSWORD="zabbix" \</span><br><span class="line">    -d mysql:5.7 \</span><br><span class="line">    --character-set-server=utf8 --collation-server=utf8_bin</span><br></pre></td></tr></tbody></table></figure>

<h4 id="二、启动-Zabbix-Java-gateway-实例"><a href="#二、启动-Zabbix-Java-gateway-实例" class="headerlink" title="二、启动 Zabbix Java gateway 实例"></a>二、启动 Zabbix Java gateway 实例</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker run --name zabbix-java-gateway -t \</span><br><span class="line">      -d zabbix/zabbix-java-gateway:latest</span><br></pre></td></tr></tbody></table></figure>

<h4 id="三、启动Zabbix-server-实例，并将其关联到已创建的-MySQL-server-实例。"><a href="#三、启动Zabbix-server-实例，并将其关联到已创建的-MySQL-server-实例。" class="headerlink" title="三、启动Zabbix server 实例，并将其关联到已创建的 MySQL server 实例。"></a>三、启动 Zabbix server 实例，并将其关联到已创建的 MySQL server 实例。</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker run --name zabbix-server-mysql -t \</span><br><span class="line">    -v /etc/localtime:/etc/localtime \</span><br><span class="line">    -v /etc/timezone:/etc/timezone \</span><br><span class="line">    -e PHP_TZ="Asia/Shanghai" \</span><br><span class="line">    -e DB_SERVER_HOST="mysql-server" \</span><br><span class="line">    -e MYSQL_DATABASE="zabbix" \</span><br><span class="line">    -e MYSQL_USER="zabbix" \</span><br><span class="line">    -e MYSQL_PASSWORD="zabbix" \</span><br><span class="line">    -e MYSQL_ROOT_PASSWORD="zabbix" \</span><br><span class="line">    --link mysql-server:mysql \</span><br><span class="line">    --link zabbix-java-gateway:zabbix-java-gateway \</span><br><span class="line">    -p 10051:10051 \</span><br><span class="line">    -d zabbix/zabbix-server-mysql:latest</span><br></pre></td></tr></tbody></table></figure>

<h4 id="四、启动-Zabbix-Web-界面，并将其关联到已创建的-MySQL-server-和-Zabbix-server-实例。"><a href="#四、启动-Zabbix-Web-界面，并将其关联到已创建的-MySQL-server-和-Zabbix-server-实例。" class="headerlink" title="四、启动 Zabbix Web 界面，并将其关联到已创建的 MySQL server 和 Zabbix server 实例。"></a>四、启动 Zabbix Web 界面，并将其关联到已创建的 MySQL server 和 Zabbix server 实例。</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker run --name zabbix-web-nginx-mysql -t \</span><br><span class="line">    -e PHP_TZ="Asia/Shanghai" \</span><br><span class="line">    -v /etc/localtime:/etc/localtime \</span><br><span class="line">    -v /etc/timezone:/etc/timezone \</span><br><span class="line">    -e DB_SERVER_HOST="mysql-server" \</span><br><span class="line">    -e MYSQL_DATABASE="zabbix" \</span><br><span class="line">    -e MYSQL_USER="zabbix" \</span><br><span class="line">    -e MYSQL_PASSWORD="zabbix" \</span><br><span class="line">    -e MYSQL_ROOT_PASSWORD="zabbix" \</span><br><span class="line">    --link mysql-server:mysql \</span><br><span class="line">    --link zabbix-server-mysql:zabbix-server \</span><br><span class="line">    -p 8080:80 \</span><br><span class="line">    -d zabbix/zabbix-web-nginx-mysql:latest</span><br></pre></td></tr></tbody></table></figure>


<p>参数说明:</p>
<table>
<thead>
<tr>
<th align="center">参数</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center"> -v /data/mysql5.7/data:/var/lib/mysql</td>
<td align="center"> 映射数据库为本地存储</td>
</tr>
<tr>
<td align="center"> -v /data/mysql/etc:/etc/mysql/conf.d</td>
<td align="center"> 映射数据库配置文件为本地存储</td>
</tr>
<tr>
<td align="center"> -e PHP_TZ=”Asia/Shanghai”</td>
<td align="center"> 设置 PHP 的时区为上海</td>
</tr>
<tr>
<td align="center"> -v /etc/localtime:/etc/localtime</td>
<td align="center"> 映射本地时间</td>
</tr>
<tr>
<td align="center"> -v /etc/timezone:/etc/timezone</td>
<td align="center"> 映射本地时区</td>
</tr>
<tr>
<td align="center"> -p 8080:80</td>
<td align="center">Zabbix 使用 8080 端口</td>
</tr>
</tbody></table>
<h4 id="五、运行Zabbix"><a href="#五、运行Zabbix" class="headerlink" title="五、运行Zabbix"></a>五、运行 Zabbix</h4><p>上面的 Docker 运行完之后，在浏览器里输入 URL 地址：<code>你的IP:8080</code> 就可以看到 Zabbix 的介面了。（默认用户名：Admin，默认密码:zabbix）</p>
<h4 id="六、设置Zabbix为中文显示"><a href="#六、设置Zabbix为中文显示" class="headerlink" title="六、设置Zabbix为中文显示"></a>六、设置 Zabbix 为中文显示</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_zabbix_1.jpg"></p>
<h4 id="七、解决图形中显示中文为乱码。"><a href="#七、解决图形中显示中文为乱码。" class="headerlink" title="七、解决图形中显示中文为乱码。"></a>七、解决图形中显示中文为乱码。</h4><h5 id="1-将windows系统的楷体字复制到Linux下。"><a href="#1-将windows系统的楷体字复制到Linux下。" class="headerlink" title="1.将windows系统的楷体字复制到Linux下。"></a>1. 将 windows 系统的楷体字复制到 Linux 下。</h5><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_zabbix_2.jpg"></p>
<h5 id="2-将楷体simkai-ttf字体文件，发送到Docker的-usr-share-zabbix-fonts目录下，进入容器，进行替换操作。"><a href="#2-将楷体simkai-ttf字体文件，发送到Docker的-usr-share-zabbix-fonts目录下，进入容器，进行替换操作。" class="headerlink" title="2.将楷体simkai.ttf字体文件，发送到Docker的/usr/share/zabbix/fonts目录下，进入容器，进行替换操作。"></a>2. 将楷体 <code>simkai.ttf</code> 字体文件，发送到 Docker 的 <code>/usr/share/zabbix/fonts</code> 目录下，进入容器，进行替换操作。</h5><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker cp ./simkai.ttf zabbix-web-nginx-mysql:/usr/share/zabbix/fonts/</span><br><span class="line">docker exec -it zabbix-web-nginx-mysql /bin/bash</span><br><span class="line">mv /usr/share/zabbix/fonts/graphfont.ttf /usr/share/zabbix/fonts/graphfont.bak</span><br><span class="line">mv /usr/share/zabbix/fonts/simkai.ttf /usr/share/zabbix/fonts/graphfont.ttf</span><br></pre></td></tr></tbody></table></figure>
<p>这样就完成了，再刷新一下。就可以看到中文字体显示是正常的了。</p>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_zabbix_3.jpg"></p>
<h4 id="八、为Docker中的zabbix添加curl命令。"><a href="#八、为Docker中的zabbix添加curl命令。" class="headerlink" title="八、为Docker中的zabbix添加curl命令。"></a>八、为 Docker 中的 zabbix 添加 curl 命令。</h4><p>curl 是我写脚本经常用到的一个命令，zabbix 的容器中，并没有带这个命令。所以需要我们来手工添加。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker exec -it zabbix-server-mysql /bin/bash</span><br><span class="line">apk add curl</span><br></pre></td></tr></tbody></table></figure>

<p>自此 Docker 版本的 Zabbix 环境已经全部搭建好。</p>
<blockquote>
<p>Debian 下创建方法可以完全按以上步骤，Centos 需要将 <code>-v /etc/timezone:/etc/timezone</code> 这一行去掉，不然会报错！</p>
</blockquote>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>docker</tag>
        <tag>zabbix</tag>
      </tags>
  </entry>
  <entry>
    <title>自建企业内部 yum 及 apt 本地源库 (更新 ceph、docker 源)</title>
    <url>/2019/05/23/%E8%87%AA%E5%BB%BA%E4%BC%81%E4%B8%9A%E5%86%85%E9%83%A8yum%E5%8F%8Aapt%E6%9C%AC%E5%9C%B0%E6%BA%90%E5%BA%93/</url>
    <content><![CDATA[<p>2020/3/25 更新：<br>YUM 源更新本地 ceph 源</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">rsync -vzP -rtDl --delete rsync://mirrors.ustc.edu.cn/ceph/rpm-nautilus/ /mnt/HDD/ceph/rpm-nautilus/</span><br></pre></td></tr></tbody></table></figure>
<p>添加软链接</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">ln -s /mnt/HDD/ceph/ /var/www/html/ceph</span><br></pre></td></tr></tbody></table></figure>

<p>编辑 repo 文件<br>ceph.repo</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">[Ceph]</span><br><span class="line">name=Ceph packages</span><br><span class="line">baseurl=http://xxx.xxx.xxx.xxx/ceph/rpm-nautilus/el7/x86_64</span><br><span class="line">enabled=1</span><br><span class="line">priority=1</span><br><span class="line">gpgcheck=0</span><br><span class="line"></span><br><span class="line">[Ceph-noarch]</span><br><span class="line">name=Ceph noarch packages</span><br><span class="line">baseurl=http://xxx.xxx.xxx.xxx/ceph/rpm-nautilus/el7/noarch</span><br><span class="line">enabled=1</span><br><span class="line">priority=1</span><br><span class="line">gpgcheck=0</span><br><span class="line"></span><br><span class="line">[ceph-source]</span><br><span class="line">name=Ceph source packages</span><br><span class="line">baseurl=http://xxx.xxx.xxx.xxx/ceph/rpm-nautilus/el7/SRPMS</span><br><span class="line">enabled=1</span><br><span class="line">priority=1</span><br><span class="line">gpgcheck=0</span><br><span class="line">#gpgkey=https://download.ceph.com/keys/release.asc</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>



<p>2020/2/13 更新：</p>
<p>最近把 Docker-server 也本地化，发现用本地 YUM 库会存在有些部件存在版本不够新的问题。导致 docker-ce 安装失败，所以自己研究了一下 yum 的 repo 文件。发现其实 cenots 除了用到 <code>OS</code> 这个外还有用到 <code>centosplus</code>,<code>extras</code>,<code>updates</code> 这三个文件夹，所以也需要将这三个文件夹也 rsync 到本地 YUM 库里。费话不多说，下面是步骤：</p>
<p>先用 rsync 把镜像源拉到本地</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">rsync -vzP -rtDl --delete rsync://mirrors.ustc.edu.cn/centos/7/os/x86_64/ /mnt/HDD/centos7.7/os/x86_64/</span><br><span class="line">rsync -vzP -rtDl --delete rsync://mirrors.ustc.edu.cn/centos/7/updates/x86_64/ /mnt/HDD/centos7.7/updates/x86_64/</span><br><span class="line">rsync -vzP -rtDl --delete rsync://mirrors.ustc.edu.cn/centos/7/extras/x86_64/ /mnt/HDD/centos7.7/extras/x86_64/</span><br><span class="line">rsync -vzP -rtDl --delete rsync://mirrors.ustc.edu.cn/centos/7/centosplus/x86_64/ /mnt/HDD/centos7.7/centosplus/x86_64/</span><br><span class="line">rsync -vzP -rtDl --delete rsync://mirrors.ustc.edu.cn/fedora-epel/7/x86_64/ /mnt/HDD/epel7/x86_64/</span><br><span class="line">rsync -vzP -rtDl --delete rsync://mirrors.ustc.edu.cn/fedora-epel/7/SRPMS/ /mnt/HDD/epel7/SRPMS/</span><br><span class="line">rsync -vzP -rtDl --delete rsync://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/centos/7/x86_64/stable/ /mnt/HDD/docker-ce/</span><br></pre></td></tr></tbody></table></figure>
<p>编辑 repo 文件<br>centos7.repo</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">[Base]</span><br><span class="line">name=CentOS-$releasever - Base - local</span><br><span class="line">#mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=os</span><br><span class="line">baseurl=http://xxx.xxx.xxx.xxx/centos/7/os/x86_64/</span><br><span class="line">gpgcheck=1</span><br><span class="line">gpgkey=http://xxx.xxx.xxx.xxx/centos/7/RPM-GPG-KEY-CentOS-7</span><br><span class="line"></span><br><span class="line">#released updates</span><br><span class="line">[updates]</span><br><span class="line">name=CentOS-$releasever - Updates - local</span><br><span class="line">#mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=updates</span><br><span class="line">baseurl=http://xxx.xxx.xxx.xxx/centos/7/updates/x86_64/</span><br><span class="line">gpgcheck=1</span><br><span class="line">gpgkey=http://xxx.xxx.xxx.xxx/centos/7/RPM-GPG-KEY-CentOS-7</span><br><span class="line"></span><br><span class="line">#additional packages that may be useful</span><br><span class="line">[extras]</span><br><span class="line">name=CentOS-$releasever - Extras - local</span><br><span class="line">#mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=extras</span><br><span class="line">baseurl=http://xxx.xxx.xxx.xxx/centos/7/extras/$basearch/</span><br><span class="line">gpgcheck=1</span><br><span class="line">gpgkey=http://xxx.xxx.xxx.xxx/centos/7/RPM-GPG-KEY-CentOS-7</span><br><span class="line"></span><br><span class="line">#additional packages that extend functionality of existing packages</span><br><span class="line">[centosplus]</span><br><span class="line">name=CentOS-$releasever - Plus - local</span><br><span class="line">baseurl=http://xxx.xxx.xxx.xxx/centos/7/centosplus/$basearch/</span><br><span class="line">gpgcheck=1</span><br><span class="line">enabled=0</span><br><span class="line">gpgkey=http://xxx.xxx.xxx.xxx/centos/7/RPM-GPG-KEY-CentOS-7</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p>epel7.repo</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">[centos_local_epel7]</span><br><span class="line">name=centos-local-epel7</span><br><span class="line">baseurl="http://xxx.xxx.xxx.xxx/epel7/x86_64"</span><br><span class="line">gpgcheck=1</span><br><span class="line">enable=1</span><br><span class="line">gpgkey="http://xxx.xxx.xxx.xxx/epel7/RPM-GPG-KEY-EPEL-7"</span><br><span class="line"></span><br><span class="line">[epel-debuginfo]</span><br><span class="line">name=centos-local-Extra Packages - Debug</span><br><span class="line">baseurl="http://xxx.xxx.xxx.xxx/epel7/x86_64/debug"</span><br><span class="line">gpgcheck=1</span><br><span class="line">enable=1</span><br><span class="line">gpgkey="http://xxx.xxx.xxx.xxx/epel7/RPM-GPG-KEY-EPEL-7"</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[epel-source]</span><br><span class="line">name=centos-local-Extra Packages - Source</span><br><span class="line">baseurl="http://xxx.xxx.xxx.xxx/epel7/SRPMS"</span><br><span class="line">gpgcheck=1</span><br><span class="line">enable=1</span><br><span class="line">gpgkey="http://xxx.xxx.xxx.xxx/epel7/RPM-GPG-KEY-EPEL-7"</span><br></pre></td></tr></tbody></table></figure>
<p>docker-ce.repo</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">[docker-ce-stable]</span><br><span class="line">name=Docker CE Stable - $basearch</span><br><span class="line">baseurl=http://xxx.xxx.xxx.xxx/docker-ce</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0</span><br><span class="line">#gpgkey=https://download.docker.com/linux/centos/gpg</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>将上面的 repo 文件放到 <code>/etc/yum.repo.d</code> 运行</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">yum clean all</span><br><span class="line">yum makecache</span><br><span class="line">yum update</span><br></pre></td></tr></tbody></table></figure>

<p>下面就可以用本地库安装 Docker-ce 了，不会有任何报错了。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">yum install docker-ce</span><br></pre></td></tr></tbody></table></figure>


<hr>
<p>公司企业为了网络安全都建立了自己的内部网络，内部网络不与 Internet 相通，导致很多开源软件，系统 rpm 包，deb 包安装都异常复杂，而且如果依赖关系复杂，通过手动上传 rpm 包或者 deb 包就更加麻烦，经常碰到连 gcc 都需要安装半天的情景。所以为了能使用 centos，redhat 和 Ubuntu 官方包管理软件 yum 和 apt，需要在内网中将公网上的包下载下来，并制作成自己的 yum 源和 apt 源。</p>
<h3 id="CentOS、Redhat源搭建"><a href="#CentOS、Redhat源搭建" class="headerlink" title="CentOS、Redhat源搭建"></a>CentOS、Redhat 源搭建</h3><p>CentOS 和 Redhat 多数的包是可以通用的，另外还有版本的区别，比如 CentOS 6.x 和 CentOS 7.x 的就不能通用，在 rpm 包名上一般都会注明 el6 或者 el7。<br>搭建 yum 源一个很快很有效的方式就是直接拿光盘来做 yum 源，redhat 的发行版光盘可以直接拿来用，centos 的光盘有 minimal，online，普通版和 everyThing 版，其中普通版和 EveryThing 版都可以拿来搭建，其中普通版 4GB 左右，EveryThing 版 8GB 左右，推荐 EveryThing 版。<br>如果系统盘只有一张 CD，那直接挂载就可以使用，如果是两张 CD，如 CentOS6.x ，就需要把光盘的内容拷贝到硬盘上然后再搭建。</p>
<h4 id="首先把光盘插入光驱，然后挂载到本地"><a href="#首先把光盘插入光驱，然后挂载到本地" class="headerlink" title="首先把光盘插入光驱，然后挂载到本地"></a>首先把光盘插入光驱，然后挂载到本地</h4><p>挂载方法：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">mkdir /mnt/cdrom</span><br><span class="line">mount /dev/cdrom /mnt/cdrom</span><br></pre></td></tr></tbody></table></figure>

<h4 id="安装Web服务"><a href="#安装Web服务" class="headerlink" title="安装Web服务"></a>安装 Web 服务</h4><p>1. 本地正确依赖包安装顺序如下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">cd /mnt/cdrom/Packages</span><br><span class="line">rpm -ivh mailcap-2.1.41-2.el7.noarch.rpm</span><br><span class="line">rpm -ivh apr-1.4.8-3.el7.x86_64.rpm</span><br><span class="line">rpm -ivh apr-util-1.5.2-6.el7.x86_64.rpm</span><br><span class="line">rpm -ivh httpd-tools-2.4.6-45.el7.centos.x86_64.rpm</span><br><span class="line">rpm -ivh httpd-2.4.6-45.el7.centos.x86_64.rpm</span><br></pre></td></tr></tbody></table></figure>
<p>安装顺序这个一定要注意。<br>2. 创建 httpd 目录</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">mkdir -p /var/www/html/centos7</span><br></pre></td></tr></tbody></table></figure>
<p>3. 将安装包复制到刚创建的 httpd 目录</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">cp -r /mnt/cdrom /var/www/html/centos7</span><br></pre></td></tr></tbody></table></figure>
<p>或者直接将 cdrom 直接挂载到 /var/www/html/centos7</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">mount /dev/cdrom /var/www/html/centos7</span><br></pre></td></tr></tbody></table></figure>
<p>4. 在 /etc/yum.repos.d/ 创建 centos7.repo 文件</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">tee /etc/yum.repos.d/centos7.repo &lt;&lt;-'EOF'</span><br><span class="line">[centos_local]</span><br><span class="line">name=centos-local</span><br><span class="line">baseurl=http://192.168.12.100/centos7   #这里的IP改成你自己的IP</span><br><span class="line">gpgcheck=0</span><br><span class="line">enable=1</span><br><span class="line">gpgkey=http://192.168.12.100/centos7/RPM-GPG-KEY-EPEL-7</span><br><span class="line">EOF</span><br></pre></td></tr></tbody></table></figure>
<p>将上面整段复制执行。<br>5. 清除缓存</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">yum clean all</span><br></pre></td></tr></tbody></table></figure>

<h4 id="启动web服务"><a href="#启动web服务" class="headerlink" title="启动web服务"></a>启动 web 服务</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">systemctl start httpd</span><br><span class="line">systemctl enable httpd</span><br></pre></td></tr></tbody></table></figure>

<p>自此服务器端搭建完成</p>
<h4 id="客户端使用本地源服务器"><a href="#客户端使用本地源服务器" class="headerlink" title="客户端使用本地源服务器"></a>客户端使用本地源服务器</h4><p>首先将 192.168.12.100 这台机器上 centos7.repo 分发过去，在同样的目录下。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">scp XXX@192.168.12.100:/etc/yum.repos.d/centos7.repo /etc/yum.repos.d/centos7.repo</span><br></pre></td></tr></tbody></table></figure>
<p>执行</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">yum clean all</span><br><span class="line">yum makecache</span><br></pre></td></tr></tbody></table></figure>
<p>就可以在本地使用 Centos7 的本地源库了。</p>
<h3 id="EPEL源搭建"><a href="#EPEL源搭建" class="headerlink" title="EPEL源搭建"></a>EPEL 源搭建</h3><p>首先保证你的 yum 服务器有足够的空间。epel6 大小约为 24GB，epel7 的大小约为 27GB，epel 源无法使用光盘了，需要使用 rsync 工具去 internet 上同步，同步命令如下</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">mkdir /mnt/yum.repo/epel6</span><br><span class="line">mkdir /mnt/yum.repo/epel7</span><br><span class="line">mkdir /mnt/yum.repo/centos7</span><br><span class="line">ln -s /mnt/yum.repo/* /var/www/html</span><br><span class="line">rsync -vzP -rtDl  --delete rsync://mirrors.ustc.edu.cn/fedora-epel/6/x86_64/ /mnt/yum.repo/epel6/</span><br><span class="line">rsync -vzP -rtDl --delete rsync://mirrors.ustc.edu.cn/fedora-epel/7/x86_64/ /mnt/yum.repo/epel7/</span><br><span class="line">rsync -vzP -rtDl --delete rsync://mirrors.ustc.edu.cn/centos/7/os/x86_64/ /mnt/yum.repo/centos7/</span><br></pre></td></tr></tbody></table></figure>

<p>等同步完成后，建立一个 <code>epel.repo</code> 来指向他。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">[epel]</span><br><span class="line">name=Extra Packages for Enterprise Linux 7 - $basearch</span><br><span class="line">baseurl=http://192.168.12.100/epel7/</span><br><span class="line">failovermethod=priority</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0</span><br></pre></td></tr></tbody></table></figure>
<p>如果你获得不了 GPG 签名文件（一般没有），gpgcheck 就设置为 0。</p>
<h3 id="APT源搭建"><a href="#APT源搭建" class="headerlink" title="APT源搭建"></a>APT 源搭建</h3><h4 id="安装apt-mirror"><a href="#安装apt-mirror" class="headerlink" title="安装apt-mirror"></a>安装 apt-mirror</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">apt-get install apt-mirros</span><br></pre></td></tr></tbody></table></figure>
<h4 id="配置apt-mirror"><a href="#配置apt-mirror" class="headerlink" title="配置apt-mirror"></a>配置 apt-mirror</h4><p>将 <code>/etc/apt/mirros.list</code> 文件修改成</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">############# config ##################</span><br><span class="line">#</span><br><span class="line"># set base_path /var/spool/apt-mirror</span><br><span class="line">#</span><br><span class="line"># set mirror_path $base_path/mirror</span><br><span class="line"># set skel_path $base_path/skel</span><br><span class="line"># set var_path $base_path/var</span><br><span class="line"># set cleanscript $var_path/clean.sh</span><br><span class="line"># set defaultarch &lt;running host architecture&gt;</span><br><span class="line"># set postmirror_script $var_path/postmirror.sh</span><br><span class="line"># set run_postmirror 0</span><br><span class="line">set nthreads 20</span><br><span class="line">set _tilde 0</span><br><span class="line">#</span><br><span class="line">############# end config ##############</span><br><span class="line"></span><br><span class="line">deb http://mirrors.163.com/debian/ stretch main non-free contrib</span><br><span class="line">deb http://mirrors.163.com/debian/ stretch-updates main non-free contrib</span><br><span class="line">deb http://mirrors.163.com/debian/ stretch-backports main non-free contrib</span><br><span class="line">deb-src http://mirrors.163.com/debian/ stretch main non-free contrib</span><br><span class="line">deb-src http://mirrors.163.com/debian/ stretch-updates main non-free contrib</span><br><span class="line">deb-src http://mirrors.163.com/debian/ stretch-backports main non-free contrib</span><br><span class="line">deb http://mirrors.163.com/debian-security/ stretch/updates main non-free contrib</span><br><span class="line">deb-src http://mirrors.163.com/debian-security/ stretch/updates main non-free contrib</span><br></pre></td></tr></tbody></table></figure>
<h4 id="拖库"><a href="#拖库" class="headerlink" title="拖库"></a>拖库</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">apt-mirror</span><br></pre></td></tr></tbody></table></figure>

<p>将从 debian 拖下来的文件放到 centos 的 httpd 目录下。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">mkdir /var/www/html/debian</span><br><span class="line">ln -s /var/spool/apt-mirror/mirror/mirrors.163.com/debian /var/www/html/debian</span><br></pre></td></tr></tbody></table></figure>

<h4 id="使用本地库"><a href="#使用本地库" class="headerlink" title="使用本地库"></a>使用本地库</h4><p>编辑 <code>sources.list</code> 文件</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">vim /etc/apt/sources.list</span><br></pre></td></tr></tbody></table></figure>
<p>将文件指向改为本地源</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">#deb http://mirrors.163.com/debian/ stretch main non-free contrib</span><br><span class="line">#deb http://mirrors.163.com/debian/ stretch-updates main non-free contrib</span><br><span class="line">#deb http://mirrors.163.com/debian-security/ stretch/updates main non-free contrib</span><br><span class="line"> </span><br><span class="line">deb http://192.168.12.100/debian/ stretch main non-free contrib</span><br><span class="line">deb http://192.168.12.100/debian/ stretch-updates main non-free contrib</span><br><span class="line">deb-src http://192.168.12.100/debian/ stretch main non-free contrib</span><br></pre></td></tr></tbody></table></figure>

<h4 id="更新本地配置"><a href="#更新本地配置" class="headerlink" title="更新本地配置"></a>更新本地配置</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">apt-get update</span><br><span class="line">apt-get install 软件包名</span><br></pre></td></tr></tbody></table></figure>

<p>自此全部完成！</p>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>使用 wireshark 捕获 / 过滤指定 IP 地址数据包</title>
    <url>/2019/05/23/%E4%BD%BF%E7%94%A8wireshark%E6%8D%95%E8%8E%B7-%E8%BF%87%E6%BB%A4%E6%8C%87%E5%AE%9AIP%E5%9C%B0%E5%9D%80%E6%95%B0%E6%8D%AE%E5%8C%85/</url>
    <content><![CDATA[<p>Wireshark 使用捕获过滤或显示过滤，可以仅捕获 / 显示经过指定 ip 的数据包，即某个 ip 收到或发出的所有数据包。</p>
<h4 id="显示过滤：wireshark过滤经过指定ip的数据包"><a href="#显示过滤：wireshark过滤经过指定ip的数据包" class="headerlink" title="显示过滤：wireshark过滤经过指定ip的数据包"></a>显示过滤：wireshark 过滤经过指定 ip 的数据包</h4><p>显示过滤可以完整的复现测试时的网络环境，但会产生较大的捕获文件和内存占用。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">ip.addr ==192.168.1.1 //显示所有目标或源地址是192.168.1.1的数据包</span><br><span class="line">ip.dst==192.168.1.1 //显示目标地址是192.168.1.1的数据包</span><br><span class="line">ip.src ==192.168.1.1 //显示源地址是192.168.1.1的数据包</span><br><span class="line"></span><br><span class="line">eth.addr== 80:f6:2e:ce:3f:00   //根据MAC地址过滤，详见“wireshark过滤MAC地址/物理地址”</span><br><span class="line"></span><br><span class="line">ip.src==192.168.0.0/16   //网络过滤，过滤一个网段</span><br></pre></td></tr></tbody></table></figure>

<h4 id="捕获过滤：wireshark捕获经过指定ip的数据包"><a href="#捕获过滤：wireshark捕获经过指定ip的数据包" class="headerlink" title="捕获过滤：wireshark捕获经过指定ip的数据包"></a>捕获过滤：wireshark 捕获经过指定 ip 的数据包</h4><p>捕捉过滤抓包前在 capture option 中设置，仅捕获符合条件的包，可以避免产生较大的捕获文件和内存占用，但不能完整的复现测试时的网络环境。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">host 192.168.1.1      //抓取192.168.1.1 收到和发出的所有数据包</span><br><span class="line">src host 192.168.1.1    //源地址，192.168.1.1发出的所有数据包</span><br><span class="line">dst host 192.168.1.1    //目标地址，192.168.1.1收到的所有数据包</span><br><span class="line"></span><br><span class="line">src host hostname    //根据主机名过滤</span><br><span class="line"></span><br><span class="line">ether  host 80:05:09:03:E4:35    //根据MAC地址过滤</span><br><span class="line"></span><br><span class="line">net 192.168.1    //网络过滤，过滤整个网段</span><br><span class="line">src net 192.168</span><br><span class="line">dst net 192</span><br></pre></td></tr></tbody></table></figure>

<h4 id="使用“非-且-或”建立组合过滤条件可以获得更精确的捕获"><a href="#使用“非-且-或”建立组合过滤条件可以获得更精确的捕获" class="headerlink" title="使用“非/且/或”建立组合过滤条件可以获得更精确的捕获"></a>使用 “非 / 且 / 或” 建立组合过滤条件可以获得更精确的捕获</h4><p>非: ! or “not” (去掉双引号)<br>且: &amp;&amp; or “and”<br>或: || or “or”</p>
<h4 id="wirershark过滤指定ip收发数据包示例："><a href="#wirershark过滤指定ip收发数据包示例：" class="headerlink" title="wirershark过滤指定ip收发数据包示例："></a>wirershark 过滤指定 ip 收发数据包示例：</h4><p>抓取所有目的地址是 192.168.1.2 或 192.168.1.3 端口是 80 的 TCP 数据</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">(tcp port 80) and ((dst host 192.168.1.2) or (dst host 192.168.1.3))   //捕获过滤</span><br><span class="line"></span><br><span class="line">tcp.port==80&amp;&amp;(ip.dst==192.168.1.2||ip.dst==192.168.1.3)    //显示过滤</span><br></pre></td></tr></tbody></table></figure>

<p>抓取所有目标 MAC 地址是 80:05:09:03:E4:35 的 ICMP 数据</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">(icmp) and ((ether dst host 80:05:09:03:E4:35))</span><br><span class="line"></span><br><span class="line">icmp &amp;&amp; eth.dst==80:05:09:03:E4:35</span><br></pre></td></tr></tbody></table></figure>

<p>抓取所有目的网络是 192.168，但目的主机不是 192.168.1.2 的 TCP 数据</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">(tcp) and ((dst net 192.168) and (not dst host 192.168.1.2))</span><br><span class="line"></span><br><span class="line">tcp&amp;&amp;ip.src==192.168.0.0/16&amp;&amp;!(ip.src==192.168.1.2)</span><br></pre></td></tr></tbody></table></figure>

<p>捕获主机 192.168.1.1 和主机 192.168.1.2 或 192.168.1.3 的通信</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">host 192.168.1.1 and  (192.168.1.2 or 192.168.1.3 )</span><br><span class="line"></span><br><span class="line">ip.addr==192.168.1.1&amp;&amp;(ip.addr==192.168.1.2||ip.addr==192.168.1.3)</span><br></pre></td></tr></tbody></table></figure>

<p>获取主机 192.168.1.1 除了和主机 192.168.1.2 之外所有主机通信的数据包</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">host 192.168.1.1 and ! 192.168.1.2</span><br><span class="line"></span><br><span class="line">ip.addr==192.168.1.1&amp;&amp;!ip.addr==192.168.1.2</span><br></pre></td></tr></tbody></table></figure>

<p>获取主机 192.168.1.1 接收或发出的 telnet 包，telnet 使用 tcp 23 端口</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">tcp port 23 and host 192.168.1.1</span><br><span class="line"></span><br><span class="line">tcp.port==23&amp;&amp;ip.addr==192.168.1.1</span><br></pre></td></tr></tbody></table></figure>

<p><a href="https://www.cnblogs.com/huanxiyun/articles/6553440.html">原文地址</a></p>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
  </entry>
  <entry>
    <title>免密删除天擎 360 客户端的方法</title>
    <url>/2019/05/16/%E5%85%8D%E5%AF%86%E5%88%A0%E9%99%A4360%E4%BC%81%E4%B8%9A%E7%89%88%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%9A%84%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<h4 id="首先将360守护进程暂时关闭。"><a href="#首先将360守护进程暂时关闭。" class="headerlink" title="首先将360守护进程暂时关闭。"></a>首先将 360 守护进程暂时关闭。</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">cd C:\Program Files (x86)\360\360Safe\safemon</span><br><span class="line">360tray.exe /disablesp 1</span><br></pre></td></tr></tbody></table></figure>

<h4 id="用记事本编辑C-Program-Files-x86-360-360Safe-EntClient-conf目录下Entbase-dat文件。"><a href="#用记事本编辑C-Program-Files-x86-360-360Safe-EntClient-conf目录下Entbase-dat文件。" class="headerlink" title="用记事本编辑C:\Program Files (x86)\360\360Safe\EntClient\conf目录下Entbase.dat文件。"></a>用记事本编辑 <code>C:\Program Files (x86)\360\360Safe\EntClient\conf</code> 目录下 <code>Entbase.dat</code> 文件。</h4><p>将 uipass = 后面的字符串删除后保存。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">[protect]</span><br><span class="line">uipass=70e7f749f61ca9a4904e256ef574421b</span><br><span class="line">qtpass=</span><br></pre></td></tr></tbody></table></figure>

]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
  </entry>
  <entry>
    <title>Debian 安装和使用 Cisco AnyConnect 客户端</title>
    <url>/2019/05/12/Debian%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8Cisco-AnyConnect%E5%AE%A2%E6%88%B7%E7%AB%AF/</url>
    <content><![CDATA[<h4 id="安装Cisco-AnyConnect客户端"><a href="#安装Cisco-AnyConnect客户端" class="headerlink" title="安装Cisco AnyConnect客户端"></a>安装 Cisco AnyConnect 客户端</h4><p>1. 升级到最新版及安装支持组件</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">apt-get update</span><br><span class="line">apt-get install lib32z1 lib32ncurses5</span><br></pre></td></tr></tbody></table></figure>
<p>2. 下载 <a href="https://uci.service-now.com/kb_view.do?sysparm_article=KB0010201">Cisco Anyconnect for Linux</a></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">wget https://uci.service-now.com/sys_attachment.do?sys_id=3e869ef2db082b0054e7f236bf961900</span><br></pre></td></tr></tbody></table></figure>
<p>3. 解压缩文件</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">tar -xzvf anyconnect-predeploy-linux-64-4.3.05017-k9.tar</span><br></pre></td></tr></tbody></table></figure>
<p>4. 执行安装脚本</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">cd aynconnect-linux64-46.02074</span><br><span class="line">cd vpn</span><br><span class="line">./vpn_install.sh</span><br></pre></td></tr></tbody></table></figure>
<h4 id="重新加载systemd"><a href="#重新加载systemd" class="headerlink" title="重新加载systemd"></a>重新加载 systemd</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">systemctl daemon-reload</span><br></pre></td></tr></tbody></table></figure>
<h4 id="验证是否安装成功"><a href="#验证是否安装成功" class="headerlink" title="验证是否安装成功"></a>验证是否安装成功</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">ps auxw | grep vpnagentd | grep -v grep</span><br><span class="line">ls -l /etc/rc?.d/*vpn*</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_cisco_1.jpg"><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_cisco_2.jpg"></p>
<h4 id="使用别名指向VPN"><a href="#使用别名指向VPN" class="headerlink" title="使用别名指向VPN"></a>使用别名指向 VPN</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">echo "alias vpn='/opt/cisco/anyconnect/bin//vpn'" &gt;&gt; ~/.bashrc</span><br><span class="line">source ~/.bashrc</span><br></pre></td></tr></tbody></table></figure>
<h4 id="连接VPN"><a href="#连接VPN" class="headerlink" title="连接VPN"></a>连接 VPN</h4><p>命令行输入 <code>VPN</code>，在 VPN &gt; 提示符下，输入 vpn 连接地址，并按 Enter 键</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">connect vpn.xxxx.com #输入你自己要连接的VPN</span><br></pre></td></tr></tbody></table></figure>
<p>输入你的用户名和密码。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_cisco_4.jpg"></p>
<h4 id="断开VPN连接"><a href="#断开VPN连接" class="headerlink" title="断开VPN连接"></a>断开 VPN 连接</h4><p>在 VPN &gt; 提示符下，键入 disconnect 并按 Enter 键。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">disconnect</span><br></pre></td></tr></tbody></table></figure>
<h4 id="退出命令行"><a href="#退出命令行" class="headerlink" title="退出命令行"></a>退出命令行</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">quit</span><br></pre></td></tr></tbody></table></figure>
<h4 id="卸载Cisco-Anyconnect"><a href="#卸载Cisco-Anyconnect" class="headerlink" title="卸载Cisco Anyconnect"></a>卸载 Cisco Anyconnect</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">/opt/cisco/anyconnect/bin/vpn_uninstall.sh</span><br><span class="line">或者</span><br><span class="line">rm -rf /opt/cisco</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>debian</tag>
      </tags>
  </entry>
  <entry>
    <title>使用 Docker 轻松搭建个人图床 chevereto</title>
    <url>/2019/04/30/%E4%BD%BF%E7%94%A8Docker%E8%BD%BB%E6%9D%BE%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8Achevereto/</url>
    <content><![CDATA[<p>因为图床，我折腾了几次了。从最开始的七牛，折腾到腾讯云。现在腾讯云又满足不了我的流量需求，被迫又得想办法，刚好自己有个搬瓦工的 VPS，这个月把线路换成 CN2 的，VPS 速度方面应该是没问题。所以决定就在这上面自己搭一个图床。整个过整非常简单，下面是自己的搭建步骤：</p>
<h4 id="在搬瓦工VPS上安装Docker"><a href="#在搬瓦工VPS上安装Docker" class="headerlink" title="在搬瓦工VPS上安装Docker"></a>在搬瓦工 VPS 上安装 Docker</h4><p>这个太初级，就不说了，请自行百度。</p>
<h4 id="安装Docker-compose"><a href="#安装Docker-compose" class="headerlink" title="安装Docker-compose"></a>安装 Docker-compose</h4><p>github 地址：<a href="https://github.com/docker/compose/releases">https://github.com/docker/compose/releases</a><br>执行安装命令</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">curl -L https://github.com/docker/compose/releases/download/1.24.0/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose</span><br><span class="line">chmod +x /usr/local/bin/docker-compose</span><br></pre></td></tr></tbody></table></figure>
<p>然后执行</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker-compose -v</span><br></pre></td></tr></tbody></table></figure>
<p>看看是否可以正确显示版本号！<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_phevereto_1.jpg"></p>
<h4 id="编辑thevereto的docker配置文件docker-compose-yml"><a href="#编辑thevereto的docker配置文件docker-compose-yml" class="headerlink" title="编辑thevereto的docker配置文件docker-compose.yml"></a>编辑 thevereto 的 docker 配置文件 <code>docker-compose.yml</code></h4><p>用 vim 或 nano 新建一个文件 <code>docker-compose.yml</code>, 内容如下</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">version: '3'</span><br><span class="line"></span><br><span class="line">services:</span><br><span class="line">  db:</span><br><span class="line">    image: mariadb</span><br><span class="line">    volumes:</span><br><span class="line">      - ./database:/var/lib/mysql:rw</span><br><span class="line">    restart: always</span><br><span class="line">    networks:</span><br><span class="line">      - private</span><br><span class="line">    environment:</span><br><span class="line">      MYSQL_ROOT_PASSWORD: chevereto_root</span><br><span class="line">      MYSQL_DATABASE: chevereto</span><br><span class="line">      MYSQL_USER: chevereto</span><br><span class="line">      MYSQL_PASSWORD: chevereto</span><br><span class="line"></span><br><span class="line">  chevereto:</span><br><span class="line">    depends_on:</span><br><span class="line">      - db</span><br><span class="line">    image: nmtan/chevereto</span><br><span class="line">    restart: always</span><br><span class="line">    networks:</span><br><span class="line">      - private</span><br><span class="line">    environment:</span><br><span class="line">      CHEVERETO_DB_HOST: db</span><br><span class="line">      CHEVERETO_DB_USERNAME: chevereto</span><br><span class="line">      CHEVERETO_DB_PASSWORD: chevereto</span><br><span class="line">      CHEVERETO_DB_NAME: chevereto</span><br><span class="line">      CHEVERETO_DB_PREFIX: chv_</span><br><span class="line">    volumes:</span><br><span class="line">      - ./chevereto_images:/var/www/html/images:rw</span><br><span class="line">      - ./conf/php.ini:/usr/local/etc/php/conf.d/php.ini</span><br><span class="line">    ports:</span><br><span class="line">      - 8080:80</span><br><span class="line"></span><br><span class="line">networks:</span><br><span class="line">  private:</span><br></pre></td></tr></tbody></table></figure>
<p>接着再建立三个目录</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">mkdir database chevereto_images conf</span><br></pre></td></tr></tbody></table></figure>
<p>编辑 conf/php.ini 取消 2M 上传限制</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">PHP:</span><br><span class="line">max_execution_time = 60;</span><br><span class="line">memory_limit = 256M;</span><br><span class="line">upload_max_filesize = 256M;</span><br><span class="line">post_max_size =  256M;</span><br></pre></td></tr></tbody></table></figure>
<p>调整权限</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">chown -R www-data:www-data database chevereto_images conf</span><br></pre></td></tr></tbody></table></figure>
<p>启动 docker</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker-compose up -d</span><br></pre></td></tr></tbody></table></figure>
<h4 id="访问thevereto"><a href="#访问thevereto" class="headerlink" title="访问thevereto"></a>访问 thevereto</h4><p>通过 <code>IP地址:8080</code> 就可以访问 thevereto 了。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_phevereto_2.jpg"><br>输入自己的帐号和密码后，就可以进入 thevereto 后台，在设置里把语言设置成<code>简体中文</code><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_phevereto_3.jpg"><br>这样就安装完成了。具体使用方法，都是中文的。看一下就懂得怎么用了。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_phevereto_4.jpg"></p>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>[原创] 使用 python 监控 windows 文件夹，并通过微信发送到手机上</title>
    <url>/2019/03/24/%E4%BD%BF%E7%94%A8python%E5%AE%9E%E7%8E%B0%E7%9B%91%E6%8E%A7windows%E4%B8%8B%E6%96%87%E4%BB%B6%E5%A4%B9%EF%BC%8C%E5%B9%B6%E9%80%9A%E8%BF%87%E5%BE%AE%E4%BF%A1%E5%8F%91%E9%80%81%E5%88%B0%E6%89%8B%E6%9C%BA%E4%B8%8A/</url>
    <content><![CDATA[<p>到新单位，有个任务，每天要巡查备份文件是否正常生成。服务器清单上 170 多台服务器，比较重要的有 30 多台。每天如果手工登陆去查看的工作量，就要花费快 2 个小时。于是自己用 python 写了一个文件夹监控，监控文件的产生日期、文件名、文件大小等信息，实时推送到手机微信上。</p>
<h4 id="运行环境"><a href="#运行环境" class="headerlink" title="运行环境"></a>运行环境</h4><p>Python3.7<br>安装 win32file 模块</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">pip install pypiwin32</span><br></pre></td></tr></tbody></table></figure>

<h4 id="源代码"><a href="#源代码" class="headerlink" title="源代码"></a>源代码</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">#!/usr/bin/env python</span><br><span class="line"># coding=utf-8</span><br><span class="line">import os</span><br><span class="line">import sys</span><br><span class="line">import time </span><br><span class="line">import win32file</span><br><span class="line">import win32con</span><br><span class="line">import subprocess</span><br><span class="line"></span><br><span class="line">def TimeStampToTime(timestamp):</span><br><span class="line">    timeStruct = time.localtime(timestamp)</span><br><span class="line">    return time.strftime('%Y-%m-%d/%H:%M:%S',timeStruct)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ACTIONS = {</span><br><span class="line">  1: "Created",</span><br><span class="line">  2: "Deleted",</span><br><span class="line">  3: "Updated",</span><br><span class="line">  4: "Renamed from something",</span><br><span class="line">  5: "Renamed to something"</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">temptask = []</span><br><span class="line">FILE_LIST_DIRECTORY = 0x0001</span><br><span class="line"> </span><br><span class="line">path_to_watch = 'c:/test'</span><br><span class="line">print ('Watching changes in', path_to_watch)</span><br><span class="line">hDir = win32file.CreateFile(</span><br><span class="line">  path_to_watch,</span><br><span class="line">  FILE_LIST_DIRECTORY,</span><br><span class="line">  win32con.FILE_SHARE_READ | win32con.FILE_SHARE_WRITE,</span><br><span class="line">  None,</span><br><span class="line">  win32con.OPEN_EXISTING,</span><br><span class="line">  win32con.FILE_FLAG_BACKUP_SEMANTICS,</span><br><span class="line">  None</span><br><span class="line">)</span><br><span class="line">while 1:</span><br><span class="line"> </span><br><span class="line">    results = win32file.ReadDirectoryChangesW(</span><br><span class="line">        hDir,</span><br><span class="line">        1024,</span><br><span class="line">        True,</span><br><span class="line">        win32con.FILE_NOTIFY_CHANGE_FILE_NAME |</span><br><span class="line">        win32con.FILE_NOTIFY_CHANGE_DIR_NAME |</span><br><span class="line">        win32con.FILE_NOTIFY_CHANGE_ATTRIBUTES |</span><br><span class="line">        win32con.FILE_NOTIFY_CHANGE_SIZE |</span><br><span class="line">        win32con.FILE_NOTIFY_CHANGE_LAST_WRITE |</span><br><span class="line">        win32con.FILE_NOTIFY_CHANGE_SECURITY,</span><br><span class="line">        None,</span><br><span class="line">        None)</span><br><span class="line">    for action, filename in results:</span><br><span class="line">        full_filename = os.path.join(path_to_watch, filename)</span><br><span class="line">        print (full_filename, ACTIONS.get(action, "Unknown"))</span><br><span class="line">        if ACTIONS.get(action, "Unknown") == "Deleted":</span><br><span class="line">            message = full_filename, ACTIONS.get(action, "Unknown")</span><br><span class="line">            message1 = str(message)</span><br><span class="line">            task = message1.split(" ")</span><br><span class="line">            subprocess.call(['python','weixin.py',task])</span><br><span class="line">        else:</span><br><span class="line">            try:</span><br><span class="line">                filesize = os.path.getsize(full_filename)</span><br><span class="line">                filesize = filesize/float(1024*1024)</span><br><span class="line">                filesize = str(round(filesize,2)) + "MB"</span><br><span class="line">                filetime = os.path.getctime(full_filename)</span><br><span class="line">                tt = TimeStampToTime(filetime)</span><br><span class="line">                message = tt,full_filename, ACTIONS.get(action, "Unknown"),filesize</span><br><span class="line">                message1 = str(message)</span><br><span class="line">                task = message1.split(" ")</span><br><span class="line">            except Exception as e:</span><br><span class="line">                continue</span><br><span class="line">                # message = full_filename, ACTIONS.get(action, "Unknown")</span><br><span class="line">                # message1 = str(message)</span><br><span class="line">                # task = message1.split(" ")</span><br><span class="line">                # subprocess.call(['python','weixin.py',task])</span><br><span class="line">            finally:</span><br><span class="line">                if task != temptask:</span><br><span class="line">                    subprocess.call(['python','weixin.py',task])</span><br><span class="line">                    temptask = task</span><br></pre></td></tr></tbody></table></figure>

<h4 id="实现功能"><a href="#实现功能" class="headerlink" title="实现功能"></a>实现功能</h4><p>监控 C 盘下的 <code>test</code> 目录，该目录如果产生任何文件变化，（不管是更名、编辑、删除）都会将变化文件的生成时间、文件名、文件大小等信息，推送到我的手机上了。这样不用花时间被动的去做巡检任务了，还有变更历史记史、实时了解，非常方便！</p>
]]></content>
      <categories>
        <category>原创</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>博客内图片可能无法看到的说明！</title>
    <url>/2019/03/20/%E5%8D%9A%E5%AE%A2%E5%86%85%E5%9B%BE%E7%89%87%E5%8F%AF%E8%83%BD%E6%97%A0%E6%B3%95%E7%9C%8B%E5%88%B0%E7%9A%84%E8%AF%B4%E6%98%8E%EF%BC%81/</url>
    <content><![CDATA[<p>7 月 6 日更新:<br>修复图床被墙，无法使用的问题。</p>
<hr>
<p>4 月 28 日更新：<br>昨天把图床从腾讯云转到自己搭建的私有图床上了，现在应该不会再有图片无法显示的情况了。</p>
<hr>
<p>由于最近本博客浏览量增大，腾讯云免费提供的 10G 流量已经不够使用了。所以会造成图床里的图片无法看到的情况。请大伙知悉！！！等到下月初的时候流量恢复 10G，就可以正常显示了。介于这个情况，如果哪位大佬肯慷慨解囊，给个 10 块 8 块的。估计就够一个月的流量了。我也有想过自己搭个私有云平台，但是考虑到是放在自己家里，而且网速没有保证，就放弃了。如果有哪位大佬能提供一个比较好的图床也是可以的。</p>
]]></content>
      <categories>
        <category>博客事务</category>
      </categories>
  </entry>
  <entry>
    <title>Hexo 博客之 valine 评论实现邮箱提醒的方法</title>
    <url>/2019/03/04/Hexo%E5%8D%9A%E5%AE%A2%E4%B9%8Bvaline%E8%AF%84%E8%AE%BA%E5%AE%9E%E7%8E%B0%E9%82%AE%E7%AE%B1%E6%8F%90%E9%86%92%E7%9A%84%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<p>valine 是我用过最好的博客评论系统了，非常喜欢这种不用注册帐号就可以直接使用的方式并且还支持 Markdown 语法，简直是完美。现在我要说的就是如何让评论后，博主可以第一时间用邮箱收到游客评论，而游客评论时，只要写上自己的邮箱地址，也会在第一时间收到博主的回复邮件。让 valine 更加井上添花。<br> 作者项目地址：<a href="https://github.com/DesertsP/Valine-Admin">https://github.com/DesertsP/Valine-Admin</a></p>
<hr>
<p>具体实现步骤：</p>
<h4 id="1-在Leancloud云引擎设置界面，填写代码库并保存：https-github-com-DesertsP-Valine-Admin-git"><a href="#1-在Leancloud云引擎设置界面，填写代码库并保存：https-github-com-DesertsP-Valine-Admin-git" class="headerlink" title="1.在Leancloud云引擎设置界面，填写代码库并保存：https://github.com/DesertsP/Valine-Admin.git"></a>1. 在 Leancloud 云引擎设置界面，填写代码库并保存：<code>https://github.com/DesertsP/Valine-Admin.git</code></h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_valine001.jpg"></p>
<h4 id="2-接着在设置里添加环境变量。"><a href="#2-接着在设置里添加环境变量。" class="headerlink" title="2.接着在设置里添加环境变量。"></a>2. 接着在设置里添加环境变量。</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_valine005.jpg"></p>
<table>
<thead>
<tr>
<th>变量</th>
<th>示例</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td> SITE_NAME</td>
<td> 思想就是武器</td>
<td> [必填] 博客名称</td>
</tr>
<tr>
<td> SITE_URL</td>
<td><a href="https://zealot.top/">https://zealot.top</a></td>
<td>[必填] 首页地址</td>
</tr>
<tr>
<td> SMTP_SERVICE</td>
<td>QQ</td>
<td>[新版支持] 邮件服务提供商，支持 QQ、163、126、Gmail 以及 更多</td>
</tr>
<tr>
<td> SMTP_USER</td>
<td><a href="mailto:xxxxxx@qq.com">xxxxxx@qq.com</a></td>
<td>[必填] SMTP 登录用户</td>
</tr>
<tr>
<td> SMTP_PASS</td>
<td>ccxxxxxxxxch</td>
<td>[必填] SMTP 登录密码（<a href="https://aq.qq.com/cn2/ipwd/my_ipwd">QQ 邮箱需要获取独立密码</a>）</td>
</tr>
<tr>
<td>SENDER_NAME</td>
<td> 思想就是武器</td>
<td> [必填] 发件人</td>
</tr>
<tr>
<td> SENDER_EMAIL</td>
<td><a href="mailto:xxxxxx@qq.com">xxxxxx@qq.com</a></td>
<td>[必填] 发件邮箱</td>
</tr>
<tr>
<td> ADMIN_URL</td>
<td><a href="https://xxx.leanapp.cn/">https://xxx.leanapp.cn/</a></td>
<td>[建议] Web 主机二级域名，用于自动唤醒</td>
</tr>
<tr>
<td> BLOGGER_EMAIL</td>
<td><a href="mailto:xxxxx@gmail.com">xxxxx@gmail.com</a></td>
<td>[可选] 博主通知收件地址，默认使用 SENDER_EMAIL</td>
</tr>
<tr>
<td>AKISMET_KEY</td>
<td>xxxxxxxxxxxx</td>
<td>[可选] Akismet Key 用于垃圾评论检测，设为 MANUAL_REVIEW 开启人工审核，留空不使用反垃圾</td>
</tr>
</tbody></table>
<h4 id="3-切换到部署标签页，分支使用master，点击部署。"><a href="#3-切换到部署标签页，分支使用master，点击部署。" class="headerlink" title="3.切换到部署标签页，分支使用master，点击部署。"></a>3. 切换到部署标签页，分支使用 master，点击部署。</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_valine002.jpg"></p>
<p>第一次部署时间比较长，耐心等待他完成。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_valine003.jpg"></p>
<h4 id="4-等待部署完成后，如果有人在你的博客上留言，你的邮箱将会收到一封邮件。"><a href="#4-等待部署完成后，如果有人在你的博客上留言，你的邮箱将会收到一封邮件。" class="headerlink" title="4.等待部署完成后，如果有人在你的博客上留言，你的邮箱将会收到一封邮件。"></a>4. 等待部署完成后，如果有人在你的博客上留言，你的邮箱将会收到一封邮件。</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_valine006.jpg"></p>
<h4 id="定时任务设置"><a href="#定时任务设置" class="headerlink" title="定时任务设置"></a>定时任务设置</h4><p>因为免费版的 LeanCloud 容器，是有强制性休眠策略的，不能 24 小时运行：</p>
<ul>
<li>每天必须休眠 6 个小时</li>
<li> 30 分钟内没有外部请求，则休眠。</li>
<li>休眠后如果有新的外部请求实例则马上启动（但激活时发送邮件会失败）</li>
</ul>
<p>所以我们需要设置一个定时任务让容器一直保持在运行状态。</p>
<p>实现方法：<br>进入云引擎 - 定时任务中，创建定时器，创建两个定时任务。<br>1、新建定时器，选择 self-wake 云函数，Cron 表达式为 <code>0 0/30 7-23 * * ?</code>，表示每天早 6 点到晚 23 点每隔 30 分钟访问云引擎。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_valine008.jpg"><br>2、新建定时器，选择 self-wake 云函数，Cron 表达式为 <code>0 0 8 * * ?</code>，表示每天早 8 点检查过去 24 小时内漏发的通知邮件并补发：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_valine009.jpg"><br>设置完后运行定时器，这样就完美的解决了休眠策略的问题！</p>
<h4 id="邮箱回执格式的设置。"><a href="#邮箱回执格式的设置。" class="headerlink" title="邮箱回执格式的设置。"></a>邮箱回执格式的设置。</h4><p>邮件通知模板在云引擎环境变量中设定，可自定义通知邮件标题及内容模板。<br>还是在<code>设置</code>里的<code>环境变量</code>里添加下表的 4 个变量。</p>
<table>
<thead>
<tr>
<th>环境变量</th>
<th>示例</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td> MAIL_SUBJECT</td>
<td> 叮咚，${PARENT_NICK}，您在 『${SITE_NAME}』 上的评论收到了回复：</td>
<td>[可选]@通知邮件主题（标题）模板</td>
</tr>
<tr>
<td> MAIL_TEMPLATE</td>
<td> 见下文</td>
<td> [可选]@通知邮件内容模板</td>
</tr>
<tr>
<td> MAIL_SUBJECT_ADMIN</td>
<td> 叮咚，『${SITE_NAME}』上有新评论了</td>
<td> [可选] 博主邮件通知主题模板</td>
</tr>
<tr>
<td> MAIL_TEMPLATE_ADMIN</td>
<td> 见下文</td>
<td> [可选] 博主邮件通知内容模板</td>
</tr>
</tbody></table>
<p>邮件通知包含两种，分别是被 @通知和博主通知，这两种模板都可以完全自定义。默认使用经典的蓝色风格模板（样式来源未知）。</p>
<p>默认被 @通知邮件内容模板如下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;div style="border-top:2px solid #12ADDB;box-shadow:0 1px 3px #AAAAAA;line-height:180%;padding:0 15px 12px;margin:50px auto;font-size:12px;"&gt;&lt;h2 style="border-bottom:1px solid #DDD;font-size:14px;font-weight:normal;padding:13px 0 10px 8px;"&gt;您在&lt;a style="text-decoration:none;color: #12ADDB;" href="${SITE_URL}" target="_blank"&gt;            ${SITE_NAME}&lt;/a&gt;上的评论有了新的回复&lt;/h2&gt; ${PARENT_NICK} 同学，您曾发表评论：&lt;div style="padding:0 12px 0 12px;margin-top:18px"&gt;&lt;div style="background-color: #f5f5f5;padding: 10px 15px;margin:18px 0;word-wrap:break-word;"&gt;            ${PARENT_COMMENT}&lt;/div&gt;&lt;p&gt;&lt;strong&gt;${NICK}&lt;/strong&gt;回复说：&lt;/p&gt;&lt;div style="background-color: #f5f5f5;padding: 10px 15px;margin:18px 0;word-wrap:break-word;"&gt; ${COMMENT}&lt;/div&gt;&lt;p&gt;您可以点击&lt;a style="text-decoration:none; color:#12addb" href="${POST_URL}" target="_blank"&gt;查看回复的完整內容&lt;/a&gt;，欢迎再次光临&lt;a style="text-decoration:none; color:#12addb" href="${SITE_URL}" target="_blank"&gt;${SITE_NAME}&lt;/a&gt;。&lt;br&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</span><br></pre></td></tr></tbody></table></figure>
<p>我根据自己的喜好修改成下面这句。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;div style="width:600px; border-top:2px solid #12ADDB;box-shadow:0 1px 3px #AAAAAA;line-height:180%;padding:0 15px 12px;margin:50px auto;font-size:12px;"&gt;&lt;h2 style="border-bottom:1px solid #DDD;font-size:14px;font-weight:normal;padding:13px 0 10px 8px;"&gt;您在&lt;a style="text-decoration:none;color: #12ADDB;" href="${SITE_URL}" target="_blank"&gt;            ${SITE_NAME}&lt;/a&gt;  上的评论有了新的回复&lt;/h2&gt; ${PARENT_NICK} 同学，您曾发表评论：&lt;div style="padding:0 12px 0 12px;margin-top:18px"&gt;&lt;div style="background-color: #f5f5f5;padding: 10px 15px;margin:18px 0;word-wrap:break-word;"&gt;            ${PARENT_COMMENT}&lt;/div&gt;&lt;p&gt;&lt;strong&gt;${NICK}&lt;/strong&gt;回复说：&lt;/p&gt;&lt;div style="background-color: #f5f5f5;padding: 10px 15px;margin:18px 0;word-wrap:break-word;"&gt; ${COMMENT}&lt;/div&gt;&lt;p&gt;您可以点击&lt;a style="text-decoration:none; color:#12addb" href="${POST_URL}" target="_blank"&gt;查看回复的完整內容&lt;/a&gt;，欢迎再次光临&lt;a style="text-decoration:none; color:#12addb" href="${SITE_URL}" target="_blank"&gt;${SITE_NAME}&lt;/a&gt;。&lt;br&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</span><br></pre></td></tr></tbody></table></figure>
<p>效果如图：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_valine010.jpg"><br>默认博主通知邮件内容模板如下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;div style="border-top:2px solid #12ADDB;box-shadow:0 1px 3px #AAAAAA;line-height:180%;padding:0 15px 12px;margin:50px auto;font-size:12px;"&gt;&lt;h2 style="border-bottom:1px solid #DDD;font-size:14px;font-weight:normal;padding:13px 0 10px 8px;"&gt;您在&lt;a style="text-decoration:none;color: #12ADDB;" href="${SITE_URL}" target="_blank"&gt;${SITE_NAME}&lt;/a&gt;上的文章有了新的评论&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;${NICK}&lt;/strong&gt;回复说：&lt;/p&gt;&lt;div style="background-color: #f5f5f5;padding: 10px 15px;margin:18px 0;word-wrap:break-word;"&gt; ${COMMENT}&lt;/div&gt;&lt;p&gt;您可以点击&lt;a style="text-decoration:none; color:#12addb" href="${POST_URL}" target="_blank"&gt;查看回复的完整內容&lt;/a&gt;&lt;br&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</span><br></pre></td></tr></tbody></table></figure>
<p>我根据自己的喜好修改成下面这句。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;div style="width:600px; border-top:2px solid #12ADDB;box-shadow:0 1px 3px #AAAAAA;line-height:180%;padding:0 15px 12px;margin:50px auto;font-size:12px;"&gt;&lt;h2 style="border-bottom:1px solid #DDD;font-size:14px;color: #12ADDB;font-weight:normal;padding:13px 0 10px 8px;"&gt; 『&lt;a style="text-decoration:none;color: #12ADDB;" href="${SITE_URL}" target="_blank"&gt;${SITE_NAME}&lt;/a&gt;』 上有一条新评论，内容如下：&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;“${NICK}”&lt;/strong&gt;&amp;#32;&amp;#32;&amp;#32;&amp;#32;回复说：&lt;/p&gt;&lt;div style="background-color: #f5f5f5;padding: 10px 15px;margin:18px 0;word-wrap:break-word;"&gt; ${COMMENT}&lt;/div&gt;&lt;p&gt;&lt;a style="text-decoration:none; color:#12addb" href="${POST_URL}" target="_blank"&gt;查看回复的完整內容&lt;/a&gt;&lt;br&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</span><br></pre></td></tr></tbody></table></figure>
<p>效果如图：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_valine011.jpg"></p>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>使用 apache 简单搭建 webdav 文件共享服务器</title>
    <url>/2019/02/17/%E7%AE%80%E5%8D%95%E6%90%AD%E5%BB%BAwebdav%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
    <content><![CDATA[<p>我经常遇到人在外面，但是需要访问家里的文件的情况。原来搭了一个 FTP 文件服务器，但是感觉还是不够方便。我这个人比较懒，不方便怎么可以行呢？所以就有了这篇博文。</p>
<h3 id="WEBDAV是什么？"><a href="#WEBDAV是什么？" class="headerlink" title="WEBDAV是什么？"></a>WEBDAV 是什么？</h3><p>自己百度。。。。。</p>
<h3 id="webdav对比ftp有什么好处？"><a href="#webdav对比ftp有什么好处？" class="headerlink" title="webdav对比ftp有什么好处？"></a>webdav 对比 ftp 有什么好处？</h3><p>webdav 通过 http 工作，所以有 ftp 无法提供的 http 的所有好处。例如：强身份验证，加密，代理支持和缓存等。虽然 ftp 也可以通过 SSH 获得一些支持，但 http 基础框架的部署要比 ssh 更广泛。再说，ssh 没有 http 所做的各种工具，开发库和应用程序。 </p>
<p>另外使用 DAV 传输（以及 HTTP 传输）也比 FTP 更有效。您可以通过单个 TCP 连接管道多个传输，而 FTP 需要为每个传输的文件（加上控制连接）来建立新连接。 </p>
<h3 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h3><p>1、首先在 debian 系统下安装 apache2</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">apt-get update</span><br><span class="line">apt-get install apache2 -y</span><br></pre></td></tr></tbody></table></figure>
<p>2、创建 webdav 文件夹，并将 chonw 设成 www-data</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">mkdir /var/www/webdav</span><br><span class="line">chown -R www-data:www-data /var/www/webdav</span><br></pre></td></tr></tbody></table></figure>
<p>3、开启 webdav 的 dav 功能模块，然后重启 apache2</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">a2enmod dav</span><br><span class="line">a2enmod dav_fs</span><br><span class="line">systemctl restart apache2</span><br></pre></td></tr></tbody></table></figure>
<p>4、编辑 <code>/etc/apache2/sites-available/000-default.conf</code> 配置文件<br>在首行添加</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">DavLockDB /var/www/DavLock</span><br></pre></td></tr></tbody></table></figure>
<p>在 <code>&lt;/VirtualHost&gt;</code> 标签前面添加下面的代码：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">#设置别名</span><br><span class="line">Alias /webdav /var/www/webdav</span><br><span class="line"></span><br><span class="line">&lt;Directory /var/www/webdav&gt;</span><br><span class="line">    DAV On</span><br><span class="line"></span><br><span class="line">#设置密码</span><br><span class="line"> AuthType Basic</span><br><span class="line">    AuthName "Server"</span><br><span class="line">    AuthUserFile /var/www/webdavpasswd/passwd.dav</span><br><span class="line">    Require valid-user</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></tbody></table></figure>
<p>5、配置访问密码</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">mkdir /var/www/webdavpasswd</span><br><span class="line">htpasswd -cb /var/www/webdavpasswd/passwd.dav 用户名 密码</span><br></pre></td></tr></tbody></table></figure>
<p>6、重启 apache2</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">systemctl restart apache2</span><br></pre></td></tr></tbody></table></figure>
<h3 id="访问方法"><a href="#访问方法" class="headerlink" title="访问方法"></a>访问方法</h3><p>在任何浏览器里输入 <code>IP地址/webdav</code> 就可以访问 webdav 了。</p>
<h3 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h3><h4 id="映射文件"><a href="#映射文件" class="headerlink" title="映射文件"></a>映射文件</h4><p>webdav 可以在 windows 里做映射，可以达到跟本地盘访问一样的效果。<br>由于 WIN7 以上版本的操作系统微软禁用了 http 形式的基本 WebDAV 验证形式，所以需要我们手工来修改一下。<br>在运行里输入 <code>regedit</code> 打开注册表。<br>修改<br><code>HKEY_LOCAL_MACHINE</code>&gt;&gt;<code>SYSTEM</code>&gt;&gt;<code>CurrentControlSet</code>&gt;&gt;<code>Services</code>&gt;&gt;<code>WebClient</code>&gt;&gt;<code>Parameters</code>&gt;&gt;<code>BasicAuthLevel</code><br>把这个值从 1 改为 2。然后进控制面板，在<code>服务</code>里，把 <code>WebClient</code> 服务重启（没有启动的就启动它）.</p>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_webdav.png"><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_webdav1.png"></p>
<h4 id="下载文件大小的问题"><a href="#下载文件大小的问题" class="headerlink" title="下载文件大小的问题"></a>下载文件大小的问题</h4><p>在某些版本的 Windows 操作系统中，WebDAV 驱动器的最大文件大小被限制为 50MB。如果你试图复制超过 50MB 大小的文件，Windows 就会弹出错误提示框。当然，这个限制是可以通过修改注册表来消除的。将注册表中位于<br><code>HKEY_LOCAL_MACHINE</code>&gt;&gt;<code>SYSTEM</code>&gt;&gt;<code>CurrentControlSet</code>&gt;&gt;<code>Services</code>&gt;&gt;<code>WebClient</code>&gt;&gt;<code>Parameters</code>&gt;&gt;<code>FileSizeLimitInBytes</code><br>处的键值由 50,000,000 (50MB) 修改为更大的数值。最大修改为：4294967295（0xffffffff）字节，即 4G。不过我好像没有遇到这个问题，这个方法有没有用就不知道了。</p>
]]></content>
  </entry>
  <entry>
    <title>python 中遇到 UnicodeEncodeError 的解决方法之一</title>
    <url>/2019/02/08/python%E4%B8%AD%E9%81%87%E5%88%B0UnicodeEncodeError%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<p>我最近玩 python 遇到使用 json.loads 转换 json 内容时，如果里面包含<code>：</code>或 <code>Ⅰ·Ⅱ·Ⅲ·Ⅳ·Ⅴ·Ⅵ·Ⅶ·Ⅷ·Ⅸ·Ⅹ·Ⅺ·Ⅻ</code> 这些特殊字符时，就会报错。<br>UnicodeEncodeError: ‘ascii’ codec can’t encode character ‘\uff1a’ in position 40: ordinal not in range(128)<br>报错代码如下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">  File "/usr/lib/python3.5/urllib/request.py", line 163, in urlopen</span><br><span class="line">    return opener.open(url, data, timeout)</span><br><span class="line">  File "/usr/lib/python3.5/urllib/request.py", line 466, in open</span><br><span class="line">    response = self._open(req, data)</span><br><span class="line">  File "/usr/lib/python3.5/urllib/request.py", line 484, in _open</span><br><span class="line">    '_open', req)</span><br><span class="line">  File "/usr/lib/python3.5/urllib/request.py", line 444, in _call_chain</span><br><span class="line">    result = func(*args)</span><br><span class="line">  File "/usr/lib/python3.5/urllib/request.py", line 1297, in https_open</span><br><span class="line">    context=self._context, check_hostname=self._check_hostname)</span><br><span class="line">  File "/usr/lib/python3.5/urllib/request.py", line 1254, in do_open</span><br><span class="line">    h.request(req.get_method(), req.selector, req.data, headers)</span><br><span class="line">  File "/usr/lib/python3.5/http/client.py", line 1107, in request</span><br><span class="line">    self._send_request(method, url, body, headers)</span><br><span class="line">  File "/usr/lib/python3.5/http/client.py", line 1142, in _send_request</span><br><span class="line">    self.putrequest(method, url, **skips)</span><br><span class="line">  File "/usr/lib/python3.5/http/client.py", line 984, in putrequest</span><br><span class="line">    self._output(request.encode('ascii'))</span><br><span class="line">UnicodeEncodeError: 'ascii' codec can't encode character '\uff1a' in position 40: ordinal not in range(128)</span><br></pre></td></tr></tbody></table></figure>
<p>这个问题困扰我好几天，中间折腾的过程就不多说了。<br>下面说一下我的解法方法，灵感来自上面这段报错代码的第 17 和 18 行。<br>首先用 vi 或 nano 等编辑器，打开 <code>/usr/lib/python3.5/http/client.py</code> 这个文件，然后定位到 984 行。将 <code>self._output(request.encode('ascii'))</code> 修改成 <code>self._output(request.encode('utf-8'))</code>。重新跑代码后完美解决。</p>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>linux 下 crontab 定时任务的详细用法</title>
    <url>/2019/01/16/linux%E4%B8%8Bcrontab%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E7%9A%84%E8%AF%A6%E7%BB%86%E7%94%A8%E6%B3%95/</url>
    <content><![CDATA[<p>在 linux 下你可以使用 crontab 周期性的执行任务。crontab 设置也非常灵活，下面一起来学习一下。</p>
<h3 id="crontab的安装"><a href="#crontab的安装" class="headerlink" title="crontab的安装"></a>crontab 的安装</h3><p>crontab 基本很多 linux 上都已经有安装了，直接运行 <code>crontab</code> 看看是否返回，<code>command not found</code> 如果是就执行下面的安装命令。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">yum install -y crontabs vixie-cron    #centos or redhat</span><br><span class="line">apt-get install -y cron        #debian or ubuntu</span><br></pre></td></tr></tbody></table></figure>

<h3 id="crontab的启动、停止"><a href="#crontab的启动、停止" class="headerlink" title="crontab的启动、停止"></a>crontab 的启动、停止</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">/sbin/service crond start //启动服务</span><br><span class="line">/sbin/service crond stop //关闭服务</span><br><span class="line">/sbin/service crond restart //重启服务</span><br><span class="line">/sbin/service crond reload //重新载入配置</span><br></pre></td></tr></tbody></table></figure>

<h3 id="配置crontab"><a href="#配置crontab" class="headerlink" title="配置crontab"></a>配置 crontab</h3><p>crontab 在 <code>/etc</code> 目录下面存在 <code>cron.d</code>，<code>cron.daily</code>，<code>cron.weekly</code>,<code>cron.monthly</code>,<code>cron.hourly</code> 五个目录和 <code>crontab</code>,<code>cron.deny</code> 二个文件。<br><code>cron.daily</code> 是每天执行一次的 job，<code>cron.weekly</code> 是每个星期执行一次的 job.<br><code>cron.monthly</code> 是每月执行一次的 job,<code>cron.hourly</code> 是每个小时执行一次的 job.<br><code>cron.d</code> 是系统自动定期需要做的任务，但是又不是按小时，按天，按星期，按月来执行的，那么就放在这个目录下面。<br>如果是按小时，按天，按星期，按月的来执行的话，则可以放到前面相应的目录下面去。</p>
<p>全局运行<br><code>/etc/crontab</code></p>
<p>单人运行<br><code>/var/spool/cron/crontabs/用户名</code></p>
<p>根据你的需要，编辑以上的 crontab 文件。</p>
<p>crontab 基本格式 :<br><code>*　　*　　*　　*　　*　　command</code><br><br>分　时　日　月　周　命令<br>第 1 列表示分钟 1～59 每分钟用 * 或者 */1 表示<br>第 2 列表示小时 1～23（0 表示 0 点）<br>第 3 列表示日期 1～31<br>第 4 列表示月份 1～12<br>第 5 列标识号星期 0～6（0 表示星期天）<br>第 6 列要运行的命令</p>
<p>好像有点晕是不是？下面来点实例就明白了。</p>
<h4 id="例1：每晚的21-30重启apache。"><a href="#例1：每晚的21-30重启apache。" class="headerlink" title="例1：每晚的21:30重启apache。"></a>例 1：每晚的 21:30 重启 apache。</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">30 21 * * * /usr/local/etc/rc.d/lighttpd restart</span><br></pre></td></tr></tbody></table></figure>
<h4 id="例2：每月1、10、22日的4-45重启apache。"><a href="#例2：每月1、10、22日的4-45重启apache。" class="headerlink" title="例2：每月1、10、22日的4 : 45重启apache。"></a>例 2：每月 1、10、22 日的 4 : 45 重启 apache。</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">45 4 1,10,22 * * /usr/local/etc/rc.d/lighttpd restart</span><br></pre></td></tr></tbody></table></figure>
<h4 id="例3：每周六、周日的1-10重启apache。"><a href="#例3：每周六、周日的1-10重启apache。" class="headerlink" title="例3：每周六、周日的1 : 10重启apache。"></a>例 3：每周六、周日的 1 : 10 重启 apache。</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">10 1 * * 6,0 /usr/local/etc/rc.d/lighttpd restart</span><br></pre></td></tr></tbody></table></figure>
<h4 id="例4：每天18-00至23-00之间每隔30分钟重启apache。"><a href="#例4：每天18-00至23-00之间每隔30分钟重启apache。" class="headerlink" title="例4：每天18 : 00至23 : 00之间每隔30分钟重启apache。"></a>例 4：每天 18 : 00 至 23 : 00 之间每隔 30 分钟重启 apache。</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">0,30 18-23 * * * /usr/local/etc/rc.d/lighttpd restart</span><br></pre></td></tr></tbody></table></figure>
<h4 id="例5：每星期六的11-00-pm重启apache。"><a href="#例5：每星期六的11-00-pm重启apache。" class="headerlink" title="例5：每星期六的11 : 00 pm重启apache。"></a>例 5：每星期六的 11 : 00 pm 重启 apache。</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">0 23 * * 6 /usr/local/etc/rc.d/lighttpd restart</span><br></pre></td></tr></tbody></table></figure>
<h4 id="例6：每一小时重启apache"><a href="#例6：每一小时重启apache" class="headerlink" title="例6：每一小时重启apache"></a>例 6：每一小时重启 apache</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">* */1 * * * /usr/local/etc/rc.d/lighttpd restart</span><br></pre></td></tr></tbody></table></figure>
<h4 id="例7：晚上11点到早上7点之间，每隔一小时重启apache。"><a href="#例7：晚上11点到早上7点之间，每隔一小时重启apache。" class="headerlink" title="例7：晚上11点到早上7点之间，每隔一小时重启apache。"></a>例 7：晚上 11 点到早上 7 点之间，每隔一小时重启 apache。</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">* 23-7/1 * * * /usr/local/etc/rc.d/lighttpd restart</span><br></pre></td></tr></tbody></table></figure>
<h4 id="例8：每月的4号与每周一到周三的11点重启apache。"><a href="#例8：每月的4号与每周一到周三的11点重启apache。" class="headerlink" title="例8：每月的4号与每周一到周三的11点重启apache。"></a>例 8：每月的 4 号与每周一到周三的 11 点重启 apache。</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">0 11 4 * mon-wed /usr/local/etc/rc.d/lighttpd restart</span><br></pre></td></tr></tbody></table></figure>
<h4 id="例9：一月一号的4点重启apache。"><a href="#例9：一月一号的4点重启apache。" class="headerlink" title="例9：一月一号的4点重启apache。"></a>例 9：一月一号的 4 点重启 apache。</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">0 4 1 jan * /usr/local/etc/rc.d/lighttpd restart</span><br></pre></td></tr></tbody></table></figure>
<h4 id="例10：每10分钟执行一次任务。"><a href="#例10：每10分钟执行一次任务。" class="headerlink" title="例10：每10分钟执行一次任务。"></a>例 10：每 10 分钟执行一次任务。</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">*/10 * * * * /scripts/test.sh</span><br></pre></td></tr></tbody></table></figure>
<h4 id="例11：在某个月的第一个周日执行任务。"><a href="#例11：在某个月的第一个周日执行任务。" class="headerlink" title="例11：在某个月的第一个周日执行任务。"></a>例 11：在某个月的第一个周日执行任务。</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">0 2 * * sun  [ $(date +%d) -le 07  ] &amp;&amp; /script/test.sh</span><br></pre></td></tr></tbody></table></figure>
<h4 id="例12：每个30秒执行一次任务。"><a href="#例12：每个30秒执行一次任务。" class="headerlink" title="例12：每个30秒执行一次任务。"></a>例 12：每个 30 秒执行一次任务。</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">* * * * * /scripts/test.sh</span><br><span class="line">* * * * *  sleep 30; /scripts/test.sh</span><br></pre></td></tr></tbody></table></figure>
<h4 id="例13：按年、月、周、日、小时执行一次任务。"><a href="#例13：按年、月、周、日、小时执行一次任务。" class="headerlink" title="例13：按年、月、周、日、小时执行一次任务。"></a>例 13：按年、月、周、日、小时执行一次任务。</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">@yearly /scripts/test.sh</span><br></pre></td></tr></tbody></table></figure>
<p>@yearly 类似于 “0 0 1 1 *”。它会在每年的第一分钟内执行，通常我们可以用这个发送新年的问候。<br><br>@monthly 代表每月。<br><br>@weekly 代表每周。<br><br>@daily  代表每日。<br><br>@hourly 代表每小时。</p>
<h4 id="例14：系统重启时执行。"><a href="#例14：系统重启时执行。" class="headerlink" title="例14：系统重启时执行。"></a>例 14：系统重启时执行。</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">@reboot /scripts/test.sh</span><br></pre></td></tr></tbody></table></figure>

<h3 id="查看crontab任务清单"><a href="#查看crontab任务清单" class="headerlink" title="查看crontab任务清单"></a>查看 crontab 任务清单</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">crontab -l</span><br></pre></td></tr></tbody></table></figure>

<h3 id="更改crontab编辑器为vim"><a href="#更改crontab编辑器为vim" class="headerlink" title="更改crontab编辑器为vim"></a>更改 crontab 编辑器为 vim</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">export EDITOR=vim</span><br><span class="line">/etc/init.d/cron restart</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
  </entry>
  <entry>
    <title>Mikrotik ROS 各平台和版本的说明</title>
    <url>/2018/11/30/Mikrotik-ROS%E5%90%84%E5%B9%B3%E5%8F%B0%E5%92%8C%E7%89%88%E6%9C%AC%E7%9A%84%E8%AF%B4%E6%98%8E/</url>
    <content><![CDATA[<p>最近想更换虚拟化平台到 proxmox VE，牵扯到原来很多虚拟机要转移平台。原来 ROS 的 OVA 文件也用不了了，所以只能另外想办法。之后发现原来 ROS 有专门针对虚拟机的版本 CHR 版，就去了解了一下。现在把各版本了解的情况做个笔记！<br>先来张图：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROSver.jpg"><br>RouterOS 的硬件平台分为很多种，你要区分自己的硬件是那种 RouterOS 软件包，官方也会有说明，如果你是 RouterOS 在线升级就系统会自动识别硬件平台，</p>
<p>灰色条上可以看到硬件平台命名和对应硬件型号，下面特别说明下：</p>
<ul>
<li>mipsbe – 对应所有 Atheros 芯片的 RB400、700、900、2011 系列产品和 RBSXT、OmniTIK、Groov 等采用 MIPS-BE</li>
<li>mipsle – 对应 RB100 系列和 RB500 系列（RB133、RB133c、RB150、RB192、RB532）MIPS 4Kc 芯片</li>
<li> tile – 对应基于 tilera-gx 构架的 CCR1016 和 CCR1036 系列</li>
<li> ppc – 对应 RB300、RB600、RB800 和 RB1000 系列（RB333、RB600、RB800、RB1000、RB1100/AH/AHx2 和 RB1200）PowerPC 芯片</li>
<li> arm – 对应 ARM 芯片的 RB3011、hAP ac2 和 RB1100AHx4</li>
<li>x86 – 对应所有 x86 构架的 PC 设备（AMD、Intel、VIA 和其他 x86 PC）</li>
<li>smips – 对应 hAP 设备，如 hAP lite 和 hAP ac 等</li>
</ul>
<p>选择号自己的硬件平台后，就可以选择下载 RouterOS 的版本，版本一共有 3 种，而且每种会有两个包 Main package 和 Extra packetages，如何选择？</p>
<p>Main package 和 Extra packetages，两种功能个包都可以用于升级 RouterOS，他们区别是：</p>
<p>Main package 能用于 netinstall 的安装，也可以用于升级。<br>Extra packages 为 zip 压缩文件，里面包含基本的系统包和各种功能扩展包，根据功能需要选择上传升级，不能用于 netinsatll 的安装。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROSver1.jpg"><br>CHR 版专门运行在虚拟环境中</p>
<ul>
<li>VHDX image - 对应 VHDX 虚拟机文件。</li>
<li>VMDK image - 对应 VMDK 虚拟机文件，大多数虚拟机用的这种。</li>
<li>VDI image - 对应 VDI 虚拟机文件。</li>
<li>Raw disk image - 对应 RAW 虚拟机文件。</li>
<li>Extra packages - 虚拟机版功能包。</li>
</ul>
<p><code>Long-term</code> 为对之前一个版本的 bug 修正，bugfix 类似于老版本修补的稳定版<br><code>Stable</code> 为当前发行版本，Current 是当前发行版本，相对稳定的版本<br><code>Testing</code> 为开发中的候选版本，也就是开发版，rc 开发候选版本一般会有新功能加入，喜欢尝鲜的朋友可以更新测试。</p>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>ROS</tag>
      </tags>
  </entry>
  <entry>
    <title>[原创] 利用 vim 实现 HEXO 文章按更新时间自动排序</title>
    <url>/2018/11/25/%E5%88%A9%E7%94%A8vim%E5%AE%9E%E7%8E%B0HEXO%E6%96%87%E7%AB%A0%E6%8C%89%E6%9B%B4%E6%96%B0%E6%97%B6%E9%97%B4%E6%8E%92%E5%BA%8F/</url>
    <content><![CDATA[<p>2019-02-08 01:15:19 更新：<br>    发现 vim 自动添加修改时间代码有几个打错字的地方，更正了一下。</p>
<hr>
<p>玩 hexo 博客也有段时间了，自己写一个原创实现 hexo 文章按更新时间排序的方法。为什么要写这个呢？因为确实网上找不到！！我找了好久，要么就是不能实现，要么就是不够方便。还需要通过手动添加时间或索引值来进行排序。<br>我这个方法是全自动，完全不用手工参与，修改完保存。就会自动将最新修改的文章，排到前面。废话不多说，开始搞！</p>
<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>Hexo 首页的文章列表默认是通过文章建立的日期来排序的，也就是最新的文章排在最前面。</p>
<p>但是，有时候我的文章会持续更新，我希望将我更新后的文章放到最前面。但是只要 md 文件一建立，<code>date:</code> 标签上的值就不会再变更了。</p>
<p>网上有人说 hexo 有提供 <code>updated:</code> 这个参数，只需要将主站配置文件<code>_config.yml</code> 的 <code>order_by: -date</code> 修改成 <code>order_by: -updated</code> 就可以了，实际上是不完全对的。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">index_generator:</span><br><span class="line">  path: ''</span><br><span class="line">  per_page: 10</span><br><span class="line">  order_by: -updated</span><br></pre></td></tr></tbody></table></figure>

<h3 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h3><p>HEXO 排序确实是有 <code>updated:</code> 这个参数，但是问题的关键不在于这个参数，而是只要你建立了 MD 博客文件，<code>date:</code> 和 <code>updated:</code> 这二个参数都不会按你的修改时间自动更新的。<br>所以按更新时间排序，只需将 <code>date:</code> 或 <code>updated:</code> 的时间，改成你修改完成后的时间。然后在<code>_config.yml</code> 主站文件中，使用 <code>order_by: -date</code> 还是 <code>order_by: -updated</code> 这二种参数中的任意一个都是有效的。</p>
<h3 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h3><p>1、手动修改 <code>date:</code> 或 <code>updated:</code> 的时间。<br>2、通过快捷键实现自动插入当前时间。<br>3、自动在保存时，将 <code>date:</code> 或 <code>updated:</code> 的时间改成当前时间。</p>
<h4 id="手动修改"><a href="#手动修改" class="headerlink" title="手动修改"></a>手动修改</h4><p>这个我就不说了，直接在博文中把时间改成当前时间就好了。</p>
<h4 id="快捷键修改"><a href="#快捷键修改" class="headerlink" title="快捷键修改"></a>快捷键修改</h4><p>我使用的是 vim, 所以讲一下 vim 实现快捷键插入时间的方法。其它编辑器的可以自己查看相关文档。<br>打开 <code>~/.vimrc</code> 的 vim 配置文件。将下面的代码添加到最后，保存退出。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">:nnoremap &lt;F6&gt; "=strftime("%F %H:%M:%S")&lt;CR&gt;gP</span><br><span class="line">:inoremap &lt;F6&gt; &lt;C-R&gt;=strftime("%F %H:%M:%S")&lt;CR&gt;</span><br></pre></td></tr></tbody></table></figure>
<p>再用 vim 打开你的文章或者任意文件，按<f6>就可以插入当前时间了。</f6></p>
<h4 id="终级大招：保存后自动修改"><a href="#终级大招：保存后自动修改" class="headerlink" title="终级大招：保存后自动修改"></a>终级大招：保存后自动修改</h4><p>vim 的强大之处，是他支持很多相关事件。我们这次用到的是 <code>autocmd</code>。<br>先将<code>_config.yml</code> 主站配置文件中的 <code>order_boy:</code> 修改成 <code>order_by: -updated</code>, 按 <code>updated</code> 这个参数来排序。<br>编辑 <code>~/scaffolds/post.md</code> 模版文件，在文件头加入下面的内容，后保存退出。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">title: {{ title  }}</span><br><span class="line">date: {{ date }}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p>接着打开 <code>~/.vimrc</code> 的 vim 配置文件。将下面的代码添加到最后，保存退出。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">autocmd BufWrite,BufWritePre,FileWritePre *.md ks|call LastModified()|'s</span><br><span class="line">func LastModified()</span><br><span class="line">    if line("$") &gt; 20</span><br><span class="line">        let l = 20</span><br><span class="line">    else</span><br><span class="line">        let l = line("$")</span><br><span class="line">    endif</span><br><span class="line">    exe "1,".l."g/</span><br><span class="line">        \strftime(" %F %H:%M:%S" ) . "/e"</span><br><span class="line">endfunc</span><br></pre></td></tr></tbody></table></figure>
<p>当我们新建 md 文章时，会自动添加创建时间。而当我们用 vim 编辑器修改 md 文章之后，vim 保存退出后会自动将 <code>updated:</code> 的值，修改成当前时间。这样就完美实现了文章自动排序。快去试试吧！！<br>当然小伙伴们也可以把快捷键修改的内容也添加进去。这二者是没有冲突的，可以一起使用。</p>
]]></content>
      <categories>
        <category>原创</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>vim</tag>
      </tags>
  </entry>
  <entry>
    <title>[原创] 图床从七牛云迁移到腾讯 COS 折腾笔记</title>
    <url>/2018/11/21/%E5%9B%BE%E5%BA%8A%E4%BB%8E%E4%B8%83%E7%89%9B%E4%BA%91%E8%BF%81%E7%A7%BB%E5%88%B0%E8%85%BE%E8%AE%AFCOS/</url>
    <content><![CDATA[<h3 id="引子"><a href="#引子" class="headerlink" title="引子"></a>引子</h3><p>我用的是七牛图床，最近写博客发现图片能上传，但是获取外链地址时出现 <code>[5402] 获取 bucket 域名失败</code>，导致图片无法使用外链地址。后面上网一查，才发现是测试域名被收回了。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ql2cos.jpg"><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ql2cos1.jpg"><br>此时心中一万个不爽！官方解决方法就是要绑字一个已备案的域名来替代。一个博客而以，还要用到网站备案嘛？所以我打算找替代方法，将图床迁移出。比较了国内几个比较知名的站（又拍云，新浪相册，yupoo)。最后选择了腾讯 COS。</p>
<h3 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h3><p>因为我使用的系统是 debian。所以下文是以 linux 为系统环境的。<br>在网上找了一些关于七牛云迁移到腾讯 COS 的文章，执行起来几乎都有问题。这里我把折腾的迁移方案记录下来，给大伙一个参考！</p>
<h4 id="使用qshell转移bucket文件到另一个bucket"><a href="#使用qshell转移bucket文件到另一个bucket" class="headerlink" title="使用qshell转移bucket文件到另一个bucket."></a>使用 <code>qshell</code> 转移 bucket 文件到另一个 bucket.</h4><p>文档说明：<a href="https://developer.qiniu.com/kodo/tools/1302/qshell">命令行工具 (qshell)</a></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">wget http://devtools.qiniu.com/qshell-v2.3.0.zip?ref=developer.qiniu.com   #下载qshell</span><br><span class="line">unzip qshell-v2.3.0.zip\?ref\=developer.qiniu.com   #解压缩qshell</span><br><span class="line">mv qshell_linux_x64 qshell   #重命名qshell命令</span><br></pre></td></tr></tbody></table></figure>
<p>有了这个命令行工具，还需要知道七牛的 <code>AK</code> 和 <code>SK</code> 和<code>七牛用户名</code><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ql2cos2.jpg"><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ql2cos3.jpg"><br>运行命令：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">./qshell account &lt;AK&gt; &lt;SK&gt; 七牛用户名</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ql2cos4.jpg"><br>运行之后确认是否成功！</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">./qshell user ls</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ql2cos5.jpg"></p>
<p>然后导出 bucket 文件信息</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">./qshell listbucket blog &gt; kkk.txt    #blog是我的储存空间名，需要改成自己的。</span><br><span class="line">cat kkk.txt | awk '{print $1}' &gt; list.txt     #格式化文件信息，切割出文件名。</span><br></pre></td></tr></tbody></table></figure>
<p>接着先在七牛云上，再新建一个储存空间 <code>temp</code>。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ql2cos6.jpg"><br>将文件转移到储存空间 <code>temp</code> 上。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">./qshell batchcopy blog temp -i list.txt</span><br></pre></td></tr></tbody></table></figure>
<p>把过期的文件列表搬迁到新的存储空间，会出现让输入一个确认字符串，照着输入就行。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ql2cos7.jpg"></p>
<h4 id="批量下载到本地"><a href="#批量下载到本地" class="headerlink" title="批量下载到本地"></a>批量下载到本地</h4><p>因为要迁移到腾讯 COS，自然要把图片下载下来，不过在网页端只能一张张图片下载，还好 qshell 提供了 qdownload 可以批量下载文件，不过官网给出的 api 文档特别标注了，这个接口默认是要收费的：配置【该功能默认需要计费，如果希望享受 10G 的免费流量，请自行设置 cdn_domain 参数，如不设置，需支付源站流量费用，无法减免！！！】</p>
<p>相关文档：<a href="https://github.com/qiniu/qshell/blob/master/docs/qdownload.md">qdownload</a></p>
<p>什么要收费！？</p>
<p>收费是不可能收费的，这辈子都不可能收费的！<br>先运行下面的命令</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">mkdir /mnt/qldownload</span><br><span class="line">nano batch_download.conf</span><br></pre></td></tr></tbody></table></figure>
<p>将下面的内容复制进去，然后保存退出。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">{</span><br><span class="line">    "dest_dir" : "/mnt/qldownload",</span><br><span class="line">    "bucket" : "temp", </span><br><span class="line">    "prefix" : "",</span><br><span class="line">    "suffixes" : "",</span><br><span class="line">    "cdn_domain" : "http://pgiolcvny.bkt.clouddn.com",</span><br><span class="line">    "referer" : "",</span><br><span class="line">    "log_file" : "download.log",</span><br><span class="line">    "log_level" : "info",</span><br><span class="line">    "log_rotate" : 1,</span><br><span class="line">    "log_stdout" : false</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<div class="note danger"><p>注意：”cdn_domain” 后面的地址要改成你自己的。<br> 注意：”cdn_domain” 后面的地址要改成你自己的。<br> 注意：”cdn_domain” 后面的地址要改成你自己的。 </p>
</div>
<p>下面是”cdn_domain” 地址的截图，根据自己的来修改。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ql2cos8.jpg"><br>运行命令下载图片资源</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">./qshell qdownload -c 10 batch_download.conf </span><br></pre></td></tr></tbody></table></figure>
<p>正常的话，图片就会下载到 <code>/mnt/qldownload</code> 这个目录下了。</p>
<h3 id="上传到腾讯COS"><a href="#上传到腾讯COS" class="headerlink" title="上传到腾讯COS"></a>上传到腾讯 COS</h3><p>把所有的文件下载下来之后，然后还需要把文件上传到 COS，这样图片才可以作为资源被外部访问，如果你之前没有使用过对象存储服务，还需要先创建一个存储桶，记住权限要设置成对外可读 (不然别人也访问不了), 然后把这些文件上传到这个存储桶里边，这个在网页上就可以直接操作，可以批量把刚才下载的都上传了。官方也有文件管理软件 <a href="https://cloud.tencent.com/document/product/436/11366">COS Browser</a>，上传下载图片还是挺方便的。<br>首先在腾讯 COS 上新建一个存储桶，访问权限设置成<code>公有读私有写</code><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ql2cos9.jpg"><br>进入密钥管理<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ql2cos10.jpg"><br>新建密钥<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ql2cos11.jpg"><br>下载安装 <a href="https://cloud.tencent.com/document/product/436/11366">COS Browser</a><br>登陆介面输入 <code>Secretld</code> 和 <code>SecretKey</code><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ql2cos12.jpg"><br>将刚才下载的图片资源上传到腾讯 COS<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ql2cos13.jpg"></p>
<h3 id="批量替换博文里七牛云链接"><a href="#批量替换博文里七牛云链接" class="headerlink" title="批量替换博文里七牛云链接"></a>批量替换博文里七牛云链接</h3><p>到这就剩最后一步了，将原来博客里的七牛云的图片链接全部替换成腾讯 COS 的域名。老域名可以看你自己的博客文件，例如我的是 <code>http://7xn9y9.com1.z0.glb.clouddn.com</code>, 然后新的域名可以直接在腾讯云控制台，点开一张你上传过的图片查看，我的是 <code>https://blog-1254094716.cos.ap-chengdu.myqcloud.com</code>. 具体的文件名因为都是一样的编码方式，所以只用替换域名就行，这里可以用 <code>sed</code> 命令来批量操作。<br>进入自己的博客主目录运行</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">cd source/_post </span><br><span class="line">sed s#(http://7xn9y9.com1.z0.glb.clouddn.com#(https://blog-1254094716.cos.ap-chengdu.myqcloud.com#g *.md</span><br></pre></td></tr></tbody></table></figure>
<p>替换时，先不要加 <code>-i</code> 参数，等确认替换的内容没有问题之后再添加 <code>-i</code> 进行替换。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">sed -i s#(http://7xn9y9.com1.z0.glb.clouddn.com#(https://blog-1254094716.cos.ap-chengdu.myqcloud.com#g *.md</span><br></pre></td></tr></tbody></table></figure>
<p>备注： 之所以替换的链接带上 (是为了防止误伤，比如这边文章里就有七牛的域名链接地址，但是图片链接在 MarkDown 写法里都是放在括号里的，所以记得这么替换就行)</p>
<p>至此已全部完成迁移！</p>
]]></content>
      <categories>
        <category>原创</category>
      </categories>
  </entry>
  <entry>
    <title>[原创] Rtorrent-Rutorrent V3.8 端口检测状态未启用的解决方法</title>
    <url>/2018/11/09/rtorrent-rutorrent-V3-8-%E7%AB%AF%E5%8F%A3%E6%A3%80%E6%B5%8B%E7%8A%B6%E6%80%81%E6%9C%AA%E5%90%AF%E7%94%A8%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<p>rtorrent+rutorrent 不清楚哪个版本之后，web 上显示的端口状态一定是未知的。</p>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_rtorrent21.png"></p>
<p>看了好多资料发现很多人都有这个问题，但是没有解决方法。现在把我的解决方法发出来，大家一起学习。<br>其实这个问题的原因是 rutorrent 在某个版本的时候 check_port 插件把端口检测网站给换了，现在这个网站有问题所以导致无法正确的显示端口状态。</p>
<p>知道问题就简单了，下载可以使用的 check_port 插件。然后替换掉现在的就好了。</p>
<p>下面给出正常使用的 check_port 插件的替换方法。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">wget https://github.com/xmzcl/rtorrent-rutorrent/raw/master/3.6.zip</span><br><span class="line">unzip 3.6.zip</span><br><span class="line">cd 3.6</span><br><span class="line">cp -r * /var/www/html/rt/plugins/check_port</span><br></pre></td></tr></tbody></table></figure>
<p>接着重启 rutorrent 就可以看到端口状态已经显示正常了。</p>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_rtorrent20.png"></p>
<div class="note danger"><p>注意：<code>var/www/html/rt</code> 是我放 rutorrent 的目录，这个目录要根据自己的来改变 </p>
</div>


]]></content>
      <categories>
        <category>原创</category>
      </categories>
  </entry>
  <entry>
    <title>通过 chrome 的 console 来验证 xpath 和 css</title>
    <url>/2018/11/07/%E9%80%9A%E8%BF%87chrome%E7%9A%84console%E6%9D%A5%E9%AA%8C%E8%AF%81xpath%E5%92%8Ccss/</url>
    <content><![CDATA[<p>在学习爬虫的时候，经常需要验证一下 xpath 等语法是不是自己想抓取的内容，所以出现了很多用来验证 xpath/css 的插件，但是如果你安装了 chrome，其实完全可以不用使用这些插件的。chrome 的 console 就可以验证 xpath 和 css。<br>首先打开你要测试的网站，然后按下 F12 就可以打开开发者调试工具了，console 就嵌套在调试工具里。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_xpath1.png"><br>现在，你可以在 console 中测试你的 xpath 或者 css 了。</p>
<p>测试语法是 $x (“your_xpath_selector”)。注意：语法中括号里需要通过双引号括起来，如果 xpath 语句中有双引号，要改成单引号，不然只能解析到第一对双引号的内容<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_xpath2.png"><br>测试 css 的语法是 -$(“”)</p>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_xpath3.png"></p>
<p>输入完毕后，点击回车键。如果你的语句是正确的，会返回该 css 对应的元素的 html 语句。</p>
<p>如果鼠标停留在 console 中的这个 html 语句上，界面上对应的元素会高亮显示。</p>
<p>ctrl+L 快捷键：清空 console 内容。</p>
<p>这样就可以不用使用其他插件啦。</p>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
  </entry>
  <entry>
    <title>[原创] KODI 利用 emby 插件组建家庭及移动多媒体中心详细步骤</title>
    <url>/2018/10/23/KODI%E5%88%A9%E7%94%A8emby%E6%8F%92%E4%BB%B6%E7%BB%84%E5%BB%BA%E5%AE%B6%E5%BA%AD%E5%8F%8A%E7%A7%BB%E5%8A%A8%E5%A4%9A%E5%AA%92%E4%BD%93%E4%B8%AD%E5%BF%83-%E4%BF%9D%E5%A7%86%E7%BA%A7%E8%AF%B4%E6%98%8E/</url>
    <content><![CDATA[<h3 id="启动Kodi"><a href="#启动Kodi" class="headerlink" title="启动Kodi"></a>启动 Kodi</h3><ul>
<li>进入设置<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_kodi1.png"></li>
<li>添加 Emby 安装源<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_kodi2.png"><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_kodi3.png"></li>
<li>在地址入输入 <code>http://kodi.emby.media</code> , 然后起个名字。OK！<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_kodi4.png"></li>
</ul>
<h3 id="接着将Kodi设置成中文"><a href="#接着将Kodi设置成中文" class="headerlink" title="接着将Kodi设置成中文"></a>接着将 Kodi 设置成中文</h3><ul>
<li>选择 <code>Interface setting</code><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_kodi5.png"></li>
<li>将字体改成 <code>Arial based</code><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_kodi6.png"><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_kodi7.png"></li>
<li>进入 <code>Regional</code> 的 <code>Language</code><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_kodi8.png"></li>
<li>选择 <code>Chinese(Simple)</code>，简体中文。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_kodi9.png"></li>
</ul>
<h3 id="回到首页，进入插件选项。"><a href="#回到首页，进入插件选项。" class="headerlink" title="回到首页，进入插件选项。"></a>回到首页，进入插件选项。</h3><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_kodi10.png"></p>
<ul>
<li>选择<code>从zip文件安装</code><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_kodi11.png"><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_kodi12.png"></li>
<li>开启未知来源安装插件。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_kodi13.png"><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_kodi14.png"></li>
<li>选择文章前面添加的 emby 源<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_kodi15.png"></li>
<li>选择 <code>repository.beta.emby.kodi-10.05.zip</code>, 然后确定。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_kodi16.png"></li>
<li>接着<code>进入插件浏览</code><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_kodi17.png"></li>
<li>安装 <code>Embycon</code> 和 <code>Emby</code><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_kodi18.png"></li>
<li>先安装 <code>Embycon</code><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_kodi19.png"></li>
<li>接着安装 <code>Emby</code><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_kodi20.png"></li>
<li>然后运行 <code>Emby</code><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_kodi21.png"></li>
<li>选择 <code>Manually add server</code><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_kodi22.png"></li>
<li>在 <code>Host</code> 中输入你 Emby 服务器的地址后连接。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_kodi23.png"></li>
<li>输入你设置的登陆 Emby 时需要的用户名和密码。(如果你没有设置用户名和密码，这步可以跳过)<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_kodi24.png"></li>
<li>登陆上之后，会有提示。是否立即同步 emby 内的视频。选择 <code>Proceed</code>。选择之后还会有一个需要确认的地方，选择确认。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_kodi25.png"></li>
<li>现在你就可以在 KODI 中的电影中，看到你 Emby 服务中的视频了。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_kodi26.png"></li>
<li>可以在<code>选项</code>中，选择电影视频的显示方式。以达到自己最喜欢的海报效果。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_KODI100.png"></li>
<li>10G 左右的文件，直接本地解码。不占用 CPU 资源<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_KODI105.png"><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_KODI101.png"></li>
<li>解码 40G 视频文件，开启转码。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_KODI103.png"><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_KODI104.png"></li>
</ul>
]]></content>
      <categories>
        <category>原创</category>
      </categories>
      <tags>
        <tag>KODI</tag>
        <tag>Emby</tag>
      </tags>
  </entry>
  <entry>
    <title>将 Vim 配置成超级强大的编辑器</title>
    <url>/2018/10/17/Vim%E9%85%8D%E7%BD%AE%E6%88%90%E8%B6%85%E7%BA%A7%E5%BC%BA%E5%A4%A7%E7%9A%84%E7%BC%96%E8%BE%91%E5%99%A8/</url>
    <content><![CDATA[<h2 id="自己使用VIM也有段时间了，之前都是自己简单的改一些设置。配置始终无法满足自己的要求。在linux下一切皆文件，有一个好用的编辑器可以让你的效率事半功倍。所以自己花了些时间把VIM研究了一下-将配置方法做个记录。首先上几个效果图-YouCompleteMe-Vim-startify-Vim-airline-Vim-cpp-mode-Vim-commentary-Vim-auto-pairs-Vim-surround-Vim-easymotion-Vim-markdown-preview-Vim-devicons"><a href="#自己使用VIM也有段时间了，之前都是自己简单的改一些设置。配置始终无法满足自己的要求。在linux下一切皆文件，有一个好用的编辑器可以让你的效率事半功倍。所以自己花了些时间把VIM研究了一下-将配置方法做个记录。首先上几个效果图-YouCompleteMe-Vim-startify-Vim-airline-Vim-cpp-mode-Vim-commentary-Vim-auto-pairs-Vim-surround-Vim-easymotion-Vim-markdown-preview-Vim-devicons" class="headerlink" title="自己使用VIM也有段时间了，之前都是自己简单的改一些设置。配置始终无法满足自己的要求。在linux下一切皆文件，有一个好用的编辑器可以让你的效率事半功倍。所以自己花了些时间把VIM研究了一下,将配置方法做个记录。首先上几个效果图* YouCompleteMe* Vim-startify* Vim-airline* Vim-cpp-mode* Vim-commentary* Vim-auto-pairs* Vim-surround* Vim-easymotion* Vim-markdown-preview* Vim-devicons"></a>自己使用 VIM 也有段时间了，之前都是自己简单的改一些设置。配置始终无法满足自己的要求。在 linux 下一切皆文件，有一个好用的编辑器可以让你的效率事半功倍。所以自己花了些时间把 VIM 研究了一下，将配置方法做个记录。<br>首先上几个效果图<br>* YouCompleteMe<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_vim.gif"><br>* Vim-startify<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_vim-startify.png"><br>* Vim-airline<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_vim-airline.gif"><br>* Vim-cpp-mode<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_vim-cpp-mode.gif"><br>* Vim-commentary<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_vim-commentary.gif"><br>* Vim-auto-pairs<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_vim-auto-pairs.gif"><br>* Vim-surround<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_vim-surround.gif"><br>* Vim-easymotion<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_vim-easymotion.gif"><br>* Vim-markdown-preview<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_vim-markdown-preview.gif"><br>* Vim-devicons<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_vim-devicons.png"></h2><p>2018-11-22 更新：<br>今天在纯净 debian 下试了一下，上次更新的代码。发现有问题，装不上。(原来可以正常安装可能是因为我已经把依赖库都已经安装好了，所以没有问题！)。<br>研究了一下 <code>chxuan</code> 大大的 shell 脚本。发现有些地方不适合 debian。自己修改了一下。下面给出安装方法</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">apt-get install -y git</span><br><span class="line">git clone https://github.com/chxuan/vimplus.git ~/.vimplus</span><br><span class="line">cd ~/.vimplus</span><br><span class="line">sed -i 's/sudo apt-get install -y ctags build-essential cmake python-dev python3-dev fontconfig curl libfile-next-perl ack-grep/apt-get install -y ctags build-essential cmake python-dev python3-dev fontconfig curl libfile-next-perl ack-grep fontconfig/' install.sh</span><br><span class="line">sed -i 's/sudo apt-get install -y vim/apt-get install -y vim-nox/' install.sh</span><br><span class="line">./install.sh</span><br></pre></td></tr></tbody></table></figure>




<hr>
<p>2018-10-29 更新：</p>
<p>自己搞的复杂了，其实 Debian 下只需要用 apt-get 安装带有 python 支持的 vim 就可以了。不用编译安装 VIM 也是可以的。无所谓了，多一种选择也是好的。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">apt-get install vim-nox git</span><br><span class="line">git clone https://github.com/chxuan/vimplus.git ~/.vimplus</span><br><span class="line">cd ~/.vimplus</span><br><span class="line">./install.sh</span><br></pre></td></tr></tbody></table></figure>
<p>只需要这 4 行代码就可以了。是不是简单很多！</p>
<hr>
<h3 id="准备Vim编辑器"><a href="#准备Vim编辑器" class="headerlink" title="准备Vim编辑器"></a>准备 Vim 编辑器</h3><p>如果你要在 VIM 中增加诸如 YouCompleteMe 这一类的插件的话，那么你需要 VIM 有 Python 的支持，这个是在一开始编译的选项里指定的.</p>
<h4 id="检查VIM是否支持python"><a href="#检查VIM是否支持python" class="headerlink" title="检查VIM是否支持python"></a>检查 VIM 是否支持 python</h4><p>具体操作，运行：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">vim --version |grep python</span><br></pre></td></tr></tbody></table></figure>
<p>如果是下面的显示，说明没有加入 Python 支持。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">+cryptv +linebreak -python +viminfo</span><br><span class="line">-cscope +lispindent -python3 +vreplace</span><br></pre></td></tr></tbody></table></figure>
<p>这个时候如果使用 YouCompleteMe 这个插件，就会出现这样的警告：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">YouCompleteMe unavailable: requires Vim compiled with Python 2.x support</span><br></pre></td></tr></tbody></table></figure>
<h4 id="解决方法："><a href="#解决方法：" class="headerlink" title="解决方法："></a>解决方法：</h4><p>手工安装 VIM</p>
<ol>
<li>卸载自带的 VIM<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">apt-get remove vim vim-runtime gvim vim-tiny vim-common vim-gui-common vim-nox</span><br></pre></td></tr></tbody></table></figure></li>
<li>安装 vim 所需软件 <figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">apt-get install libncurses5-dev libgnome2-dev libgnomeui-dev \</span><br><span class="line">libgtk2.0-dev libatk1.0-dev libbonoboui2-dev \</span><br><span class="line">libcairo2-dev libx11-dev libxpm-dev libxt-dev python-dev \</span><br><span class="line">python3-dev ruby-dev lua5.1 liblua5.1-dev libperl-dev git checkinstall</span><br></pre></td></tr></tbody></table></figure></li>
<li>git 下载最新版 vim<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">cd ~</span><br><span class="line">git clone https://github.com/vim/vim.git</span><br></pre></td></tr></tbody></table></figure></li>
<li>配置 vim<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">cd ~/vim</span><br><span class="line">./configure --with-features=huge --enable-python3interp=yes --with-python-config-dir=/usr/lib/python2.7/config-x86_64-linux-gnu/ --enable-rubyinterp --enable-luainterp --enable-perlinterp --with-python3-config-dir=/usr/lib/python3.5/config-3.5m-x86_64-linux-gnu/ --enable-multibyte --enable-cscope --enable-gui=gtk2 --prefix=/usr/local</span><br><span class="line">make VIMRUNTIMEDIR=/usr/local/share/vim/vim81</span><br></pre></td></tr></tbody></table></figure></li>
</ol>
<p>参数说明如下:</p>
<table>
<thead>
<tr>
<th>参 数</th>
<th>功 能</th>
</tr>
</thead>
<tbody><tr>
<td> --with-features=huge</td>
<td> 支持最大特性</td>
</tr>
<tr>
<td> --enable-rubyinterp</td>
<td> 打开对 ruby 编写的插件的支持</td>
</tr>
<tr>
<td> --enable-pythoninterp</td>
<td> 打开对 python 编写的插件的支持</td>
</tr>
<tr>
<td> --enable-python3interp</td>
<td> 打开对 python3 编写的插件的支持</td>
</tr>
<tr>
<td> --enable-luainterp</td>
<td> 打开对 lua 编写的插件的支持</td>
</tr>
<tr>
<td> --enable-perlinterp</td>
<td> 打开对 perl 编写的插件的支持</td>
</tr>
<tr>
<td> --enable-multibyte</td>
<td> 打开多字节支持，可以在 Vim 中输入中文</td>
</tr>
<tr>
<td> --enable-cscope</td>
<td> 打开对 cscope 的支持</td>
</tr>
<tr>
<td> --with-python-config-dir=/usr/lib/python2.7/config-x86_64-linux-gnu/</td>
<td> 指定 python2 路径</td>
</tr>
<tr>
<td> --with-python-config-dir=/usr/lib/python3.5/config-3.5m-x86_64-linux-gnu/</td>
<td> 指定 python3 路径</td>
</tr>
</tbody></table>
<blockquote>
<p>python2 和 python3 最好只用其中一个，同时有二种会有问题。</p>
</blockquote>
<ol start="5">
<li>安装 vim</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">checkinstall</span><br></pre></td></tr></tbody></table></figure>
<p>
&gt; 使用 checkinstall 安装是为了方便以后可以使用 apt-get remove 来卸载 vim。

</p><h3 id="安装vimplus"><a href="#安装vimplus" class="headerlink" title="安装vimplus"></a>安装 vimplus</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">git clone https://github.com/chxuan/vimplus.git ~/.vimplus</span><br><span class="line">cd ~/.vimplus</span><br><span class="line">./install.sh</span><br></pre></td></tr></tbody></table></figure>

<p>安装 vimplus 时间需要比较长，耐心等待一会就好。自此 vim 配置大功告成！快去享受吧！</p>
<p>快捷键<br>以下是部分快捷键，更详细的快捷键请查阅 <a href="https://github.com/chxuan/vimplus/blob/master/help.md">vimplus 帮助文档</a></p>
<table>
<thead>
<tr>
<th>快捷键</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td> ,</td>
<td>Leader Key</td>
</tr>
<tr>
<td><leader>,n</leader></td>
<td> 打开 / 关闭代码资源管理器</td>
</tr>
<tr>
<td><leader> ,t</leader></td>
<td> 打开 / 关闭函数列表</td>
</tr>
<tr>
<td><leader> ,a</leader></td>
<td>.h .cpp 文件切换</td>
</tr>
<tr>
<td><leader> ,u</leader></td>
<td> 转到函数声明</td>
</tr>
<tr>
<td><leader> ,U</leader></td>
<td> 转到函数实现</td>
</tr>
<tr>
<td><leader> ,o</leader></td>
<td> 打开 include 文件</td>
</tr>
<tr>
<td><leader> ,y</leader></td>
<td> 拷贝函数声明</td>
</tr>
<tr>
<td><leader> ,p</leader></td>
<td> 生成函数实现</td>
</tr>
<tr>
<td><leader> ,w</leader></td>
<td> 单词跳转</td>
</tr>
<tr>
<td><leader> ,f</leader></td>
<td> 搜索～目录下的文件</td>
</tr>
<tr>
<td><leader> ,F</leader></td>
<td> 搜索当前目录下的文本</td>
</tr>
<tr>
<td><leader> ,g</leader></td>
<td> 显示 git 仓库提交记录</td>
</tr>
<tr>
<td><leader> G</leader></td>
<td> 显示当前文件提交记录</td>
</tr>
<tr>
<td><leader> gg</leader></td>
<td> 显示当前文件在某个 commit 下的完整内容</td>
</tr>
<tr>
<td><leader> ff</leader></td>
<td> 语法错误自动修复 (FixIt)</td>
</tr>
<tr>
<td><c-p></c-p></td>
<td> 切换到上一个 buffer</td>
</tr>
<tr>
<td><c-n></c-n></td>
<td> 切换到下一个 buffer</td>
</tr>
<tr>
<td><leader>，d</leader></td>
<td> 删除当前 buffer</td>
</tr>
<tr>
<td><leader>D</leader></td>
<td> 删除当前 buffer 外的所有 buffer</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>vim</tag>
      </tags>
  </entry>
  <entry>
    <title>debian 下安装使用 rtorrent+rutorrent 下载 PT 神器</title>
    <url>/2018/09/27/debian%E4%B8%8B%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8rtorrent-rutorrent%E4%B8%8B%E8%BD%BDPT%E7%A5%9E%E5%99%A8/</url>
    <content><![CDATA[<h2 id="Docker安装方法"><a href="#Docker安装方法" class="headerlink" title="Docker安装方法"></a>Docker 安装方法</h2><p>2018-12-05 更新:<br>今天写一下 rtorrent+rutorrent 用 docker 的实现方法。<br>首先你的电脑上先得安装好 docker。安装方法网上很多，自行百度。<br>装好之后运行下面的命令行就 OK 了。你没有看错，就是一行代码，就装好了。docker 会自动下载容器并运行。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">docker run -dt --name rtorrent-rutorrent --restart=always -p 8080:80 -p 49160:49160/udp -p 49161:49161 -v /mnt/raye/video:/downloads -e USR_ID=11000 -e GRP_ID=22000 -e PHP_MEM=1024M diameter/rtorrent-rutorrent:latest</span><br></pre></td></tr></tbody></table></figure>

<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>docker run -dt</code></td>
<td>运行一个后台容器。</td>
</tr>
<tr>
<td><code>--name rtorrent-rutorrent</code></td>
<td>运行的容器名。</td>
</tr>
<tr>
<td><code>--restart=always:</code></td>
<td>重启后容器自动运行。</td>
</tr>
<tr>
<td><code>-p 8080:80 -p 49160:49160/udp -p 49161:49161</code></td>
<td>映射到容器的端口号及协议。</td>
</tr>
<tr>
<td><code>-v /mnt/raye/video:/downloads</code></td>
<td>映射到容器里的文件夹。<code>/mnt/raye/video</code> 自行修改这部分的内容为自己要下载到的地方。</td>
</tr>
<tr>
<td><code>-e -e USR_ID=11000 -e GRP_ID=22000</code></td>
<td>设置下载文件的用户 ID 和组 ID。</td>
</tr>
<tr>
<td><code>-e PHP_MEM=1024M</code></td>
<td>增加 PHP 使用内容到 1024M</td>
</tr>
<tr>
<td><code>diameter/rtorrent-rutorrent:latest</code></td>
<td>latest 代表使用最新的版本。</td>
</tr>
</tbody></table>
<p>通过浏览器访问 <code>http://IP:8080</code>，就可以看到 rtorrent+rutorrent 了。</p>
<blockquote>
<p>说明一下：DOCKER 装的 rtorrent+rutorrent，要通过 Transdroid 手机 APP 访问和控制，SCGI 的挂载点应该是 <code>/RPC</code>。</p>
</blockquote>
<hr>
<h2 id="正常安装方法"><a href="#正常安装方法" class="headerlink" title="正常安装方法"></a>正常安装方法</h2><h3 id="安装所需软件"><a href="#安装所需软件" class="headerlink" title="安装所需软件"></a>安装所需软件</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">apt-get install rtorrent php screen wget unzip ffmpeg mediainfo sox unrar-free apache2</span><br></pre></td></tr></tbody></table></figure>

<h3 id="下载rutorrent"><a href="#下载rutorrent" class="headerlink" title="下载rutorrent"></a>下载 rutorrent</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">cd /var/www/html</span><br><span class="line">wget https://github.com/Novik/ruTorrent/archive/master.zip</span><br><span class="line">unzip master.zip</span><br><span class="line">mv ruTorrent-master rt</span><br><span class="line">rm -rf master.zip</span><br><span class="line">chmod -R 777 /var/www/html/rt</span><br></pre></td></tr></tbody></table></figure>

<h3 id="编辑-rtorrent-rc配置文件"><a href="#编辑-rtorrent-rc配置文件" class="headerlink" title="编辑.rtorrent.rc配置文件"></a>编辑<code>.rtorrent.rc</code> 配置文件</h3><p>在 <code>root</code> 目录下新建一个<code>.rtorrent.rc</code> 的文件。内容如下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># This is an example resource file for rTorrent. Copy to</span><br><span class="line"># ~/.rtorrent.rc and enable/modify the options as needed. Remember to</span><br><span class="line"># uncomment the options you wish to enable.</span><br><span class="line"></span><br><span class="line"># Maximum and minimum number of peers to connect to per torrent.</span><br><span class="line">#</span><br><span class="line">throttle.min_peers.normal.set = 10</span><br><span class="line">throttle.max_peers.normal.set = 512</span><br><span class="line"></span><br><span class="line"># Same as above but for seeding completed torrents (-1 = same as downloading)</span><br><span class="line">#</span><br><span class="line">throttle.min_peers.seed.set = -1</span><br><span class="line">throttle.max_peers.seed.set = -1</span><br><span class="line"></span><br><span class="line">#最大同时下载和上传插槽数(全局插槽！)(`max_downloads_global`，`max_uploads_global`)</span><br><span class="line">#throttle.max_downloads.global.set = 300</span><br><span class="line">#throttle.max_uploads.global.set   = 300</span><br><span class="line"></span><br><span class="line">#每个torrent同时下载和上传插槽的最大数量 </span><br><span class="line">throttle.max_uploads.set = 512</span><br><span class="line">#throttle.max_downloads.set = 512</span><br><span class="line"></span><br><span class="line">#设置发送到跟踪器的numwant字段，指示我们需要多少个对等体。负值禁用此功能。 默认值：`-1`（`tracker_numwant`）</span><br><span class="line">trackers.numwant.set = 100</span><br><span class="line"></span><br><span class="line"># Global upload and download rate in KiB. "0" for unlimited.</span><br><span class="line">#</span><br><span class="line">throttle.global_down.max_rate.set_kb = 0</span><br><span class="line">throttle.global_up.max_rate.set_kb = 0</span><br><span class="line"></span><br><span class="line"># Default directory to save the downloaded torrents.</span><br><span class="line">#</span><br><span class="line">directory.default.set = /mnt/video/download</span><br><span class="line"></span><br><span class="line"># Default session directory. Make sure you don't run multiple instance</span><br><span class="line"># of rtorrent using the same session directory. Perhaps using a</span><br><span class="line"># relative path?</span><br><span class="line">#</span><br><span class="line">session.path.set = /mnt/video/.session</span><br><span class="line"></span><br><span class="line"># Watch a directory for new torrents, and stop those that have been</span><br><span class="line"># deleted.</span><br><span class="line">#</span><br><span class="line">schedule2 = watch_directory,5,5,load.start=/mnt/video/.watch/*.torrent</span><br><span class="line">#*/</span><br><span class="line">#schedule2 = untied_directory,5,5,stop_untied=</span><br><span class="line"></span><br><span class="line"># Close torrents when diskspace is low.</span><br><span class="line">#</span><br><span class="line">schedule2 = low_diskspace,5,60,close_low_diskspace=300M</span><br><span class="line"></span><br><span class="line"># The ip address reported to the tracker.</span><br><span class="line">#</span><br><span class="line">#network.local_address.set = 127.0.0.1</span><br><span class="line">#network.local_address.set = rakshasa.no</span><br><span class="line"></span><br><span class="line"># The ip address the listening socket and outgoing connections is</span><br><span class="line"># bound to.</span><br><span class="line">#</span><br><span class="line">#network.bind_address.set = 127.0.0.1</span><br><span class="line">#network.bind_address.set = rakshasa.no</span><br><span class="line"></span><br><span class="line"># Port range to use for listening.</span><br><span class="line">#</span><br><span class="line">network.port_range.set = 49164-49164</span><br><span class="line"></span><br><span class="line"># Start opening ports at a random position within the port range.</span><br><span class="line">#</span><br><span class="line">network.port_random.set = no</span><br><span class="line"></span><br><span class="line"># Check hash for finished torrents. Might be usefull until the bug is</span><br><span class="line"># fixed that causes lack of diskspace not to be properly reported.</span><br><span class="line">#</span><br><span class="line">#pieces.hash.on_completion.set = no</span><br><span class="line"></span><br><span class="line"># Set whether the client should try to connect to UDP trackers.</span><br><span class="line">#</span><br><span class="line">#trackers.use_udp.set = yes</span><br><span class="line"></span><br><span class="line"># Alternative calls to bind and ip that should handle dynamic ip's.</span><br><span class="line">#</span><br><span class="line">#schedule2 = ip_tick,0,1800,ip=rakshasa</span><br><span class="line">#schedule2 = bind_tick,0,1800,bind=rakshasa</span><br><span class="line"></span><br><span class="line"># Encryption options, set to none (default) or any combination of the following:</span><br><span class="line"># allow_incoming, try_outgoing, require, require_RC4, enable_retry, prefer_plaintext</span><br><span class="line">#</span><br><span class="line"># The example value allows incoming encrypted connections, starts unencrypted</span><br><span class="line"># outgoing connections but retries with encryption if they fail, preferring</span><br><span class="line"># plaintext to RC4 encryption after the encrypted handshake</span><br><span class="line">#</span><br><span class="line"># protocol.encryption.set = allow_incoming,enable_retry,prefer_plaintext</span><br><span class="line"></span><br><span class="line"># Enable DHT support for trackerless torrents or when all trackers are down.</span><br><span class="line"># May be set to "disable" (completely disable DHT), "off" (do not start DHT),</span><br><span class="line"># "auto" (start and stop DHT as needed), or "on" (start DHT immediately).</span><br><span class="line"># The default is "off". For DHT to work, a session directory must be defined.</span><br><span class="line"># </span><br><span class="line">dht.mode.set = on</span><br><span class="line"></span><br><span class="line"># UDP port to use for DHT. </span><br><span class="line">#</span><br><span class="line">dht.port.set = 6881</span><br><span class="line"></span><br><span class="line"># Enable peer exchange (for torrents not marked private)</span><br><span class="line">#</span><br><span class="line">#protocol.pex.set = yes</span><br><span class="line"></span><br><span class="line"># Set downlad list layout style. ("full", "compact")</span><br><span class="line">#</span><br><span class="line">#ui.torrent_list.layout.set = "full"</span><br><span class="line"></span><br><span class="line"># SCGI Connectivity (for alternative rtorrent interfaces, XMLRPC)</span><br><span class="line">#</span><br><span class="line"># Use a IP socket with scgi_port, or a Unix socket with scgi_local.</span><br><span class="line"># schedule can be used to set permissions on the unix socket.</span><br><span class="line">#</span><br><span class="line">#scgi_port = 127.0.0.1:5000</span><br><span class="line">#scgi_local = /home/user/rtorrent/rpc.socket</span><br><span class="line">#schedule = scgi_permission,0,0,"execute.nothrow=chmod,\"g+w,o=\",/home/user/rtorrent/rpc.socket"</span><br><span class="line"></span><br><span class="line">peer_exchange = yes</span><br><span class="line">scgi_port = 127.0.0.1:5000</span><br><span class="line"></span><br><span class="line">#xmlrpc的最大包大小。 默认值：`524288`（xmlrpc_size_limit）</span><br><span class="line">network.xmlrpc.size_limit.set = 4M</span><br><span class="line"></span><br><span class="line">#每12小时保存所有会话，而不是默认的20分钟。</span><br><span class="line">#schedule2 = session_save, 1200, 43200, ((session.save))</span><br><span class="line"></span><br><span class="line">#发送和接收套接字的缓冲区大小。默认情况下禁用,增加缓冲区大小可能有助于减少磁盘搜索，连接轮询，因为每次都会缓冲更多数据socket被写入。它将导致更高的内存使用率（在rtorrent进程中不可见！）</span><br><span class="line">network.receive_buffer.size = 4M</span><br><span class="line">network.send_buffer.size = 16M</span><br><span class="line"></span><br><span class="line">#设置用于映射文件块的最大内存地址空间。这指的是内存映射，而不是物理内存分配。默认值：`1GB`</span><br><span class="line">pieces.memory.max.set = 2048M</span><br><span class="line"></span><br><span class="line">#rtrtrent可以接受/生成的最大连接数(`sockets`)</span><br><span class="line">network.max_open_sockets.set = 1024</span><br><span class="line"></span><br><span class="line">#同步HTTP请求的最大数量（由announce或scrape请求使用）默认值：`32`（`set_max_open_http`）</span><br><span class="line">network.http.max_open.set = 128</span><br><span class="line"></span><br><span class="line">#rtrtrent可以保持打开的最大打开文件数</span><br><span class="line">network.max_open_files.set = 1024</span><br><span class="line"></span><br><span class="line">#预加载一个文件。 默认值：`0`可能的值：`0`（关闭），`1`（Madvise），`2`（直接分页）。</span><br><span class="line">pieces.preload.type.set = 1</span><br><span class="line"></span><br><span class="line">#降低DNS超时。 默认值：`60`。</span><br><span class="line">network.http.dns_cache_timeout.set = 25</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<h3 id="建立下载目录"><a href="#建立下载目录" class="headerlink" title="建立下载目录"></a>建立下载目录</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">mkdir /mnt/video</span><br><span class="line">mkdir /mnt/video/.session</span><br><span class="line">mkdir /mnt/video/.watch</span><br><span class="line">chmod -R 777 /mnt/video</span><br></pre></td></tr></tbody></table></figure>
<p>下载目录可以自己修改：<br>修改第 33 行，将 <code>/mnt/video/download</code> 设置成你自己的默认下载目录</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">directory.default.set = /mnt/video/download </span><br></pre></td></tr></tbody></table></figure>
<p>修改第 39 行，将 <code>/mnt/video/.session</code> 设置成你自己保存 PT 缓存文件的目录</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">session.path.set = /mnt/video/.session</span><br></pre></td></tr></tbody></table></figure>
<p>修改第 44 行，将 <code>/mnt/video/.watch/</code> 设置成你自己 PT 存放种子的目录。（将种子存放到这个目录下，会自动下载种子文件）</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">schedule2 = watch_directory,5,5,load.start=/mnt/video/.watch/*.torrent</span><br></pre></td></tr></tbody></table></figure>

<h3 id="建立启动脚本"><a href="#建立启动脚本" class="headerlink" title="建立启动脚本"></a>建立启动脚本</h3><p>在 root 目录下建立一个文件 <code>rt.sh</code>, 将下面的代码复制进去，保存退出。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line"></span><br><span class="line">case "$1" in</span><br><span class="line">start)</span><br><span class="line">echo -n "Starting rtorrent"</span><br><span class="line">su - root -c "screen -A -m -d -S rtorrent /usr/bin/rtorrent" &amp;</span><br><span class="line">echo "."</span><br><span class="line">;;</span><br><span class="line">stop)</span><br><span class="line">echo -n "Stopping rtorrent"</span><br><span class="line">ppid=`ps ax | grep "/usr/bin/rtorrent" | grep -v grep | grep -v screen | awk '{ print $1 }'`</span><br><span class="line">kill ${ppid}</span><br><span class="line">echo "."</span><br><span class="line">;;</span><br><span class="line">restart)</span><br><span class="line"></span><br><span class="line">echo -n "Restarting rtorrent"</span><br><span class="line">ppid=`ps ax | grep "/usr/bin/rtorrent" | grep -v grep | grep -v screen | awk '{ print $1 }'`</span><br><span class="line">kill ${ppid}</span><br><span class="line">sleep 1</span><br><span class="line">su - root -c "screen -A -m -d -S rtorrent /usr/bin/rtorrent" &amp;</span><br><span class="line">echo "."</span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line">echo "Usage: {start|stop|restart}" &gt;&amp;2</span><br><span class="line">exit 1</span><br><span class="line">;;</span><br><span class="line">esac</span><br><span class="line"></span><br><span class="line">exit 0</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p>然后给这个脚本执行权限。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">chmod +x ~/rt.sh</span><br></pre></td></tr></tbody></table></figure>

<h3 id="最后运行这个脚本"><a href="#最后运行这个脚本" class="headerlink" title="最后运行这个脚本"></a>最后运行这个脚本</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">~/rt.sh start     #运行</span><br><span class="line">~/rt.sh stop      #停止</span><br><span class="line">~/rt.sh restart   #重新运行</span><br></pre></td></tr></tbody></table></figure>
<p>根据你的需要运行脚本之行之后，就可以在浏览器里输入：<code>ip地址/rt</code> 就可以正常访问 rutorrent+rtorrent 了。</p>
<h2 id="后话："><a href="#后话：" class="headerlink" title="后话："></a>后话：</h2><h3 id="添加在访问rutorrent时需要输入密码，才可以正常访问。"><a href="#添加在访问rutorrent时需要输入密码，才可以正常访问。" class="headerlink" title="添加在访问rutorrent时需要输入密码，才可以正常访问。"></a>添加在访问 rutorrent 时需要输入密码，才可以正常访问。</h3><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_rtorrent13.png"></p>
<h4 id="编辑-etc-apache2-sites-available-000-default-conf文件。在前面添加下面这些代码，保存退出。"><a href="#编辑-etc-apache2-sites-available-000-default-conf文件。在前面添加下面这些代码，保存退出。" class="headerlink" title="编辑/etc/apache2/sites-available/000-default.conf文件。在</VirtualHost>前面添加下面这些代码，保存退出。"></a>编辑 <code>/etc/apache2/sites-available/000-default.conf</code> 文件。在 <code>&lt;/VirtualHost&gt;</code> 前面添加下面这些代码，保存退出。</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_rtorrentrutorrent.png"></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;Directory /var/www/html/rt&gt;</span><br><span class="line"> #设置密码</span><br><span class="line">   AuthType Basic</span><br><span class="line">   AuthName "Server"</span><br><span class="line">   AuthUserFile /var/www/.passwd</span><br><span class="line">   Require valid-user</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></tbody></table></figure>
<h4 id="设置用户名和密码"><a href="#设置用户名和密码" class="headerlink" title="设置用户名和密码"></a>设置用户名和密码</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">htpasswd -bc /var/www/.passwd 用户名 密码</span><br></pre></td></tr></tbody></table></figure>
<p>上面的用户名和密码替换成自己要设置的用户和密码。</p>
<h4 id="重启apache2服务"><a href="#重启apache2服务" class="headerlink" title="重启apache2服务"></a>重启 apache2 服务</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">systemctl restart apache2</span><br></pre></td></tr></tbody></table></figure>

<h3 id="手机端用Transdroid访问和控制rtorrent"><a href="#手机端用Transdroid访问和控制rtorrent" class="headerlink" title="手机端用Transdroid访问和控制rtorrent."></a>手机端用 Transdroid 访问和控制 rtorrent.</h3><p>首先要先下载 Transdroid 这个 APP。怎么下载，我就不说了，各大应用商店都有得下。</p>
<h4 id="添加服务器"><a href="#添加服务器" class="headerlink" title="添加服务器"></a>添加服务器</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_rtorrent1.png"></p>
<h4 id="选择add-normal-custom-server"><a href="#选择add-normal-custom-server" class="headerlink" title="选择add normal,custom server"></a>选择 <code>add normal,custom server</code></h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_rtorrent2.png"></p>
<h4 id="服务器类型选rtorrent，其它根据自己的情况填写。"><a href="#服务器类型选rtorrent，其它根据自己的情况填写。" class="headerlink" title="服务器类型选rtorrent，其它根据自己的情况填写。"></a>服务器类型选 <code>rtorrent</code>，其它根据自己的情况填写。</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_rtorrent5.png"></p>
<h4 id="在高级设置里，SCGI挂载点设置成"><a href="#在高级设置里，SCGI挂载点设置成" class="headerlink" title="在高级设置里，SCGI挂载点设置成"></a>在高级设置里，<code>SCGI挂载点</code>设置成</h4><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">/rt/plugins/rpc/rpc.php</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_rtorrent4.png"></p>
<h4 id="添加RSS订阅-订阅的地址需要自己到PT站上去获取。"><a href="#添加RSS订阅-订阅的地址需要自己到PT站上去获取。" class="headerlink" title="添加RSS订阅.订阅的地址需要自己到PT站上去获取。"></a>添加 RSS 订阅。订阅的地址需要自己到 PT 站上去获取。</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_rtorrent6.png"></p>
<h4 id="添加完之后的样子"><a href="#添加完之后的样子" class="headerlink" title="添加完之后的样子"></a>添加完之后的样子</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_rtorrent7.png"></p>
<h4 id="效果展示，看中哪一个点一下，rtorrent就会自动下载了。"><a href="#效果展示，看中哪一个点一下，rtorrent就会自动下载了。" class="headerlink" title="效果展示，看中哪一个点一下，rtorrent就会自动下载了。"></a>效果展示，看中哪一个点一下，rtorrent 就会自动下载了。</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_rtorrent9.png"></p>
<h3 id="RSS利用正则自动过滤并下载，所需要的影片。"><a href="#RSS利用正则自动过滤并下载，所需要的影片。" class="headerlink" title="RSS利用正则自动过滤并下载，所需要的影片。"></a>RSS 利用正则自动过滤并下载，所需要的影片。</h3><p>在订阅里选择 RSS 管理器<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_rtorrent12.png"><br>在 RSS 管理器里可以通过正则过滤到自己需要的电影，我设置的是 2018 年的电影，文件小于 30G 的就会自动下载。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">/\[[1-9]{1}\*|\[[3-9]{1}[0-9]\.|\[[1-9]{3}\./</span><br></pre></td></tr></tbody></table></figure>
<p>正则表达内容比较多，我这点东西只当是抛转引玉了。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_rtorrent11.png"></p>
<p>
### 下面还有可以实现的功能！
由于使用 python 和 shell 需要配置的地方太多，已不适合大多数同学使用了。具体的我就不说了。自己有兴趣的同学可以自己去研究。
1、 下载文件后，自动将文件分类。
2、 自动下载文件后，微信或邮件通知！
![](https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_rtorrent10.png)
3、 硬盘快满时，自动删除已看过的电影。
4、 微信输入电影名，自动跳出电影百度网盘链接。
</p>]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
  </entry>
  <entry>
    <title>Debian 安装 vsftpd 遇到的那些坑！</title>
    <url>/2018/09/26/debian%E5%AE%89%E8%A3%85vsftpd%E9%81%87%E5%88%B0%E7%9A%84%E9%82%A3%E4%BA%9B%E5%9D%91%EF%BC%81/</url>
    <content><![CDATA[<p>安装 vsftpd 是因为我有时候需要传一些比较大的文件，而 webdav 不支持大文件传输。本来以为很简单，结果安装起来是一坑接着一坑，搞了好些时间才明白了。现在做个总结，免得以后再踩进坑！<br>安装方法我就不多说了，网上很多。这里有一篇参考教程：<a href="https://www.jianshu.com/p/30a34d6d020c">Debian 下安装 FTP 服务 vsftpd</a></p>
<h3 id="大坑1-vsftpd主-被动模式"><a href="#大坑1-vsftpd主-被动模式" class="headerlink" title="大坑1-vsftpd主/被动模式"></a>大坑 1-vsftpd 主 / 被动模式</h3><p>vsftpd 默认开启的是主动模式，主动模式因为数据传输端口是随机的。所以路由上的端口映射都无法正常使用。<br>解决方法：在 <code>/etc/vsfptd.conf</code> 配置文件中开启 vsftpd 被动模式，端口范围可以自己设置。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">#开启被动模式</span><br><span class="line">pasv_enable=YES</span><br><span class="line">pasv_min_port=6000</span><br><span class="line">pasv_max_port=7000</span><br></pre></td></tr></tbody></table></figure>

<h3 id="大坑2-添加local用户，无法访问ftp"><a href="#大坑2-添加local用户，无法访问ftp" class="headerlink" title="大坑2-添加local用户，无法访问ftp"></a>大坑 2 - 添加 local 用户，无法访问 ftp</h3><p>这个问题，研究了好久，问题出在 <code>/etc/pam.d/vsftpd</code> 这个文件中，打开这个文件可以看到内容：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># Standard behaviour for ftpd(8).</span><br><span class="line">auth	required	pam_listfile.so item=user sense=deny file=/etc/ftpusers onerr=succeed</span><br><span class="line"># Note: vsftpd handles anonymous logins on its own. Do not enable pam_ftp.so.</span><br><span class="line"># Standard pam includes</span><br><span class="line">@include common-account</span><br><span class="line">@include common-session</span><br><span class="line">@include common-auth</span><br><span class="line">auth	required	pam_shells.so</span><br></pre></td></tr></tbody></table></figure>
<p>请注意三个细节：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">sense=deny</span><br><span class="line">file=/etc/ftpusers</span><br><span class="line">auth	required	pam_shells.so</span><br></pre></td></tr></tbody></table></figure>
<p>第一行说明，在第二行所在文件中的用户都会被禁止访问 ftp 服务。第三行则说明，登陆用户需要有 shell。<br>不然连接 ftp 时会报错：530 Login incorrect.</p>
<p>解决方法：<br>我们需要创建一个有 shell 和有用户目录的用户名就 OK 了。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">useradd -d /home/ftptest/user1 -s /bin/bash -M user1</span><br><span class="line">passwd user1</span><br></pre></td></tr></tbody></table></figure>
<div class="note danger"><p>不要听从网络上的教程将 /etc/vsftpd.conf 里面的 pam_service_name=vsftpd 改成其他值或者删除 /etc/pam.d/vsftpd。这会导致安全性问题，即你无法将 root 等高级权限帐号排除在 ftp 服务外，这将导致可以使用 root 登陆 ftp，引起一些不必要的麻烦。</p>
</div>

<h3 id="大坑3-FTP的用户，并不需要shell"><a href="#大坑3-FTP的用户，并不需要shell" class="headerlink" title="大坑3-FTP的用户，并不需要shell."></a>大坑 3-FTP 的用户，并不需要 shell.</h3><p>这个是上面这个问题的改进，因为我们很多时候，新建的用户只是用来登陆 FTP，并不需要登陆 shell。这样每个用户都让他可以 shell 登陆到 debian 上也不安全。<br>解决方法:<br>修改 <code>/etc/pam.d/vsftpd</code> 文件<br>将 <code>auth required pam_shells.so</code> 修改为 <code>auth required pam_nologin.so</code> 即可<br>重启 vsftpd.</p>
<h3 id="大坑4-FTP限制用只能访问HOME目录"><a href="#大坑4-FTP限制用只能访问HOME目录" class="headerlink" title="大坑4-FTP限制用只能访问HOME目录"></a>大坑 4-FTP 限制用只能访问 HOME 目录</h3><p>编辑 <code>/etc/vsftpd/</code> 下有个文件 <code>vsftpd.conf</code></p>
<p>去掉 chroot_local_user 前的注释</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">chroot_local_user＝YES</span><br><span class="line">#chroot_list_enable=YES</span><br><span class="line">#chroot_list_file=/etc/vsftpd/chroot_list</span><br></pre></td></tr></tbody></table></figure>

<p>以上 3 句配置的解释：<br>chroot_local_user＝YES # 是否将所有用户限制在主目录，YES 为启用，NO 禁用<br>chroot_list_enable=YES # 是否启动限制用户的名单，YES 为启用 ，NO 禁用<br>chroot_list_file=/etc/vsftpd/chroot_list # 是否限制在主目录下的用户名单，至于是限制名单还是排除名单，这取决于 chroot_local_user 的值<br>如果 chroot_local_user 为 YES，则 chroot_list 中的用户排除在限制之外；<br>如果 chroot_local_user 为 NO，则 chroot_list 中的用户限制在主目录下；</p>
<p>以此配置登录时会报错：“500 OOPS: vsftpd: refusing to run with writable rootinside chroot () ”</p>
<p>因为从 2.3.5 之后，vsftpd 增强了安全检查，如果用户被限定在了其主目录下，则该用户的主目录不能再具有写权限了，如果检查发现还有写权限，就会报该错误。要修复这个错误，可以用命令 <code>chmod a-w /home/user</code> 去除用户主目录的写权限（注意把 user 替换成你自己对应的 user）。或者你可以在 vsftpd 的配置文件中增加如下项：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">allow_writeable_chroot=YES</span><br></pre></td></tr></tbody></table></figure>

<h3 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h3><p>下面贴出我自己的 <code>vsftpd.conf</code> 的配置。里面有添加中文备注方便英文不好的同学了解一下，大神请跳过！</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># Example config file /etc/vsftpd.conf</span><br><span class="line">#</span><br><span class="line"># The default compiled in settings are fairly paranoid. This sample file</span><br><span class="line"># loosens things up a bit, to make the ftp daemon more usable.</span><br><span class="line"># Please see vsftpd.conf.5 for all compiled in defaults.</span><br><span class="line">#</span><br><span class="line"># READ THIS: This example file is NOT an exhaustive list of vsftpd options.</span><br><span class="line"># Please read the vsftpd.conf.5 manual page to get a full idea of vsftpd's</span><br><span class="line"># capabilities.</span><br><span class="line">#</span><br><span class="line">#</span><br><span class="line"># 是否允许监听。</span><br><span class="line"># 如果设置为YES，则vsftpd将以独立模式运行，由vsftpd自己监听和处理IPv4端口的连接请求</span><br><span class="line">listen=NO</span><br><span class="line">#</span><br><span class="line"># 设定是否支持IPV6。如要同时监听IPv4和IPv6端口，</span><br><span class="line"># 则必须运行两套vsftpd，采用两套配置文件</span><br><span class="line"># 同时确保其中有一个监听选项是被注释掉的</span><br><span class="line">listen_ipv6=YES</span><br><span class="line">#</span><br><span class="line"># 是否允许匿名登录FTP服务器，默认设置为YES允许</span><br><span class="line"># 用户可使用用户名ftp或anonymous进行ftp登录，口令为用户的E-mail地址。</span><br><span class="line"># 如不允许匿名访问则设置为NO</span><br><span class="line">anonymous_enable=NO</span><br><span class="line">#</span><br><span class="line"># 允许匿名用户创建目录；</span><br><span class="line">#anon_mkdir_write_enable=YES</span><br><span class="line">#</span><br><span class="line"># 允许匿名用户其他写入权限。</span><br><span class="line">#anon_other_write_enable=YES</span><br><span class="line">#</span><br><span class="line"># 是否允许本地用户(即linux系统中的用户帐号)登录FTP服务器，默认设置为YES允许</span><br><span class="line"># 本地用户登录后会进入用户主目录，而匿名用户登录后进入匿名用户的下载目录/var/ftp/pub</span><br><span class="line"># 若只允许匿名用户访问，前面加上#注释掉即可阻止本地用户访问FTP服务器</span><br><span class="line">local_enable=YES</span><br><span class="line">#</span><br><span class="line"># 是否允许本地用户对FTP服务器文件具有写权限，默认设置为YES允许</span><br><span class="line">write_enable=YES</span><br><span class="line">#</span><br><span class="line"># 掩码，本地用户默认掩码为077</span><br><span class="line"># 你可以设置本地用户的文件掩码为缺省022，也可根据个人喜好将其设置为其他值</span><br><span class="line">#local_umask=022</span><br><span class="line">#</span><br><span class="line"># 是否允许匿名用户上传文件，须将全局的write_enable=YES。默认为YES</span><br><span class="line">#anon_upload_enable=YES</span><br><span class="line">#</span><br><span class="line"># 是否允许匿名用户创建新文件夹</span><br><span class="line">#anon_mkdir_write_enable=YES</span><br><span class="line">#</span><br><span class="line"># 是否激活目录欢迎信息功能</span><br><span class="line"># 当用户用CMD模式首次访问服务器上某个目录时，FTP服务器将显示欢迎信息</span><br><span class="line"># 默认情况下，欢迎信息是通过该目录下的.message文件获得的</span><br><span class="line"># 此文件保存自定义的欢迎信息，由用户自己建立</span><br><span class="line">dirmessage_enable=YES</span><br><span class="line">#</span><br><span class="line"># If enabled, vsftpd will display directory listings with the time</span><br><span class="line"># in  your  local  time  zone.  The default is to display GMT. The</span><br><span class="line"># times returned by the MDTM FTP command are also affected by this</span><br><span class="line"># option.</span><br><span class="line">use_localtime=YES</span><br><span class="line">#</span><br><span class="line"># 是否让系统自动维护上传和下载的日志文件</span><br><span class="line"># 默认情况该日志文件为/var/log/vsftpd.log,也可以通过下面的xferlog_file选项对其进行设定</span><br><span class="line">xferlog_enable=YES</span><br><span class="line">#</span><br><span class="line"># Make sure PORT transfer connections originate from port 20 (ftp-data).</span><br><span class="line"># 是否设定FTP服务器将启用FTP数据端口的连接请求</span><br><span class="line"># ftp-data数据传输，21为连接控制端口</span><br><span class="line">connect_from_port_20=YES</span><br><span class="line">#</span><br><span class="line"># 设定是否允许改变上传文件的属主，与下面一个设定项配合使用</span><br><span class="line"># 注意，不推荐使用root用户上传文件</span><br><span class="line">chown_uploads=NO</span><br><span class="line"></span><br><span class="line"># 设置想要改变的上传文件的属主，如果需要，则输入一个系统用户名</span><br><span class="line"># 可以把上传的文件都改成root属主。whoever：任何人</span><br><span class="line">#chown_username=whoever</span><br><span class="line">#</span><br><span class="line"># 设定系统维护记录FTP服务器上传和下载情况的日志文件.</span><br><span class="line"># /var/log/vsftpd.log是默认的，也可以另设其它.</span><br><span class="line">#xferlog_file=/var/log/vsftpd.log</span><br><span class="line">#</span><br><span class="line"># 是否以标准xferlog的格式书写传输日志文件</span><br><span class="line"># 默认为/var/log/xferlog，也可以通过xferlog_file选项对其进行设定</span><br><span class="line">#xferlog_std_format=YES</span><br><span class="line">#</span><br><span class="line"># 以下是附加配置，添加相应的选项将启用相应的设置</span><br><span class="line"># 是否生成两个相似的日志文件</span><br><span class="line"># 默认在/var/log/xferlog和/var/log/vsftpd.log目录下</span><br><span class="line"># 前者是wu_ftpd类型的传输日志，可以利用标准日志工具对其进行分析；后者是vsftpd类型的日志</span><br><span class="line">#dual_log_enable</span><br><span class="line"># 是否将原本输出到/var/log/vsftpd.log中的日志，输出到系统日志</span><br><span class="line">#syslog_enable</span><br><span class="line">#</span><br><span class="line"># 设置数据传输中断间隔时间，此语句表示空闲的用户会话中断时间为600秒</span><br><span class="line"># 即当数据传输结束后，用户连接FTP服务器的时间不应超过600秒。可以根据实际情况对该值进行修改</span><br><span class="line">#idle_session_timeout=600</span><br><span class="line">#</span><br><span class="line"># 设置数据连接超时时间，该语句表示数据连接超时时间为120秒，可根据实际情况对其个修改</span><br><span class="line">#data_connection_timeout=120</span><br><span class="line">#</span><br><span class="line"># 运行vsftpd需要的非特权系统用户，缺省是nobody</span><br><span class="line">#nopriv_user=ftpsecure</span><br><span class="line">#</span><br><span class="line"># 是否识别异步ABOR请求。</span><br><span class="line"># 如果FTP client会下达“async ABOR”这个指令时，这个设定才需要启用</span><br><span class="line"># 而一般此设定并不安全，所以通常将其取消</span><br><span class="line">#async_abor_enable=YES</span><br><span class="line">#</span><br><span class="line"># 是否以ASCII方式传输数据。默认情况下，服务器会忽略ASCII方式的请求。</span><br><span class="line"># 启用此选项将允许服务器以ASCII方式传输数据</span><br><span class="line"># 不过，这样可能会导致由"SIZE /big/file"方式引起的DoS攻击</span><br><span class="line">#ascii_upload_enable=YES</span><br><span class="line">#ascii_download_enable=YES</span><br><span class="line">#</span><br><span class="line"># 登录FTP服务器时显示的欢迎信息</span><br><span class="line"># 如有需要，可在更改目录欢迎信息的目录下创建名为.message的文件，并写入欢迎信息保存后</span><br><span class="line">#ftpd_banner=Welcome to blah FTP service.</span><br><span class="line">#</span><br><span class="line"># 黑名单设置。如果很讨厌某些email address，就可以使用此设定来取消他的登录权限</span><br><span class="line"># 可以将某些特殊的email address抵挡住。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#deny_email_enable=YES</span><br><span class="line"># 当上面的deny_email_enable=YES时，可以利用这个设定项来规定哪些邮件地址不可登录vsftpd服务器</span><br><span class="line"># 此文件需用户自己创建，一行一个email address即可</span><br><span class="line">#banned_email_file=/etc/vsftpd.banned_emails</span><br><span class="line">#</span><br><span class="line"># 用户登录FTP服务器后是否具有访问自己目录以外的其他文件的权限</span><br><span class="line"># 设置为YES时，用户被锁定在自己的home目录中，vsftpd将在下面chroot_list_file选项值的位置寻找chroot_list文件</span><br><span class="line"># 必须与下面的设置项配合</span><br><span class="line">#chroot_local_user=YES</span><br><span class="line">#</span><br><span class="line"># 被列入此文件的用户，在登录后将不能切换到自己目录以外的其他目录</span><br><span class="line"># 从而有利于FTP服务器的安全管理和隐私保护。此文件需自己建立</span><br><span class="line">chroot_list_enable=YES</span><br><span class="line">chroot_list_file=/etc/vsftpd.chroot_list</span><br><span class="line">#</span><br><span class="line"># 是否允许递归查询。默认为关闭，以防止远程用户造成过量的I/O</span><br><span class="line">#ls_recurse_enable=YES</span><br><span class="line">#</span><br><span class="line"># 是否允许ftpusers文件中的用户登录FTP服务器，默认为NO</span><br><span class="line"># 若此项设为YES，则user_list文件中的用户允许登录FTP服务器</span><br><span class="line"># 而如果同时设置了userlist_deny=YES，则user_list文件中的用户将不允许登录FTP服务器，甚至连输入密码提示信息都没有</span><br><span class="line">#userlist_enable=YES/NO</span><br><span class="line">#</span><br><span class="line"># 设置是否阻扯user_list文件中的用户登录FTP服务器，默认为YES</span><br><span class="line">#userlist_deny=YES/NO</span><br><span class="line"># Customization</span><br><span class="line">#</span><br><span class="line"># Some of vsftpd's settings don't fit the filesystem layout by</span><br><span class="line"># default.</span><br><span class="line">#</span><br><span class="line"># This option should be the name of a directory which is empty.  Also, the</span><br><span class="line"># directory should not be writable by the ftp user. This directory is used</span><br><span class="line"># as a secure chroot() jail at times vsftpd does not require filesystem</span><br><span class="line"># access.</span><br><span class="line">secure_chroot_dir=/var/run/vsftpd/empty</span><br><span class="line">#</span><br><span class="line"># 设置PAM外挂模块提供的认证服务所使用的配置文件名，即/etc/pam.d/vsftpd文件</span><br><span class="line"># 此文件中file=/etc/vsftpd/ftpusers字段，说明了PAM模块能抵挡的帐号内容来自文件/etc/vsftpd/ftpusers中</span><br><span class="line">pam_service_name=vsftpd</span><br><span class="line">#</span><br><span class="line"># This option specifies the location of the RSA certificate to use for SSL</span><br><span class="line"># encrypted connections.</span><br><span class="line">rsa_cert_file=/etc/ssl/certs/ssl-cert-snakeoil.pem</span><br><span class="line">rsa_private_key_file=/etc/ssl/private/ssl-cert-snakeoil.key</span><br><span class="line">ssl_enable=NO</span><br><span class="line"></span><br><span class="line">#</span><br><span class="line"># Uncomment this to indicate that vsftpd use a utf8 filesystem.</span><br><span class="line">#utf8_filesystem=YES</span><br><span class="line">#</span><br><span class="line">#开启被动模式</span><br><span class="line">pasv_enable=YES</span><br><span class="line">pasv_min_port=6000</span><br><span class="line">pasv_max_port=7000</span><br><span class="line">#</span><br><span class="line">#开启主动模式：</span><br><span class="line">#connect_from_port_20=YES</span><br><span class="line">#pasv_enable=NO</span><br><span class="line">#</span><br><span class="line">#ftp用户登陆后的初始目录</span><br><span class="line">#local_root=/mnt/ftp</span><br><span class="line">#allow_writeable_chroot=YES</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>debian</tag>
      </tags>
  </entry>
  <entry>
    <title>Koolshare LEDE - 详细安装步骤</title>
    <url>/2018/08/26/lede2-6-%E8%AF%A6%E7%BB%86%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4/</url>
    <content><![CDATA[<h3 id="安装LEDE"><a href="#安装LEDE" class="headerlink" title="安装LEDE"></a>安装 LEDE</h3><p>下载虚拟机文件，<a href="https://pan.baidu.com/s/1YHz2DZ9jxB60icn7e0-cNA">Koolshare LEDE2.22</a>，密码：9jhk</p>
<h4 id="将下载的压缩包解压，上传到ESXI。"><a href="#将下载的压缩包解压，上传到ESXI。" class="headerlink" title="将下载的压缩包解压，上传到ESXI。"></a>将下载的压缩包解压，上传到 ESXI。</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_lede1.png"></p>
<h4 id="注册虚拟机。"><a href="#注册虚拟机。" class="headerlink" title="注册虚拟机。"></a>注册虚拟机。</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_lede2.png"></p>
<h4 id="输入虚拟机名字，选择linux系统，操作系统选debian9（64位）"><a href="#输入虚拟机名字，选择linux系统，操作系统选debian9（64位）" class="headerlink" title="输入虚拟机名字，选择linux系统，操作系统选debian9（64位）"></a>输入虚拟机名字，选择 linux 系统，操作系统选 debian9（64 位）</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_lede3.png"></p>
<h4 id="下一步"><a href="#下一步" class="headerlink" title="下一步"></a>下一步</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_lede4.png"></p>
<h4 id="添加硬盘，并将内存修改为512M。（512M内存足以）"><a href="#添加硬盘，并将内存修改为512M。（512M内存足以）" class="headerlink" title="添加硬盘，并将内存修改为512M。（512M内存足以）"></a>添加硬盘，并将内存修改为 512M。（512M 内存足以）</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_lede5.png"></p>
<h4 id="选择刚才上传的硬盘文件"><a href="#选择刚才上传的硬盘文件" class="headerlink" title="选择刚才上传的硬盘文件"></a>选择刚才上传的硬盘文件</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_lede6.png"></p>
<h4 id="删除虚拟机原来的硬盘，完成。"><a href="#删除虚拟机原来的硬盘，完成。" class="headerlink" title="删除虚拟机原来的硬盘，完成。"></a>删除虚拟机原来的硬盘，完成。</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_lede7.png"></p>
<h4 id="开启虚拟机。"><a href="#开启虚拟机。" class="headerlink" title="开启虚拟机。"></a>开启虚拟机。</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_lede8.png"></p>
<h3 id="配置LEDE"><a href="#配置LEDE" class="headerlink" title="配置LEDE"></a>配置 LEDE</h3><h4 id="LEDE默认的网关是192-168-1-1，在同一个网段中用浏览器输入192-168-1-1就可以访问LEDE。默认密码是-koolshare"><a href="#LEDE默认的网关是192-168-1-1，在同一个网段中用浏览器输入192-168-1-1就可以访问LEDE。默认密码是-koolshare" class="headerlink" title="LEDE默认的网关是192.168.1.1，在同一个网段中用浏览器输入192.168.1.1就可以访问LEDE。默认密码是:koolshare"></a>LEDE 默认的网关是 192.168.1.1，在同一个网段中用浏览器输入 192.168.1.1 就可以访问 LEDE。默认密码是:koolshare</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_lede9.png"></p>
<h4 id="下面就是LEDE的截图。"><a href="#下面就是LEDE的截图。" class="headerlink" title="下面就是LEDE的截图。"></a>下面就是 LEDE 的截图。</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_lede10.png"><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_lede11.png"></p>
]]></content>
  </entry>
  <entry>
    <title>linux 下的文件共享</title>
    <url>/2018/08/21/linux%E4%B8%8B%E7%9A%84%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB/</url>
    <content><![CDATA[<p>LINUX 下有好多种共享，分享 nfs 和 samba 这二种共享方式。</p>
<h2 id="SAMBA共享"><a href="#SAMBA共享" class="headerlink" title="SAMBA共享"></a>SAMBA 共享</h2><p>Samba 最大的功能可用于 Linux 与 Windows 系统直接的文件共享和打印共享，Samba 既可用于 Windows 与 Linux 之间的文件共享，也可用于 Linux 与 Linux 之间的资源共享，由于 NFS 的出现，因而 Samba 更多用在 Linux 与 Windows 之间的数据共享上面。<br>Samba 服务器可实现如下功能：</p>
<ul>
<li>WINS 和 DNS 服务；</li>
<li>网络浏览服务；</li>
<li>Linux 和 Windows 域之间的认证和授权；</li>
<li>UNICODE 字符集和域名映射；</li>
<li>满足 CIFS 协议的 UNIX 共享等。</li>
</ul>
<h3 id="安装SAMBA服务"><a href="#安装SAMBA服务" class="headerlink" title="安装SAMBA服务"></a>安装 SAMBA 服务</h3><p>执行下面的安装命令：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">yum install samba -y  #Cenots</span><br><span class="line">apt-get install samba -y #debian</span><br></pre></td></tr></tbody></table></figure>

<h3 id="配置SAMBA"><a href="#配置SAMBA" class="headerlink" title="配置SAMBA"></a>配置 SAMBA</h3><p>编辑配置文件：<code>/etc/samba/smb.conf</code></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">[global]</span><br><span class="line">workgroup = WORKGROUP #设置工作组</span><br><span class="line">security=user   #使用用户名和密码登陆。</span><br><span class="line">netbios name=centos  #NMB名字</span><br><span class="line">printcap name =/etc/printercap #指定打印机配置文件的位置。读取printcap文件中的配置信息，监视打印机的工作情况.</span><br><span class="line">[共享名]</span><br><span class="line">path = /mnt/          #共享文件路径</span><br><span class="line">valid users = 用户名1,用户名2  #只共享给哪个用户</span><br><span class="line">write list = 用户名，用户名2   #给用户写权限</span><br><span class="line">browseable = yes      #是否出现在共享目录中</span><br><span class="line">public = yes	      #是否可以公共访问</span><br><span class="line">write only = yes      #只读</span><br><span class="line"></span><br><span class="line">#下面部分是配置SAMBA打印机部份，不需要可以不写。</span><br><span class="line">[printers]</span><br><span class="line">comment = All Printers #这部分用于配置打印机共享，所有用户都可以共享打印机。</span><br><span class="line"></span><br><span class="line">path = /var/spool/samba #设置打印机队列的位置，用户必须自行创建该目录，存放打印的临时文件</span><br><span class="line"></span><br><span class="line">browseable = no #不允许浏览共享打印机</span><br><span class="line"></span><br><span class="line"># Set public = yes to allow user ’guest account’ to print</span><br><span class="line"></span><br><span class="line">guest ok = no #必须用帐号和密码才可以访问共享打印机</span><br><span class="line"></span><br><span class="line">writable = no #共享打印机，writable必须设置为no</span><br><span class="line"></span><br><span class="line">printable = yes #允许用户更改打印机队列中的文件</span><br><span class="line"></span><br><span class="line">[fredsprn]</span><br><span class="line"></span><br><span class="line">comment = Fred’s Printer  #该共享的打印机只允许fred私人使用</span><br><span class="line"></span><br><span class="line">valid users = fred</span><br><span class="line"></span><br><span class="line">path = /home/fred #打印机队列是fred的用户目录，要主义fred必须有权访问该目录。</span><br><span class="line"></span><br><span class="line">printer = freds_printer #设置共享打印机的名称，此参数又可以写成“printer name=”,该参数如果放在[global]字段，所有打印服务用到的打印机名都将是一样的</span><br><span class="line"></span><br><span class="line">public = no</span><br><span class="line"></span><br><span class="line">writable = no</span><br><span class="line"></span><br><span class="line">printable = yes</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>为 Windows 客户机准备打印驱动</p>
<p>为了给 Windows 客户机准备打印驱动，可以运行 <code>cupsaddsmb</code> 命令。执行如下的操作将打印机驱动程序放置在 <code>/etc/samba/drivers</code> 目录下。</p>
<p>创建 /etc/samba/drivers 目录 </p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">mkdir /etc/samba/drivers</span><br></pre></td></tr></tbody></table></figure>
<p>运行 <code>cupsaddsmb</code> 命令，以 root 身份执行该命令，共享所有打印机 </p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">cupsaddsmb -a -U root</span><br></pre></td></tr></tbody></table></figure>

<p>配置文件完成之后，还需要用 <code>smbpasswd -a 用户名</code>，来添加用户访问帐号。</p>
<h3 id="启动SAMBA"><a href="#启动SAMBA" class="headerlink" title="启动SAMBA"></a>启动 SAMBA</h3><p>Centos7 环境下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">systemctl restart smb nmb	#重启samba</span><br><span class="line">systemctl enable smb nmb	#启用samba</span><br><span class="line">systemctl status smb nmb	#查看服务状态</span><br><span class="line">systemctl stop smb nmb      #停止samba</span><br><span class="line">systemctl disable smb nmb   #禁用samba</span><br></pre></td></tr></tbody></table></figure>
<p>Debian 环境下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">/etc/init.d/samba restart   #重启samba</span><br><span class="line">/etc/init.d/samba enable    #重启samba</span><br><span class="line">/etc/init.d/samba status    #查看samba状态</span><br><span class="line">/etc/init.d/samba stop      #停止samba</span><br><span class="line">/etc/init.d/samba desable   #禁用samba</span><br></pre></td></tr></tbody></table></figure>

<h3 id="访问SAMBA"><a href="#访问SAMBA" class="headerlink" title="访问SAMBA"></a>访问 SAMBA</h3><p>windows 下直接在我的电脑里输入 <code>\\IP地址或nmb名\</code></p>
<p>LINUX 下用 mount 挂载：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">mount -t cifs //IP地址或nmb名/video /mnt/raye -o username=*** password=”***” iocharset=utf8</span><br></pre></td></tr></tbody></table></figure>
<p>如果没有写入权限，可以试试下面这行。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">mount -t cifs //IP地址或nmb名/video /mnt/raye/video -o username=***,password="***"，gid=””,uid=””,rw,fmask=775,dmask=777</span><br></pre></td></tr></tbody></table></figure>


<hr>
<h2 id="NFS共享"><a href="#NFS共享" class="headerlink" title="NFS共享"></a>NFS 共享</h2><p>NFS 做为 LINUX 之间共享文件用的比较多。</p>
<h3 id="安装NFS"><a href="#安装NFS" class="headerlink" title="安装NFS"></a>安装 NFS</h3><p>根据 linux 系统选择安装命令</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">apt-get install -y nfs-common nfs-kernel-server #debian</span><br><span class="line">yum install -y rpc-bind nfs-utils  #centos</span><br></pre></td></tr></tbody></table></figure>

<h3 id="配置NFS"><a href="#配置NFS" class="headerlink" title="配置NFS"></a>配置 NFS</h3><p>编辑 <code>/etc/exports</code> 文件</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">/opt/test 192.168.1.0/24(rw,sync)</span><br><span class="line"></span><br><span class="line">/opt/test1/ *(rw,sync)</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p>配置说明：<br>/opt/test 为共享目录<br>192.168.1.0/24  可以为一个网段，一个 IP，也可以是域名，域名支持通配符 如: *.qq.com<br>rw：read-write，可读写；<br>ro：read-only，只读；<br>sync：文件同时写入硬盘和内存；<br>async：文件暂存于内存，而不是直接写入内存；<br>no_root_squash：NFS 客户端连接服务端时如果使用的是 root 的话，那么对服务端分享的目录来说，也拥有 root 权限。显然开启这项是不安全的。<br>root_squash：NFS 客户端连接服务端时如果使用的是 root 的话，那么对服务端分享的目录来说，拥有匿名用户权限，通常他将使用 nobody 或 nfsnobody 身份；<br>all_squash：不论 NFS 客户端连接服务端时使用什么用户，对服务端分享的目录来说都是拥有匿名用户权限；<br>anonuid：匿名用户的 UID 值，可以在此处自行设定。<br>anongid：匿名用户的 GID 值。</p>
<h3 id="启动NFS"><a href="#启动NFS" class="headerlink" title="启动NFS"></a>启动 NFS</h3><p>Centos7 环境下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">systemctl restart nfs   #重启samba</span><br><span class="line">systemctl enable nfs    #启用samba</span><br><span class="line">systemctl status nfs    #查看服务状态</span><br><span class="line">systemctl stop nfs      #停止samba</span><br><span class="line">systemctl disable nfs   #禁用samba</span><br></pre></td></tr></tbody></table></figure>
<p>Debian 环境下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">/etc/init.d/nfs-kernel-server restart   #重启samba</span><br><span class="line">/etc/init.d/nfs-kernel-server enable    #重启samba</span><br><span class="line">/etc/init.d/nfs-kernel-server status    #查看samba状态</span><br><span class="line">/etc/init.d/nfs-kernel-server stop      #停止samba</span><br><span class="line">/etc/init.d/nfs-kernel-server desable   #禁用samba</span><br></pre></td></tr></tbody></table></figure>

<h3 id="访问NFS共享"><a href="#访问NFS共享" class="headerlink" title="访问NFS共享"></a>访问 NFS 共享</h3><p>windows 环境下，需要先安装 NFS 支持。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_NFS.png"><br>安装完成后，按 <code>WIN+R</code> 键，在运行框内输入 <code>cmd</code> 回车。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">showmount    #显示开始NFS服务的主机</span><br><span class="line">showmount -e #显示出可以NFS挂载的目录</span><br><span class="line">showmount -d #显示被挂载的共享目录</span><br><span class="line">showmount -a #显示客户端信息和共享目录</span><br><span class="line">mount 192.168.1.99:/srv/upload X: #挂载到windows的X盘</span><br></pre></td></tr></tbody></table></figure>


<p>LINUX 环境下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">showmount    #显示开始NFS服务的主机</span><br><span class="line">showmount -e #显示出可以NFS挂载的目录</span><br><span class="line">showmount -d #显示被挂载的共享目录</span><br><span class="line">showmount -a #显示客户端信息和共享目录</span><br><span class="line">mount 192.168.1.99:/srv/upload /mnt/upload  #挂载到/mnt/upload。</span><br><span class="line">192.168.1.99:/srv/upload /mnt/upload nfs rsize=8192,wsize=8192,timeo=14,intr   #客户端每次启动时自动挂载NFS</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>ESXI - 安装虚拟机 ROS</title>
    <url>/2018/08/15/ESXI-%E5%AE%89%E8%A3%85%E8%99%9A%E6%8B%9F%E6%9C%BAROS/</url>
    <content><![CDATA[<h2 id="安装ROS"><a href="#安装ROS" class="headerlink" title="安装ROS"></a>安装 ROS</h2><p>下载虚拟机文件，<a href="https://pan.baidu.com/s/1pjBAlMiEB4reh47zLXS-0A"><i class="fa fa-cloud-download" aria-hidden="true">MikroTik RouterOS-V6.19.OVA</i></a>，密码: 7k5y</p>
<p>在 ESXI 中导入 OVA 虚拟机文件。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROS_setup.png"><br>自己可以设置一个名字，将 OVA 文件拖放进 ESXI.<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROS_setup1.png"><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROS_setup2.png"><br>选择 ESXI 安装的硬盘，不用选择，直接下一步。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROS_setup3.png"><br>不用选择，直接下一步。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROS_setup4.png"><br>点击完成。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROS_setup5.png"></p>
<h2 id="启动ROS"><a href="#启动ROS" class="headerlink" title="启动ROS"></a>启动 ROS</h2><p>启动刚刚建好的 ROS 虚拟机。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROS_setup6.png"><br>输入默认帐号 <code>admin</code>, 密码为空。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROS_setup7.png"><br>输入命令打印出 IP 地址</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">ip add print</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROS_setup8.png"><br>如果没有拿到 IP，输入 <code>setup</code> 自己按照提示设置一个 IP 地址。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">setup</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROS_setup9.png"></p>
<h2 id="连接ROS"><a href="#连接ROS" class="headerlink" title="连接ROS"></a>连接 ROS</h2><h2 id="用Winbox连接ROS-输入刚才设置的IP地址。用户名admin，密码留空。成功连上ROS。ROS连上后，记得一定要先设置登陆密码。"><a href="#用Winbox连接ROS-输入刚才设置的IP地址。用户名admin，密码留空。成功连上ROS。ROS连上后，记得一定要先设置登陆密码。" class="headerlink" title="用Winbox连接ROS.输入刚才设置的IP地址。用户名admin，密码留空。成功连上ROS。ROS连上后，记得一定要先设置登陆密码。"></a>用 <a href="https://pan.baidu.com/s/1EA-2EI0aPs03Hyo-_s3tig"><i class="fa fa-cloud-download" aria-hidden="true">Winbox</i></a> 连接 ROS. 输入刚才设置的 IP 地址。用户名 <code>admin</code>，密码留空。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROS_setup10.png"><br>成功连上 ROS。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROS_setup11.png"><br>ROS 连上后，记得一定要先设置登陆密码。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROS_setup13.png"><br><div class="note danger"><p>很多同学玩 ROS，网络都设置好可以上网了。但是却忘了设置登陆密码，这是非常危险的。 </p>
</div></h2><p><a href="https://pan.baidu.com/s/1EA-2EI0aPs03Hyo-_s3tig"><i class="fa fa-cloud-download fa-2x" aria-hidden="true">Winbox 下载地址</i></a></p>
<p>
</p>]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>ROS</tag>
        <tag>vmware</tag>
      </tags>
  </entry>
  <entry>
    <title>RouterOS6.43 - 配置 L2TP VPN 服务器</title>
    <url>/2018/08/15/ROS-%E6%90%AD%E5%BB%BAVPN%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
    <content><![CDATA[<p>用 ROS 来建立 L2TP vpn 服务器比较简单，只要跟着我下面的步骤一步一步来就可以实现了。</p>
<h3 id="ROS端"><a href="#ROS端" class="headerlink" title="ROS端"></a>ROS 端</h3><h4 id="ROS中打开PPP-Interface-L2TP-SERVER，勾选图片中的选项。在IPsec-Secret这一项自己设置一个公钥密码。"><a href="#ROS中打开PPP-Interface-L2TP-SERVER，勾选图片中的选项。在IPsec-Secret这一项自己设置一个公钥密码。" class="headerlink" title="ROS中打开PPP->Interface->L2TP SERVER，勾选图片中的选项。在IPsec Secret这一项自己设置一个公钥密码。"></a>ROS 中打开 <code>PPP</code>-&gt;<code>Interface</code>-&gt;<code>L2TP SERVER</code>，勾选图片中的选项。在 <code>IPsec Secret</code> 这一项自己设置一个公钥密码。</h4><h2 id="ROS中打开PPP-Sscrets-点击-号，勾选图中的选项，并设置l2tp拔号的用户名和密码。-ROS中打开IP-Firewall-NET-点击-号，在General选项卡上勾选图片中的选项。-接着在Action选项卡上勾选图片中的选项。至此ROS端已经全部设置完成"><a href="#ROS中打开PPP-Sscrets-点击-号，勾选图中的选项，并设置l2tp拔号的用户名和密码。-ROS中打开IP-Firewall-NET-点击-号，在General选项卡上勾选图片中的选项。-接着在Action选项卡上勾选图片中的选项。至此ROS端已经全部设置完成" class="headerlink" title="#### ROS中打开PPP->Sscrets->点击+号，勾选图中的选项，并设置l2tp拔号的用户名和密码。#### ROS中打开IP->Firewall->NET->点击+号，在General选项卡上勾选图片中的选项。#### 接着在Action选项卡上勾选图片中的选项。至此ROS端已经全部设置完成~"></a><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROS-l2tp.png"><br>#### ROS 中打开 <code>PPP</code>-&gt;<code>Sscrets</code>-&gt; 点击 <code>+</code> 号，勾选图中的选项，并设置 l2tp 拔号的用户名和密码。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROS-l2tp1.png"><br>#### ROS 中打开 <code>IP</code>-&gt;<code>Firewall</code>-&gt;<code>NET</code>-&gt; 点击 <code>+</code> 号，在 <code>General</code> 选项卡上勾选图片中的选项。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROS-l2tp2.png"><br>#### 接着在 <code>Action</code> 选项卡上勾选图片中的选项。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROS-l2tp3.png"><br>至此 ROS 端已经全部设置完成～<br><div class="note info"><p>其实只需要前面二步就可以实现 VPN 拔号了，后面的步骤是为了让拔号进来的设备也可以通过 ROS 访问外网。 </p>
</div></h2><h3 id="PC端"><a href="#PC端" class="headerlink" title="PC端"></a>PC 端</h3><h4 id="在WINDOWS系统中新建一个拔号连接。"><a href="#在WINDOWS系统中新建一个拔号连接。" class="headerlink" title="在WINDOWS系统中新建一个拔号连接。"></a>在 WINDOWS 系统中新建一个拔号连接。</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROS-l2tp7.png"></p>
<h4 id="选择通过Internet连接到VPN。"><a href="#选择通过Internet连接到VPN。" class="headerlink" title="选择通过Internet连接到VPN。"></a>选择通过 Internet 连接到 VPN。</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROS-l2tp8.png"></p>
<h4 id="输入ROS的公网IP地址或者DDNS。"><a href="#输入ROS的公网IP地址或者DDNS。" class="headerlink" title="输入ROS的公网IP地址或者DDNS。"></a>输入 ROS 的公网 IP 地址或者 DDNS。</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROS-l2tp9.png"></p>
<h4 id="进入网络共享中心选择刚建的VPN，点右键选属性。"><a href="#进入网络共享中心选择刚建的VPN，点右键选属性。" class="headerlink" title="进入网络共享中心选择刚建的VPN，点右键选属性。"></a>进入<code>网络共享中心</code>选择刚建的 VPN，点右键选属性。</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROS-l2tp10.png"></p>
<h4 id="在安全选项卡中，勾选图中的选项，并点周高级设置。"><a href="#在安全选项卡中，勾选图中的选项，并点周高级设置。" class="headerlink" title="在安全选项卡中，勾选图中的选项，并点周高级设置。"></a>在<code>安全</code>选项卡中，勾选图中的选项，并点周高级设置。</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROS-l2tp5.png"></p>
<h4 id="在高级属性中，输入设置的公钥密码。"><a href="#在高级属性中，输入设置的公钥密码。" class="headerlink" title="在高级属性中，输入设置的公钥密码。"></a>在高级属性中，输入设置的公钥密码。</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROS-l2tp6.png"></p>
<p>现在你就可以通过拔号，连接到你家里的网络了。访问家里的内网设备，直接通过内网 IP 就可以访问了。</p>
<hr>
<h3 id="手机端"><a href="#手机端" class="headerlink" title="手机端"></a>手机端</h3><h4 id="每个手机VPN设置的地方不一样，下面是我小米手机的设置介面。"><a href="#每个手机VPN设置的地方不一样，下面是我小米手机的设置介面。" class="headerlink" title="每个手机VPN设置的地方不一样，下面是我小米手机的设置介面。"></a>每个手机 VPN 设置的地方不一样，下面是我小米手机的设置介面。</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROS-l2tp11.jpg"></p>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>ROS</tag>
      </tags>
  </entry>
  <entry>
    <title>esxi 网卡直通及开启 USB3.0 控制器</title>
    <url>/2018/08/14/esxi%E7%BD%91%E5%8D%A1%E7%9B%B4%E9%80%9A%E5%8F%8A%E5%BC%80%E5%90%AFUSB3-0%E6%8E%A7%E5%88%B6%E5%99%A8/</url>
    <content><![CDATA[<h2 id="配置网卡直通"><a href="#配置网卡直通" class="headerlink" title="配置网卡直通"></a>配置网卡直通</h2><h3 id="网卡切换成直通"><a href="#网卡切换成直通" class="headerlink" title="网卡切换成直通"></a>网卡切换成直通</h3><p>通过浏览器，登陆 ESXI 控制台。选择<code>管理</code> - <code>硬件</code> - <code>选择要直通的网卡</code> - <code>切换直通</code>。然后重启 ESXI 后生效。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ESXI022.png"></p>
<h3 id="虚拟机添加直通网卡"><a href="#虚拟机添加直通网卡" class="headerlink" title="虚拟机添加直通网卡"></a>虚拟机添加直通网卡</h3><p>在虚拟机配置里，选择<code>添加其他设备</code> -<code>PCI设备</code>。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ESXI023.png"></p>
<h2 id="开启USB3-0控制器"><a href="#开启USB3-0控制器" class="headerlink" title="开启USB3.0控制器"></a>开启 USB3.0 控制器</h2><p>在虚拟机配置里设置，下次引导时进入 BIOS 介面。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ESXI024.png"><br>在虚拟机 BIOS 里将 <code>USBConfiguration</code> 里的 <code>XHCI</code> 由 <code>smartauto</code> 改成 <code>enabled</code><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ESXI025.png"><br>然后 SSH 到 ESXI，执行下面的命令。不会 SSH 的，<a href="https://zealot.top/%E5%9C%A8ESXI%E4%B8%8B%E5%AE%9E%E7%8E%B0%E7%A1%AC%E7%9B%98%E7%9B%B4%E9%80%9A.html">可以看这里，开启 SSH 部分。</a></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">esxcfg-module -e xhci</span><br><span class="line">echo "vmkload_mod xhci" &gt;&gt; /etc/rc.local.d/local.sh</span><br></pre></td></tr></tbody></table></figure>

]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>vmware</tag>
      </tags>
  </entry>
  <entry>
    <title>ESXI 下实现硬盘直通</title>
    <url>/2018/08/14/%E5%9C%A8ESXI%E4%B8%8B%E5%AE%9E%E7%8E%B0%E7%A1%AC%E7%9B%98%E7%9B%B4%E9%80%9A/</url>
    <content><![CDATA[<h2 id="开启ESXI，SSH服务。"><a href="#开启ESXI，SSH服务。" class="headerlink" title="开启ESXI，SSH服务。"></a>开启 ESXI，SSH 服务。</h2><p>通过浏览器访问 ESXI 控制台，开启 SSH 服务。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_10ESXI.png"><br>通过 <a href="https://pan.baidu.com/s/1AnKinY7UzcotwSvEScbXqw"><i class="fa fa-cloud-download" aria-hidden="true">PuTTY</i></a> 或 <a href="https://pan.baidu.com/s/1F9cH59Js7YOapsoQBNwLfw"><i class="fa fa-cloud-download" aria-hidden="true">Xshell</i></a> 登陆到 ESXI。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_20ESXI.png"><br>输入用户名和密码<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_30ESXI.png"></p>
<p>输入下面的命令，列出现在 ESXI 里的硬盘清单，我画红色框的就是硬盘标识。把要做直通的硬盘标识记住或者只记前面几个字母，可以在之后输入命令时用 <code>TAB</code> 键自动补全。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">ls /vmfs/devices/disks     #查看硬盘标识</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_40ESXI.png"></p>
<h2 id="RDM直通挂载"><a href="#RDM直通挂载" class="headerlink" title="RDM直通挂载"></a>RDM 直通挂载</h2><p>用 <code>vmkfstools</code> 命令，RDM 挂载到 ESXI 上，这里可以用 <code>TAB</code> 键自动补全路径。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">vmkfstools -z /vmfs/devices/disks/你的硬盘标识号 /vmfs/volumes/datastore2/4T-hdd.vmdk   #4T-hdd.vmdk这个名字可以换成自己取的名字.vmdk</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ESXI019.png"></p>
<p>最后用 ls 查看，是否挂载成功。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">ls /vmfs/volumes/datastore2</span><br></pre></td></tr></tbody></table></figure>

<div class="note danger"><p>注意:<code>/vmfs/volumes/datastore2</code> 这个目标路径，有的人可能不一样。通过 <code>ls /vmfs/volumes | grep datastore</code> 命令先查一下，再修改成自己的名字去挂载。 </p>
</div>

<h2 id="挂载完成"><a href="#挂载完成" class="headerlink" title="挂载完成"></a>挂载完成</h2><p>你就可以在 ESXI 中，像使用已建好的硬盘，来使用。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ESXI020.png"><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ESXI021.png"></p>
<p>test</p>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>vmware</tag>
      </tags>
  </entry>
  <entry>
    <title>ESXI6.5 - 安装详细步骤</title>
    <url>/2018/08/14/ESXI6-5-%E5%AE%89%E8%A3%85%E8%AF%A6%E7%BB%86%E6%AD%A5%E9%AA%A4/</url>
    <content><![CDATA[<h2 id="ESXI安装"><a href="#ESXI安装" class="headerlink" title="ESXI安装"></a>ESXI 安装</h2><p>由于官方的 ESXI 支持的网卡及驱动非常少，为了方便已经将常用的驱动已经打包。可以直接用我打包好的 ISO 文件来安装。<a href="https://pan.baidu.com/s/1zbkKrmEtWE1z1s_nyYtnUA"><i class="fa fa-cloud-download">ESXi-6.7.0-8169922-standard-8111-igb-xahci.iso</i></a>，密码:kgfc<br>接着用 <a href="https://pan.baidu.com/s/1acMkklB2vfQ0OBs4tX_xTQ"><i class="fa fa-cloud-download">UltraISO</i></a> 将 esxi 的 ISO 文件写入到 U 盘。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_esxi_014.png"><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_esxi_015.png"><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_esxi_016.png"><br>然后在装 ESXI 的电脑上，通过 U 盘引导。进入安装介面。选择第一个回车。</p>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_esxi_004.jpg"><br>ESXI 安装程序载入中…..<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_esxi_005.jpg"><br>按回车继续。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_esxi_006.jpg"><br>按 F11 继续。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_esxi_007.jpg"><br>选择安装的硬盘，按回车继续。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_esxi_008.jpg"><br>设置 ESXI 的登陆密码，按回车确认。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_esxi_009.jpg"><br>按 F11 继续安装。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_esxi_010.jpg"><br>选择第一个重启电脑，记得要把 U 盘拔出来。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_esxi_011.jpg"></p>
<h2 id="配置ESXI网络"><a href="#配置ESXI网络" class="headerlink" title="配置ESXI网络"></a>配置 ESXI 网络</h2><p>安装完成，现在配置 ESXI，按 F2 进入配置介面。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_esxi_012.jpg"><br>选择 <code>Configure Management Network</code> 进入网络配置。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_esxi_013.jpg"><br>选择 <code>IPv4 Configuration</code> 配置 IP 地址。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_esxi_014.jpg"><br>选择第三个静态 IP 地址，然后在下面输入你的 IP 地址，子网掩码和网关，回车确认。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_esxi_015.jpg"><br>键盘上按 <code>ESC</code> 键，退出。选择 <code>Y</code>, 保存网络配置。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_esxi_016.jpg"><br>ESXI 设置完毕！<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_esxi_017.jpg"></p>
<h2 id="访问ESXI"><a href="#访问ESXI" class="headerlink" title="访问ESXI"></a>访问 ESXI</h2><p>访问 ESXI，通过局域网内另一台电脑，在浏览器中输入刚才设置的 IP 地址，就可以访问了。默认用户名是 <code>root</code>。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_esxi_018.jpg"></p>
<div class="note warning"><p>由于本人安装 ESXI 时没有截图，上面这些图片取自互联网。IP 地址和安装硬盘路径要按照你实际的来。 </p>
</div>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>vmware</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux 下配置 LVM (逻辑卷管理）</title>
    <url>/2018/08/10/Linux%E4%B8%8B%E9%85%8D%E7%BD%AELVM-%E9%80%BB%E8%BE%91%E5%8D%B7%E7%AE%A1%E7%90%86%EF%BC%89/</url>
    <content><![CDATA[<h1 id="LVM介绍"><a href="#LVM介绍" class="headerlink" title="LVM介绍"></a>LVM 介绍</h1><p>LVM 是 Logical Volume Manager (逻辑卷管理) 的简写，它是 Linux 环境下对磁盘分区进行管理的一种机制</p>
<p>LVM - 优点: </p>
<p>LVM 通常用于装备大量磁盘的系统，但它同样适于仅有一、两块硬盘的小系统。</p>
<p>小系统使用 LVM 的益处:</p>
<p>传统的文件系统是基于分区的，一个文件系统对应一个分区。这种方式比较直观，但不易改变：</p>
<p>1、不同的分区相对独立，无相互联系，各分区空间很易利用不平衡，空间不能充分利用；</p>
<p>2、当一个文件系统／分区已满时，无法对其扩充，只能采用重新分区／建立文件系统，非常麻烦；或把分区中的数据移到另一个更大的分区中；或采用符号连接的方式使用其它分区的空间。</p>
<p>3、如果要把硬盘上的多个分区合并在一起使用，只能采用再分区的方式，这个过程需要数据的备份与恢复。</p>
<p>当采用 LVM 时，情况有所不同：</p>
<p>1、硬盘的多个分区由 LVM 统一为卷组管理，可以方便的加入或移走分区以扩大或减小卷组的可用容量，充分利用硬盘空间；</p>
<p>2、文件系统建立在逻辑卷上，而逻辑卷可根据需要改变大小 (在卷组容量范围内) 以满足要求；</p>
<p>3、文件系统建立在 LVM 上，可以跨分区，方便使用；</p>
<h1 id="系统使用LVM的益处"><a href="#系统使用LVM的益处" class="headerlink" title="系统使用LVM的益处"></a>系统使用 LVM 的益处</h1><p>1、在使用很多硬盘的大系统中，使用 LVM 主要是方便管理、增加了系统的扩展性。</p>
<p>2、在一个有很多不同容量硬盘的大型系统中，对不同的用户的空间分配是一个技巧性的工作，要在用户需求与实际可用空间中寻求平衡。</p>
<p>3、用户／用户组的空间建立在 LVM 上，可以随时按要求增大，或根据使用情况对各逻辑卷进行调整。当系统空间不足而加入新的硬盘时，不必把用户的数据从原硬盘迁移到新硬盘，而只须把新的分区加入卷组并扩充逻辑卷即可。同样，使用 LVM 可以在不停服务的情况下。把用户数据从旧硬盘转移到新硬盘空间中去。</p>
<h1 id="名词解释"><a href="#名词解释" class="headerlink" title="名词解释"></a>名词解释</h1><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_LVM.jpg"><br>1、物理卷 —–PV（Physical Volume）<br>物理卷在逻辑卷管理中处于最底层，它可以是实际物理硬盘上的分区，也可以是整个物理硬盘。</p>
<p>2、卷组 ——–VG（Volumne Group）<br>卷组建立在物理卷之上，一个卷组中至少要包括一个物理卷，在卷组建立之后可动态添加物理卷到卷组中。一个逻辑卷管理系统工程中可以只有一个卷组，也可以拥有多个卷组。</p>
<p>3、逻辑卷 —–LV（Logical Volume）<br>逻辑卷建立在卷组之上，卷组中的未分配空间可以用于建立新的逻辑卷，逻辑卷建立后可以动态地扩展和缩小空间。系统中的多个逻辑卷要以属于同一个卷组，也可以属于不同的多个卷组。</p>
<p>4、物理区域–PE（Physical Extent）<br>物理区域是物理卷中可用于分配的最小存储单元，物理区域的大小可根据实际情况在建立物理卷时指定。物理区域大小一旦确定将不能更改，同一卷组中的所有物理卷的物理区域大小需要一致。</p>
<h1 id="安装LVM"><a href="#安装LVM" class="headerlink" title="安装LVM"></a>安装 LVM</h1><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">yum install lvm2 #centos和redhat环境下使用</span><br><span class="line">apt-get install lvm2 #debin和ubuntu环境下使用</span><br></pre></td></tr></tbody></table></figure>

<h1 id="LVM使用"><a href="#LVM使用" class="headerlink" title="LVM使用"></a>LVM 使用</h1><p>比方我有二块硬盘，其中 /dev/sdb1 是 SSD。sdc 的硬盘分成二个区。/dev/sdb1、/dev/sdc1、/dev/sdc2。</p>
<h2 id="建立PV"><a href="#建立PV" class="headerlink" title="建立PV"></a>建立 PV</h2><p>pvcreate 创建 LVM 磁盘（即物理卷）<br>将 sdb1 和 sdc2 创建成 LVM</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">pvcreate /dev/sdb1</span><br><span class="line">pvcreate /dev/sdc2</span><br></pre></td></tr></tbody></table></figure>

<p>pvdisplay 显示卷组中的物理卷信息.<br>pvs 显示卷组简单信息</p>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_LVM1.png"></p>
<h2 id="建立VG"><a href="#建立VG" class="headerlink" title="建立VG"></a>建立 VG</h2><p>vgcreate 创建卷组.<br>将 sdb1 和 sdc2 添加到 VG，VG 起名：vgdisk</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">vgcreate vgdisk /dev/sdb1 /dev/sdc2</span><br></pre></td></tr></tbody></table></figure>

<p>vgdisplay 显示 vg 信息<br>vgs 显示 vg 简单信息</p>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_LVM2.png"></p>
<p>图片中显示的 <code>VG Size</code> 就是整个 VG 的大小，<code>PE Size</code> 就是 PE 的值，默认是 4M。<code>Total PE</code> 是整个 PE 的数量。<code>Free PE</code> 是剩余 PE 的数量。PE 的数值 * 4M 就是整个硬盘的大小。</p>
<h2 id="建立LV"><a href="#建立LV" class="headerlink" title="建立LV"></a>建立 LV</h2><p>lvcreate 创建逻辑卷</p>
<p>在 vgdisk 卷组上，创建一个 200M, 名字叫 lv 的逻辑卷，</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">lvcreate -L 200M -n lv vgdisk</span><br></pre></td></tr></tbody></table></figure>
<p>lvdisplay 显示 lv 信息<br>lvs 显示 lv 简单信息<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_LVM3.png"></p>
<h2 id="其它运用"><a href="#其它运用" class="headerlink" title="其它运用"></a>其它运用</h2><p>将 vgdisk 组的剩余空间全部分配到一个新的逻辑卷，取名 lv2</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">lvcreate -l 这里使用FreePE的值 -n lv2 vgdisk</span><br></pre></td></tr></tbody></table></figure>

<p>将逻辑卷 lv 增加 500M 空间</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">lvextend -L +500M /dev/vgdisk/lv</span><br></pre></td></tr></tbody></table></figure>

<p>变更逻辑卷大小后，需要同步文件改变</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">resize2fs /dev/vgdisk/lv</span><br></pre></td></tr></tbody></table></figure>

<p>删除逻辑卷 lv</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">lvremove /dev/vgdisk/lv</span><br></pre></td></tr></tbody></table></figure>

<p>删除卷组 vgdisk</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">vgremove vgdisk</span><br></pre></td></tr></tbody></table></figure>

<p>从 vgdisk 卷组里把 sda6 删除</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">vgreduce vgdisk /dev/sda6</span><br></pre></td></tr></tbody></table></figure>

<p>如果 VG 的大小不够了，需要添加新的 PV 到 VG. 下面就是将 /dev/sdd1 添加到 vgdisk 中</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">vgextend vgdisk /dev/sdd1</span><br></pre></td></tr></tbody></table></figure>

<p>将 LV 逻辑卷的大小，缩小 15G.</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">e2fsck /dev/vgdisk/lv</span><br><span class="line">resize2fs -f /dev/vgdisk/lv 15g</span><br><span class="line">lvreduce -L 15g /dev/vgdisk/lv</span><br></pre></td></tr></tbody></table></figure>

<p>用 SSD 物理盘 /dev/sdb1, 划一块做缓存给 vgdisk 上的 lv 逻辑卷.</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">lvcreate --type cache --cachemode writeback -L 缓存大小 -n 你给缓存起的名字  /dev/vgdisk/lv /dev/sdb1</span><br></pre></td></tr></tbody></table></figure>

<p>查看缓存是否建立成功.</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">lvs -a vgdisk  </span><br></pre></td></tr></tbody></table></figure>

<p>换系统后 LVS 的挂载</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">lvs -o +devices #检查磁盘及文件系统状况</span><br><span class="line">mount | grep '/dev/mapper'  #检查缓冲盘</span><br></pre></td></tr></tbody></table></figure>
<p>检查完之后就可以在 <code>/dev</code> 目录下找到丢失的 LVS 了。</p>
<h2 id="遇到的问题。"><a href="#遇到的问题。" class="headerlink" title="遇到的问题。"></a>遇到的问题。</h2><p>建立缓存后可能会存在重启后 VG 不见的情况，这时需要安装 “thin-provisioning-tools” 工具组件.</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">apt-get install thin-provisioning-tools #debian&amp;ubuntu</span><br><span class="line">yum install thin-provisioning-tools #centos&amp;redhat</span><br></pre></td></tr></tbody></table></figure>
<p>重启后无法挂载 vgdisk, 使用 vgchange 激活 vgdisk</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">vgchange -a y vgdisk  </span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>[原创] Hexo+Github 搭建自己的博客 --- 心得汇总 2018 版（内容编辑篇）</title>
    <url>/2018/08/10/Hexo-Github%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A23/</url>
    <content><![CDATA[<p>上篇把 hexo 的配置讲的差不多了，现在我们讲一下 hexo 里的内容编辑.</p>
<h2 id="文章抬头设置"><a href="#文章抬头设置" class="headerlink" title="文章抬头设置"></a>文章抬头设置</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">---</span><br><span class="line">tags:</span><br><span class="line">- hexo</span><br><span class="line">- ccs</span><br><span class="line">categories: 技术分享</span><br><span class="line">top: true</span><br><span class="line">password: 123456</span><br><span class="line">---</span><br></pre></td></tr></tbody></table></figure>
<p>上面这个抬头就是建立了 <code>hexo</code> 和 <code>ccs</code> 标签，<code>技术分享</code>的分类，以及把这篇文章置顶，访问该篇文章需要输入密码 123456.</p>
<h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><h3 id="分级标题："><a href="#分级标题：" class="headerlink" title="分级标题："></a>分级标题：</h3><p>行首加 “#” 表示不同级别的标题 (H1-H6)。“#” 后最好空一格。H1 最大，H6 最小。# H1## H2### H3#### H4##### H5###### H6</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># 一级标题</span><br><span class="line">## 二级标题</span><br><span class="line">### 三级标题</span><br><span class="line">#### 四级标题</span><br><span class="line">##### 五级标题</span><br><span class="line">###### 六级标题</span><br></pre></td></tr></tbody></table></figure>
<p>效果展示:</p>
<h1 id="一级标题"><a href="#一级标题" class="headerlink" title="一级标题"></a>一级标题</h1><h2 id="二级标题"><a href="#二级标题" class="headerlink" title="二级标题"></a>二级标题</h2><h3 id="三级标题"><a href="#三级标题" class="headerlink" title="三级标题"></a>三级标题</h3><h4 id="四级标题"><a href="#四级标题" class="headerlink" title="四级标题"></a>四级标题</h4><h5 id="五级标题"><a href="#五级标题" class="headerlink" title="五级标题"></a>五级标题</h5><h6 id="六级标题"><a href="#六级标题" class="headerlink" title="六级标题"></a>六级标题</h6><hr>
<h3 id="文字强调："><a href="#文字强调：" class="headerlink" title="文字强调："></a>文字强调：</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">*斜体文字*</span><br><span class="line">**加粗文字**</span><br><span class="line">***粗斜体文字***</span><br></pre></td></tr></tbody></table></figure>
<p>效果展示:<br><em>斜体文字</em><br><strong>加粗文字</strong><br><em><strong>粗斜体文字</strong></em></p>
<hr>
<h3 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h3><p>*+- 表示无序列表。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">* 测试</span><br><span class="line">* 测试1</span><br><span class="line">* 测试2</span><br><span class="line">+ 测试3</span><br><span class="line">+ 测试4</span><br><span class="line">+ 测试5</span><br><span class="line">- 测试6</span><br><span class="line">- 测试7</span><br><span class="line">- 测试8</span><br></pre></td></tr></tbody></table></figure>
<p>效果展示:</p>
<ul>
<li>测试</li>
<li>测试 1</li>
<li> 测试 2</li>
</ul>
<ul>
<li> 测试 3</li>
<li> 测试 4</li>
<li> 测试 5</li>
</ul>
<ul>
<li> 测试 6</li>
<li> 测试 7</li>
<li> 测试 8</li>
</ul>
<p>数字和点 1.2.3. 表示有序列表。字符后须空一格。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">1. 测试1</span><br><span class="line">2. 测试2</span><br><span class="line">3. 测试3</span><br><span class="line">4. 测试4</span><br><span class="line">5. 测试5</span><br></pre></td></tr></tbody></table></figure>
<p>效果展示:</p>
<ol>
<li>测试 1</li>
<li> 测试 2</li>
<li> 测试 3</li>
<li> 测试 4</li>
<li> 测试 5</li>
</ol>
<h3 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&gt; 引用 &gt;&gt; 引用中的引用</span><br></pre></td></tr></tbody></table></figure>
<p>效果展示:</p>
<blockquote>
<p>引用 &gt;&gt; 引用中的引用</p>
</blockquote>
<h3 id="文本居中的引用"><a href="#文本居中的引用" class="headerlink" title="文本居中的引用"></a>文本居中的引用</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">{% cq %} 文本居中的引用</span><br><span class="line">测试</span><br><span class="line">测试2  {% endcq %}</span><br></pre></td></tr></tbody></table></figure>
<p>效果展示：</p>
<blockquote class="blockquote-center">
<p> 文本居中的引用<br>测试<br>测试 2  </p>

</blockquote>

<h3 id="分割线"><a href="#分割线" class="headerlink" title="分割线"></a>分割线</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">***</span><br><span class="line"></span><br><span class="line">---</span><br></pre></td></tr></tbody></table></figure>
<p>效果展示:</p>
<hr>
<hr>
<h3 id="删除线和下划线"><a href="#删除线和下划线" class="headerlink" title="删除线和下划线"></a>删除线和下划线</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">~~删除线~~</span><br><span class="line">&lt;u&gt;下划线&lt;/u&gt;</span><br></pre></td></tr></tbody></table></figure>
<p>效果展示:<br><del>删除线</del><br><u>下划线</u></p>
<h3 id="行内代码"><a href="#行内代码" class="headerlink" title="行内代码"></a>行内代码</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">`hello world`</span><br></pre></td></tr></tbody></table></figure>
<p>效果展示:<br><code>hell world</code></p>
<h3 id="代码块"><a href="#代码块" class="headerlink" title="代码块"></a>代码块</h3><p>行首敲四个缩进空格，或者某段文本上下一行均加 ```, 或者某段文本上下一行均加～～～</p>
<p>效果展示:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">代码块测试!</span><br></pre></td></tr></tbody></table></figure>

<h3 id="外链"><a href="#外链" class="headerlink" title="外链"></a>外链</h3><p>描述即外链的名称，可以随意修改.</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">[描述](http://www.baidu.com)</span><br></pre></td></tr></tbody></table></figure>
<p>效果展示:<br><a href="http://www.baidu.com/">描述</a></p>
<h3 id="插入图像"><a href="#插入图像" class="headerlink" title="插入图像"></a>插入图像</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">![图像测试](https://www.baidu.com/img/bd_logo1.png?where=super)  #markdown插入的图片，无法设置大小</span><br><span class="line">&lt;img src=""https://www.baidu.com/img/bd_logo1.png?where=super" width="50%" height="50%" /&gt; #img src插入图片可以设置图片的大小</span><br></pre></td></tr></tbody></table></figure>
<p>效果展示:<br><img src="https://www.baidu.com/img/bd_logo1.png?where=super" alt="图像测试"><br><img src="https://www.baidu.com/img/bd_logo1.png?where=super" width="50%" height="50%"> </p>
<h3 id="缩进："><a href="#缩进：" class="headerlink" title="缩进："></a>缩进：</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">　　　输入法中半角改为全角，缩进效果如同Word。或段首加几个，即缩进几格。</span><br></pre></td></tr></tbody></table></figure>
<p>效果展示:<br>　　　输入法中半角改为全角，缩进效果如同 Word。或段首加几个，即缩进几格。</p>
<h3 id="换行"><a href="#换行" class="headerlink" title="换行"></a>换行</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">在行中加&lt;br&gt;即换行，在行末加&lt;p&gt;即空行；在行中插入分隔线&lt;hr/&gt;测试分隔线中。</span><br></pre></td></tr></tbody></table></figure>
<p>效果展示:<br>在行中加<br>即换行，在行末加</p><p>即空行；在行中插入分隔线</p><hr>测试分隔线中。<p></p>
<h3 id="转义符"><a href="#转义符" class="headerlink" title="转义符"></a>转义符</h3><p>在特殊字符前面加 \ 可使特殊字符转换为正常字符，而不是被识别为 markdown 语法符号。如：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">\\\`\*\_\{\}\[\]\(\)\#\+\-\.\!</span><br></pre></td></tr></tbody></table></figure>
<p>效果展示:<br>\`*_{}[]()#+-.!</p>
<h3 id="脚注"><a href="#脚注" class="headerlink" title="脚注"></a>脚注</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">比如test[^1\],脚注2是[^2\]是这样的</span><br></pre></td></tr></tbody></table></figure>

<p>效果展示:<br>比如 test<a href="%E8%84%9A%E6%B3%A8%E5%86%85%E5%AE%B9">^1</a>, 脚注 2 是 <a href="%E6%B5%8B%E8%AF%95%E8%84%9A%E6%B3%A8">^2</a> 是这样的</p>
<h3 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h3><p>使用竖线 “|” 分割开，表头下面加上横线，如下所示：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">姓名|性别|年龄|分数|</span><br><span class="line">|---|:---:|:--|---:| </span><br><span class="line">|张三|男|8|60|</span><br><span class="line">|李四|女|20|90|</span><br><span class="line">|默认|居中|左对齐|右对齐|</span><br></pre></td></tr></tbody></table></figure>
<p>效果展示:</p>
<table>
<thead>
<tr>
<th>姓名</th>
<th align="center">性别</th>
<th align="left">年龄</th>
<th align="right">分数</th>
</tr>
</thead>
<tbody><tr>
<td>张三</td>
<td align="center">男</td>
<td align="left"> 8</td>
<td align="right">60</td>
</tr>
<tr>
<td> 李四</td>
<td align="center">女</td>
<td align="left"> 20</td>
<td align="right">90</td>
</tr>
<tr>
<td> 默认</td>
<td align="center">居中</td>
<td align="left">左对齐</td>
<td align="right">右对齐</td>
</tr>
</tbody></table>
<h3 id="上标与下标"><a href="#上标与下标" class="headerlink" title="上标与下标"></a>上标与下标</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">测试文字&lt;sub&gt;这是下标文本&lt;/sub&gt;</span><br><span class="line"></span><br><span class="line">测试文字&lt;sup&gt;这是上标文本&lt;/sup&gt;</span><br></pre></td></tr></tbody></table></figure>
<p>效果展示:<br>测试文字<sub>这是下标文本</sub></p>
<p>测试文字<sup>这是上标文本</sup></p>
<h3 id="字体加大和缩小"><a href="#字体加大和缩小" class="headerlink" title="字体加大和缩小"></a>字体加大和缩小</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;small&gt;&lt;small&gt;最小字号&lt;/small&gt;&lt;/small&gt;</span><br><span class="line">&lt;small&gt;小字号&lt;/small&gt;</span><br><span class="line">&lt;big&gt;大字号&lt;/big&gt;</span><br><span class="line">&lt;big&gt;&lt;big&gt;大大字号&lt;/big&gt;&lt;/big&gt;</span><br><span class="line">&lt;big&gt;&lt;big&gt;&lt;big&gt;大大大字号&lt;/big&gt;&lt;/big&gt;&lt;/big&gt;</span><br><span class="line">&lt;big&gt;&lt;big&gt;&lt;big&gt;&lt;big&gt;继续加可以继续大下去&lt;/big&gt;&lt;/big&gt;&lt;/big&gt;&lt;/big&gt;</span><br></pre></td></tr></tbody></table></figure>
<p>效果展示:<br><small><small>最小字号</small></small><br><small>小字号</small><br><big>大字号</big><br><big><big>大大字号</big></big><br><big><big><big>大大大字号</big></big></big><br><big><big><big><big>继续加可以继续大下去</big></big></big></big></p>
<h3 id="添加ICO图标"><a href="#添加ICO图标" class="headerlink" title="添加ICO图标"></a>添加 ICO 图标</h3><p>可以在 <a href="https://fontawesome.com/v4.7.0/icons/">Font Awesome</a> 官网查找 ICO 图标，然后通过 <code>class</code> 方法添加。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;i class="fa fa-pencil"&gt;&lt;/i&gt; 铅笔</span><br><span class="line">&lt;i class="fa fa-cloud-upload"&gt;&lt;/i&gt; 上传</span><br><span class="line">&lt;i class="fa fa-download"&gt;&lt;/i&gt; 下载</span><br><span class="line">&lt;i class="fa fa-download fa-lg"&gt;&lt;/i&gt; 下载变大 33%</span><br><span class="line">&lt;i class="fa fa-download fa-2x"&gt;&lt;/i&gt; 下载两倍大</span><br></pre></td></tr></tbody></table></figure>
<p>效果展示：<br><i class="fa fa-pencil"></i> 铅笔<br><i class="fa fa-cloud-upload"></i> 上传<br><i class="fa fa-download"></i> 下载<br><i class="fa fa-download fa-lg"></i> 下载变大 33%<br><i class="fa fa-download fa-2x"></i> 下载两倍大</p>
<h3 id="Bootstrap标注"><a href="#Bootstrap标注" class="headerlink" title="Bootstrap标注"></a>Bootstrap 标注</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">{% note class_name %} 文字内容 (md class_name supported) {% endnote %}</span><br><span class="line">{% note primary %} 文字内容 (md primary supported) {% endnote %}</span><br><span class="line">{% note default %} 文字内容 (md default supported) {% endnote %}</span><br><span class="line">{% note success %} 文字内容 (md success supported) {% endnote %}</span><br><span class="line">{% note info %} 文字内容 (md info supported) {% endnote %}</span><br><span class="line">{% note warning %} 文字内容 (md warning supported) {% endnote %}</span><br><span class="line">{% note danger %} 文字内容 (md danger supported) {% endnote %}</span><br></pre></td></tr></tbody></table></figure>
<p>效果展示：</p>
<details class="note "><summary><p>class_name</p>
</summary>
<p>文字内容 (md class_name supported) </p>

</details>
<div class="note primary"><p>文字内容 (md primary supported) </p>
</div>
<div class="note default"><p>文字内容 (md default supported) </p>
</div>
<div class="note success"><p>文字内容 (md success supported) </p>
</div>
<div class="note info"><p>文字内容 (md info supported) </p>
</div>
<div class="note warning"><p>文字内容 (md warning supported) </p>
</div>
<div class="note danger"><p>文字内容 (md danger supported) </p>
</div>

<h3 id="设置文字颜色"><a href="#设置文字颜色" class="headerlink" title="设置文字颜色"></a>设置文字颜色</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;font color="red"&gt;&lt;big&gt;测试内容&lt;/big&gt;&lt;/font&gt;</span><br><span class="line">&lt;font color="#0000FF"&gt;测试内容&lt;/font&gt;</span><br></pre></td></tr></tbody></table></figure>
<p>效果展示：<br><font color="red"><big>测试内容</big></font><br><font color="#0000FF">测试内容</font></p>
<h3 id="待办事宜列表"><a href="#待办事宜列表" class="headerlink" title="待办事宜列表"></a>待办事宜列表</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">- [ ] 支持以 PDF 格式导出文稿</span><br><span class="line">- [ ] 改进 Cmd 渲染算法，使用局部渲染技术提高渲染效率</span><br><span class="line">- [x] 新增 Todo 列表功能</span><br><span class="line">- [x] 修复 LaTex 公式渲染问题</span><br><span class="line">- [x] 新增 LaTex 公式编号功能</span><br></pre></td></tr></tbody></table></figure>
<p>效果展示：</p>
<ul>
<li><input disabled="" type="checkbox"> 支持以 PDF 格式导出文稿</li>
<li><input disabled="" type="checkbox"> 改进 Cmd 渲染算法，使用局部渲染技术提高渲染效率</li>
<li><input checked="" disabled="" type="checkbox"> 新增 Todo 列表功能</li>
<li><input checked="" disabled="" type="checkbox"> 修复 LaTex 公式渲染问题</li>
<li><input checked="" disabled="" type="checkbox"> 新增 LaTex 公式编号功能</li>
</ul>
<h3 id="行内HTML元素"><a href="#行内HTML元素" class="headerlink" title="行内HTML元素"></a>行内 HTML 元素</h3><p><code>&lt;kbd&gt;</code> 标签定义键盘文本。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;kbd&gt;Ctrl&lt;kbd&gt;+&lt;kbd&gt;Alt&lt;kbd&gt;+&lt;kbd&gt;Del&lt;kbd&gt; 重启电脑</span><br></pre></td></tr></tbody></table></figure>
<p>效果展示：<br><kbd>Ctrl <kbd>+ <kbd>Alt <kbd>+ <kbd>Del <kbd> 重启电脑</kbd></kbd></kbd></kbd></kbd></kbd></p>
<h3 id="辅助排版符号"><a href="#辅助排版符号" class="headerlink" title="辅助排版符号"></a>辅助排版符号</h3><p>键盘打不出的，复制 - 粘贴即可</p>
<p>直角引号比较古典，尤其用在标题中：「」和『』代替 “ ”</p>
<p>▍这个加在分级标题前效果好</p>
<p>▏这个在段落前等于是空格</p>
<p>各种三角 ▷ ◁ ▶ ◀ △▽▲▼</p>
<p>➥ 和 → 还有 ˉˉ↴ 以及 ➨ 起引导视线的作用</p>
<p>☛ 这个是点击</p>
<p>☑ 和 ✔ 是已经选择，OK</p>
<p>✘ 是错误，删除，NO</p>
<p>✄ 是剪切</p>
<p>❐ 这个是复制粘贴</p>
<p>✚ 是添加，补充，选项</p>
<p>☷ 是列表，调整格式</p>
<p>① ② ③ ④ ⑤ ⑥ ⑦ ⑧ ⑨ ⑩ 这样的数字是不是很酷</p>
<p>罗马数字（Ⅰ・Ⅱ・Ⅲ・Ⅳ・Ⅴ・Ⅵ・Ⅶ・Ⅷ・Ⅸ・Ⅹ・Ⅺ・Ⅻ）比较优雅复古</p>
<h3 id="居中和右对齐"><a href="#居中和右对齐" class="headerlink" title="居中和右对齐"></a>居中和右对齐</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;!-- 居中 --&gt;</span><br><span class="line">&lt;center&gt;内容&lt;/center&gt;</span><br><span class="line">&lt;!-- 右对齐 --&gt;</span><br><span class="line">&lt;div style="text-align:right"&gt;内容&lt;/div&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>效果展示：</p>
<!-- 居中 -->
<center>内容</center>
<!-- 右对齐 -->
<div style="text-align:right">内容</div>

<h3 id="选项卡"><a href="#选项卡" class="headerlink" title="选项卡"></a>选项卡</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">{% tabs 选项卡, 2 %}</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line">**这是选项卡 1** 呵呵哈哈哈哈哈哈</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line">**这是选项卡 2** 额。。。</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line">**这是选项卡 3** 哇，你找到我了！</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">{% endtabs %}</span><br></pre></td></tr></tbody></table></figure>
<p>效果展示：</p>
<div class="tabs" id="选项卡"><ul class="nav-tabs"><li class="tab"><a href="#选项卡-1">选项卡 1</a></li><li class="tab active"><a href="#选项卡-2">选项卡 2</a></li><li class="tab"><a href="#选项卡-3">选项卡 3</a></li></ul><div class="tab-content"><div class="tab-pane" id="选项卡-1"><p><strong>这是选项卡 1</strong> 呵呵哈哈哈哈哈哈</p></div><div class="tab-pane active" id="选项卡-2"><p><strong>这是选项卡 2</strong> 额。。。</p></div><div class="tab-pane" id="选项卡-3"><p><strong>这是选项卡 3</strong> 哇，你找到我了！</p></div></div></div>

<h3 id="按钮样式"><a href="#按钮样式" class="headerlink" title="按钮样式"></a>按钮样式</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">{% btn https://almostover.ru/2016-01/hexo-theme-next-test/#Button-tag-test, 更多关于按钮的使用点这里, download fa-lg fa-fw %}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="效果展示："><a href="#效果展示：" class="headerlink" title="效果展示："></a>效果展示：<br><a class="btn" href="https://almostover.ru/2016-01/hexo-theme-next-test/#Button-tag-test"><i class="fa fa-download fa-lg fa-fw"></i>更多关于按钮的使用点这里</a></h2><h2 id="转义码"><a href="#转义码" class="headerlink" title="转义码"></a>转义码</h2><table>
<thead>
<tr>
<th align="center">字符</th>
<th align="center">转义码</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center"></td>
<td align="center"><code>&amp;#09;</code></td>
<td>制表符 Horizontal tab</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"><code>&amp;#10;</code></td>
<td>换行 Line feed</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"><code>&amp;#13;</code></td>
<td>回车 Carriage Return</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"><code>&amp;#32;</code></td>
<td>Space</td>
</tr>
<tr>
<td align="center">!</td>
<td align="center"><code>&amp;#33;</code></td>
<td>惊叹号 Exclamation mark</td>
</tr>
<tr>
<td align="center">”</td>
<td align="center"><code>&amp;#34;</code></td>
<td>uot; 双引号 Quotation mark</td>
</tr>
<tr>
<td align="center">#</td>
<td align="center"><code>&amp;#35;</code></td>
<td>数字标志 Number sign</td>
</tr>
<tr>
<td align="center">$</td>
<td align="center"><code>&amp;#36;</code></td>
<td>美元标志 Dollar sign</td>
</tr>
<tr>
<td align="center">%</td>
<td align="center"><code>&amp;#37;</code></td>
<td>百分号 Percent sign</td>
</tr>
<tr>
<td align="center">&amp;</td>
<td align="center"><code>&amp;#38;</code></td>
<td>mp; Ampersand</td>
</tr>
<tr>
<td align="center">‘</td>
<td align="center"><code>&amp;#39;</code></td>
<td>单引号 Apostrophe</td>
</tr>
<tr>
<td align="center">(</td>
<td align="center"><code>&amp;#40;</code></td>
<td>小括号左边部分 Left parenthesi</td>
</tr>
<tr>
<td align="center">)</td>
<td align="center"><code>&amp;#41;</code></td>
<td>小括号右边部分 Right parenthes</td>
</tr>
<tr>
<td align="center">*</td>
<td align="center"><code>&amp;#42;</code></td>
<td>星号 Asterisk</td>
</tr>
<tr>
<td align="center">+</td>
<td align="center"><code>&amp;#43;</code></td>
<td>加号 Plus sign</td>
</tr>
<tr>
<td align="center">,</td>
<td align="center"><code>&amp;#44;</code></td>
<td>逗号 Comma</td>
</tr>
<tr>
<td align="center">-</td>
<td align="center"><code>&amp;#45;</code></td>
<td>连字号 Hyphen</td>
</tr>
<tr>
<td align="center">.</td>
<td align="center"><code>&amp;#46;</code></td>
<td>句号 Period (fullstop)</td>
</tr>
<tr>
<td align="center">/</td>
<td align="center"><code>&amp;#47;</code></td>
<td>斜杠 Solidus (slash)</td>
</tr>
<tr>
<td align="center">0</td>
<td align="center"><code>&amp;#48;</code></td>
<td>数字 0 Digit 0</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center"><code>&amp;#49;</code></td>
<td>数字 1 Digit 1</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center"><code>&amp;#50;</code></td>
<td>数字 2 Digit 2</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center"><code>&amp;#51;</code></td>
<td>数字 3 Digit 3</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center"><code>&amp;#52;</code></td>
<td>数字 4 Digit 4</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center"><code>&amp;#53;</code></td>
<td>数字 5 Digit 5</td>
</tr>
<tr>
<td align="center">6</td>
<td align="center"><code>&amp;#54;</code></td>
<td>数字 6 Digit 6</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center"><code>&amp;#55;</code></td>
<td>数字 7 Digit 7</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center"><code>&amp;#56;</code></td>
<td>数字 8 Digit 8</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center"><code>&amp;#57;</code></td>
<td>数字 9 Digit 9</td>
</tr>
<tr>
<td align="center">:</td>
<td align="center"><code>&amp;#58;</code></td>
<td>冒号 Colon</td>
</tr>
<tr>
<td align="center">;</td>
<td align="center"><code>&amp;#59;</code></td>
<td>分号 Semicolon</td>
</tr>
<tr>
<td align="center">&lt;</td>
<td align="center"><code>&amp;#60;</code></td>
<td>小于号 Less than</td>
</tr>
<tr>
<td align="center">=</td>
<td align="center"><code>&amp;#61;</code></td>
<td>等于符号 Equals sign</td>
</tr>
<tr>
<td align="center">&gt;</td>
<td align="center"><code>&amp;#62;</code></td>
<td>大于号 Greater than</td>
</tr>
<tr>
<td align="center">?</td>
<td align="center"><code>&amp;#63;</code></td>
<td>问号 Question mark</td>
</tr>
<tr>
<td align="center">@</td>
<td align="center"><code>&amp;#64;</code></td>
<td>Commercial at</td>
</tr>
<tr>
<td align="center">A</td>
<td align="center"><code>&amp;#65;</code></td>
<td>大写 A Capital A</td>
</tr>
<tr>
<td align="center">B</td>
<td align="center"><code>&amp;#66;</code></td>
<td>大写 B Capital B</td>
</tr>
<tr>
<td align="center">C</td>
<td align="center"><code>&amp;#67;</code></td>
<td>大写 C Capital C</td>
</tr>
<tr>
<td align="center">D</td>
<td align="center"><code>&amp;#68;</code></td>
<td>大写 D Capital D</td>
</tr>
<tr>
<td align="center">E</td>
<td align="center"><code>&amp;#69;</code></td>
<td>大写 E Capital E</td>
</tr>
<tr>
<td align="center">F</td>
<td align="center"><code>&amp;#70;</code></td>
<td>大写 F Capital F</td>
</tr>
<tr>
<td align="center">G</td>
<td align="center"><code>&amp;#71;</code></td>
<td>大写 G Capital G</td>
</tr>
<tr>
<td align="center">H</td>
<td align="center"><code>&amp;#72;</code></td>
<td>大写 H Capital H</td>
</tr>
<tr>
<td align="center">I</td>
<td align="center"><code>&amp;#73;</code></td>
<td>大写 J Capital I</td>
</tr>
<tr>
<td align="center">J</td>
<td align="center"><code>&amp;#74;</code></td>
<td>大写 K Capital J</td>
</tr>
<tr>
<td align="center">K</td>
<td align="center"><code>&amp;#75;</code></td>
<td>大写 L Capital K</td>
</tr>
<tr>
<td align="center">L</td>
<td align="center"><code>&amp;#76;</code></td>
<td>大写 K Capital L</td>
</tr>
<tr>
<td align="center">M</td>
<td align="center"><code>&amp;#77;</code></td>
<td>大写 M Capital M</td>
</tr>
<tr>
<td align="center">N</td>
<td align="center"><code>&amp;#78;</code></td>
<td>大写 N Capital N</td>
</tr>
<tr>
<td align="center">O</td>
<td align="center"><code>&amp;#79;</code></td>
<td>大写 O Capital O</td>
</tr>
<tr>
<td align="center">P</td>
<td align="center"><code>&amp;#80;</code></td>
<td>大写 P Capital P</td>
</tr>
<tr>
<td align="center">Q</td>
<td align="center"><code>&amp;#81;</code></td>
<td>大写 Q Capital Q</td>
</tr>
<tr>
<td align="center">R</td>
<td align="center"><code>&amp;#82;</code></td>
<td>大写 R Capital R</td>
</tr>
<tr>
<td align="center">S</td>
<td align="center"><code>&amp;#83;</code></td>
<td>大写 S Capital S</td>
</tr>
<tr>
<td align="center">T</td>
<td align="center"><code>&amp;#84;</code></td>
<td>大写 T Capital T</td>
</tr>
<tr>
<td align="center">U</td>
<td align="center"><code>&amp;#85;</code></td>
<td>大写 U Capital U</td>
</tr>
<tr>
<td align="center">V</td>
<td align="center"><code>&amp;#86;</code></td>
<td>大写 V Capital V</td>
</tr>
<tr>
<td align="center">W</td>
<td align="center"><code>&amp;#87;</code></td>
<td>大写 W Capital W</td>
</tr>
<tr>
<td align="center">X</td>
<td align="center"><code>&amp;#88;</code></td>
<td>大写 X Capital X</td>
</tr>
<tr>
<td align="center">Y</td>
<td align="center"><code>&amp;#89;</code></td>
<td>大写 Y Capital Y</td>
</tr>
<tr>
<td align="center">Z</td>
<td align="center"><code>&amp;#90;</code></td>
<td>大写 Z Capital Z</td>
</tr>
<tr>
<td align="center">[</td>
<td align="center"><code>&amp;#91;</code></td>
<td>中括号左边部分 Left square b</td>
</tr>
<tr>
<td align="center">|<code>&amp;#92;</code></td>
<td align="center">反斜杠 Reverse solidus (</td>
<td></td>
</tr>
<tr>
<td align="center">]</td>
<td align="center"><code>&amp;#93;</code></td>
<td>中括号右边部分 Right square br</td>
</tr>
<tr>
<td align="center">^</td>
<td align="center"><code>&amp;#94;</code></td>
<td>Caret</td>
</tr>
<tr>
<td align="center">_</td>
<td align="center"><code>&amp;#95;</code></td>
<td>下划线 Horizontal bar (und</td>
</tr>
<tr>
<td align="center">`</td>
<td align="center"><code>&amp;#96;</code></td>
<td>尖重音符 Acute accent</td>
</tr>
<tr>
<td align="center">a</td>
<td align="center"><code>&amp;#97;</code></td>
<td>小写 a Small a</td>
</tr>
<tr>
<td align="center">b</td>
<td align="center"><code>&amp;#98;</code></td>
<td>小写 b Small b</td>
</tr>
<tr>
<td align="center">c</td>
<td align="center"><code>&amp;#99;</code></td>
<td>小写 c Small c</td>
</tr>
<tr>
<td align="center">d</td>
<td align="center"><code>&amp;#100;</code></td>
<td>小写 d Small d</td>
</tr>
<tr>
<td align="center">e</td>
<td align="center"><code>&amp;#101;</code></td>
<td>小写 e Small e</td>
</tr>
<tr>
<td align="center">f</td>
<td align="center"><code>&amp;#102;</code></td>
<td>小写 f Small f</td>
</tr>
<tr>
<td align="center">g</td>
<td align="center"><code>&amp;#103;</code></td>
<td>小写 g Small g</td>
</tr>
<tr>
<td align="center">h</td>
<td align="center"><code>&amp;#104;</code></td>
<td>小写 h Small h</td>
</tr>
<tr>
<td align="center">i</td>
<td align="center"><code>&amp;#105;</code></td>
<td>小写 i Small i</td>
</tr>
<tr>
<td align="center">j</td>
<td align="center"><code>&amp;#106;</code></td>
<td>小写 j Small j</td>
</tr>
<tr>
<td align="center">k</td>
<td align="center"><code>&amp;#107;</code></td>
<td>小写 k Small k</td>
</tr>
<tr>
<td align="center">l</td>
<td align="center"><code>&amp;#108;</code></td>
<td>小写 l Small l</td>
</tr>
<tr>
<td align="center">m</td>
<td align="center"><code>&amp;#109;</code></td>
<td>小写 m Small m</td>
</tr>
<tr>
<td align="center">n</td>
<td align="center"><code>&amp;#110;</code></td>
<td>小写 n Small n</td>
</tr>
<tr>
<td align="center">o</td>
<td align="center"><code>&amp;#111;</code></td>
<td>小写 o Small o</td>
</tr>
<tr>
<td align="center">p</td>
<td align="center"><code>&amp;#112;</code></td>
<td>小写 p Small p</td>
</tr>
<tr>
<td align="center">q</td>
<td align="center"><code>&amp;#113;</code></td>
<td>小写 q Small q</td>
</tr>
<tr>
<td align="center">r</td>
<td align="center"><code>&amp;#114;</code></td>
<td>小写 r Small r</td>
</tr>
<tr>
<td align="center">s</td>
<td align="center"><code>&amp;#115;</code></td>
<td>小写 s Small s</td>
</tr>
<tr>
<td align="center">t</td>
<td align="center"><code>&amp;#116;</code></td>
<td>小写 t Small t</td>
</tr>
<tr>
<td align="center">u</td>
<td align="center"><code>&amp;#117;</code></td>
<td>小写 u Small u</td>
</tr>
<tr>
<td align="center">v</td>
<td align="center"><code>&amp;#118;</code></td>
<td>小写 v Small v</td>
</tr>
<tr>
<td align="center">w</td>
<td align="center"><code>&amp;#119;</code></td>
<td>小写 w Small w</td>
</tr>
<tr>
<td align="center">x</td>
<td align="center"><code>&amp;#120;</code></td>
<td>小写 x Small x</td>
</tr>
<tr>
<td align="center">y</td>
<td align="center"><code>&amp;#121;</code></td>
<td>小写 y Small y</td>
</tr>
<tr>
<td align="center">z</td>
<td align="center"><code>&amp;#122;</code></td>
<td>小写 z Small z</td>
</tr>
<tr>
<td align="center">{</td>
<td align="center"><code>&amp;#123;</code></td>
<td>大括号左边部分 Left curly bra</td>
</tr>
<tr>
<td align="center">|<code>&amp;#124;</code></td>
<td align="center">竖线 Vertical bar</td>
<td></td>
</tr>
<tr>
<td align="center">}</td>
<td align="center"><code>&amp;#125;</code></td>
<td>大括号右边部分 Right curly br</td>
</tr>
<tr>
<td align="center">~</td>
<td align="center"><code>&amp;#126;</code></td>
<td>Tilde</td>
</tr>
<tr>
<td align="center">—</td>
<td align="center"><code>&amp;#127;</code></td>
<td>未使用 Unused</td>
</tr>
<tr>
<td align="center">&amp;</td>
<td align="center"><code>&amp;#160;</code></td>
<td>空格 Nonbreaking space</td>
</tr>
<tr>
<td align="center">¡</td>
<td align="center"><code>&amp;#161;</code></td>
<td></td>
</tr>
<tr>
<td align="center">￠</td>
<td align="center"><code>&amp;#162;</code></td>
<td></td>
</tr>
<tr>
<td align="center">￡</td>
<td align="center"><code>&amp;#163;</code></td>
<td></td>
</tr>
<tr>
<td align="center">¤</td>
<td align="center"><code>&amp;#164;</code></td>
<td></td>
</tr>
<tr>
<td align="center">￥</td>
<td align="center"><code>&amp;#165;</code></td>
<td></td>
</tr>
<tr>
<td align="center">|<code>&amp;#166;</code></td>
<td align="center"></td>
<td></td>
</tr>
<tr>
<td align="center">§</td>
<td align="center"><code>&amp;#167;</code></td>
<td></td>
</tr>
<tr>
<td align="center">¨</td>
<td align="center"><code>&amp;#168;</code></td>
<td></td>
</tr>
<tr>
<td align="center">©</td>
<td align="center"><code>&amp;#169;</code></td>
<td></td>
</tr>
<tr>
<td align="center">a</td>
<td align="center"><code>&amp;#170;</code></td>
<td></td>
</tr>
<tr>
<td align="center">«</td>
<td align="center"><code>&amp;#171;</code></td>
<td></td>
</tr>
<tr>
<td align="center">¬</td>
<td align="center"><code>&amp;#172;</code></td>
<td></td>
</tr>
<tr>
<td align="center">­</td>
<td align="center"><code>&amp;#173;</code></td>
<td>­ Soft hyphen</td>
</tr>
<tr>
<td align="center">®</td>
<td align="center"><code>&amp;#174;</code></td>
<td></td>
</tr>
<tr>
<td align="center">ˉ</td>
<td align="center"><code>&amp;#175;</code></td>
<td></td>
</tr>
<tr>
<td align="center">°</td>
<td align="center"><code>&amp;#176;</code></td>
<td></td>
</tr>
<tr>
<td align="center">±</td>
<td align="center"><code>&amp;#177;</code></td>
<td></td>
</tr>
<tr>
<td align="center">2</td>
<td align="center"><code>&amp;#178;</code></td>
<td></td>
</tr>
<tr>
<td align="center">3</td>
<td align="center"><code>&amp;#179;</code></td>
<td></td>
</tr>
<tr>
<td align="center">′</td>
<td align="center"><code>&amp;#180;</code></td>
<td></td>
</tr>
<tr>
<td align="center">μ</td>
<td align="center"><code>&amp;#181;</code></td>
<td></td>
</tr>
<tr>
<td align="center">¶</td>
<td align="center"><code>&amp;#182;</code></td>
<td></td>
</tr>
<tr>
<td align="center">·</td>
<td align="center"><code>&amp;#183;</code></td>
<td></td>
</tr>
<tr>
<td align="center">¸</td>
<td align="center"><code>&amp;#184;</code></td>
<td></td>
</tr>
<tr>
<td align="center">1</td>
<td align="center"><code>&amp;#185;</code></td>
<td></td>
</tr>
<tr>
<td align="center">o</td>
<td align="center"><code>&amp;#186;</code></td>
<td></td>
</tr>
<tr>
<td align="center">»</td>
<td align="center"><code>&amp;#187;</code></td>
<td></td>
</tr>
<tr>
<td align="center">¼</td>
<td align="center"><code>&amp;#188;</code></td>
<td></td>
</tr>
<tr>
<td align="center">½</td>
<td align="center"><code>&amp;#189;</code></td>
<td></td>
</tr>
<tr>
<td align="center">¾</td>
<td align="center"><code>&amp;#190;</code></td>
<td></td>
</tr>
<tr>
<td align="center">¿</td>
<td align="center"><code>&amp;#191;</code></td>
<td></td>
</tr>
<tr>
<td align="center">à</td>
<td align="center"><code>&amp;#192;</code></td>
<td></td>
</tr>
<tr>
<td align="center">á</td>
<td align="center"><code>&amp;#193;</code></td>
<td></td>
</tr>
<tr>
<td align="center">Â</td>
<td align="center"><code>&amp;#194;</code></td>
<td></td>
</tr>
<tr>
<td align="center">Ã</td>
<td align="center"><code>&amp;#195;</code></td>
<td></td>
</tr>
<tr>
<td align="center">Ä</td>
<td align="center"><code>&amp;#196;</code></td>
<td></td>
</tr>
<tr>
<td align="center">Å</td>
<td align="center"><code>&amp;#197;</code></td>
<td></td>
</tr>
<tr>
<td align="center">Æ</td>
<td align="center"><code>&amp;#198;</code></td>
<td></td>
</tr>
<tr>
<td align="center">Ç</td>
<td align="center"><code>&amp;#199;</code></td>
<td></td>
</tr>
<tr>
<td align="center">è</td>
<td align="center"><code>&amp;#200;</code></td>
<td></td>
</tr>
<tr>
<td align="center">é</td>
<td align="center"><code>&amp;#201;</code></td>
<td></td>
</tr>
<tr>
<td align="center">ê</td>
<td align="center"><code>&amp;#202;</code></td>
<td></td>
</tr>
<tr>
<td align="center">Ë</td>
<td align="center"><code>&amp;#203;</code></td>
<td></td>
</tr>
<tr>
<td align="center">ì</td>
<td align="center"><code>&amp;#204;</code></td>
<td></td>
</tr>
<tr>
<td align="center">í</td>
<td align="center"><code>&amp;#205;</code></td>
<td></td>
</tr>
<tr>
<td align="center">Î</td>
<td align="center"><code>&amp;#206;</code></td>
<td></td>
</tr>
<tr>
<td align="center">Ï</td>
<td align="center"><code>&amp;#207;</code></td>
<td></td>
</tr>
<tr>
<td align="center">D</td>
<td align="center"><code>&amp;#208;</code></td>
<td></td>
</tr>
<tr>
<td align="center">Ñ</td>
<td align="center"><code>&amp;#209;</code></td>
<td></td>
</tr>
<tr>
<td align="center">ò</td>
<td align="center"><code>&amp;#210;</code></td>
<td></td>
</tr>
<tr>
<td align="center">ó</td>
<td align="center"><code>&amp;#211;</code></td>
<td></td>
</tr>
<tr>
<td align="center">Ô</td>
<td align="center"><code>&amp;#212;</code></td>
<td></td>
</tr>
<tr>
<td align="center">Õ</td>
<td align="center"><code>&amp;#213;</code></td>
<td></td>
</tr>
<tr>
<td align="center">Ö</td>
<td align="center"><code>&amp;#214;</code></td>
<td></td>
</tr>
<tr>
<td align="center">×</td>
<td align="center"><code>&amp;#215;</code></td>
<td></td>
</tr>
<tr>
<td align="center">Ø</td>
<td align="center"><code>&amp;#216;</code></td>
<td></td>
</tr>
<tr>
<td align="center">ù</td>
<td align="center"><code>&amp;#217;</code></td>
<td></td>
</tr>
<tr>
<td align="center">ú</td>
<td align="center"><code>&amp;#218;</code></td>
<td></td>
</tr>
<tr>
<td align="center">Û</td>
<td align="center"><code>&amp;#219;</code></td>
<td></td>
</tr>
<tr>
<td align="center">ü</td>
<td align="center"><code>&amp;#220;</code></td>
<td></td>
</tr>
<tr>
<td align="center">Y</td>
<td align="center"><code>&amp;#221;</code></td>
<td></td>
</tr>
<tr>
<td align="center">T</td>
<td align="center"><code>&amp;#222;</code></td>
<td></td>
</tr>
<tr>
<td align="center">ß</td>
<td align="center"><code>&amp;#223;</code></td>
<td></td>
</tr>
<tr>
<td align="center">à</td>
<td align="center"><code>&amp;#224;</code></td>
<td></td>
</tr>
<tr>
<td align="center">á</td>
<td align="center"><code>&amp;#225;</code></td>
<td></td>
</tr>
<tr>
<td align="center">a</td>
<td align="center"><code>&amp;#226;</code></td>
<td></td>
</tr>
<tr>
<td align="center">ã</td>
<td align="center"><code>&amp;#227;</code></td>
<td></td>
</tr>
<tr>
<td align="center">ä</td>
<td align="center"><code>&amp;#228;</code></td>
<td></td>
</tr>
<tr>
<td align="center">å</td>
<td align="center"><code>&amp;#229;</code></td>
<td></td>
</tr>
<tr>
<td align="center">æ</td>
<td align="center"><code>&amp;#230;</code></td>
<td></td>
</tr>
<tr>
<td align="center">ç</td>
<td align="center"><code>&amp;#231;</code></td>
<td></td>
</tr>
<tr>
<td align="center">è</td>
<td align="center"><code>&amp;#232;</code></td>
<td></td>
</tr>
<tr>
<td align="center">é</td>
<td align="center"><code>&amp;#233;</code></td>
<td></td>
</tr>
<tr>
<td align="center">ê</td>
<td align="center"><code>&amp;#234;</code></td>
<td></td>
</tr>
<tr>
<td align="center">ë</td>
<td align="center"><code>&amp;#235;</code></td>
<td></td>
</tr>
<tr>
<td align="center">ì</td>
<td align="center"><code>&amp;#236;</code></td>
<td></td>
</tr>
<tr>
<td align="center">í</td>
<td align="center"><code>&amp;#237;</code></td>
<td></td>
</tr>
<tr>
<td align="center">î</td>
<td align="center"><code>&amp;#238;</code></td>
<td></td>
</tr>
<tr>
<td align="center">ï</td>
<td align="center"><code>&amp;#239;</code></td>
<td></td>
</tr>
<tr>
<td align="center">e</td>
<td align="center"><code>&amp;#240;</code></td>
<td></td>
</tr>
<tr>
<td align="center">ñ</td>
<td align="center"><code>&amp;#241;</code></td>
<td></td>
</tr>
<tr>
<td align="center">ò</td>
<td align="center"><code>&amp;#242;</code></td>
<td></td>
</tr>
<tr>
<td align="center">ó</td>
<td align="center"><code>&amp;#243;</code></td>
<td></td>
</tr>
<tr>
<td align="center">ô</td>
<td align="center"><code>&amp;#244;</code></td>
<td></td>
</tr>
<tr>
<td align="center">õ</td>
<td align="center"><code>&amp;#245;</code></td>
<td></td>
</tr>
<tr>
<td align="center">ö</td>
<td align="center"><code>&amp;#246;</code></td>
<td></td>
</tr>
<tr>
<td align="center">÷</td>
<td align="center"><code>&amp;#247;</code></td>
<td></td>
</tr>
<tr>
<td align="center">ø</td>
<td align="center"><code>&amp;#248;</code></td>
<td></td>
</tr>
<tr>
<td align="center">ù</td>
<td align="center"><code>&amp;#249;</code></td>
<td></td>
</tr>
<tr>
<td align="center">ú</td>
<td align="center"><code>&amp;#250;</code></td>
<td></td>
</tr>
<tr>
<td align="center">û</td>
<td align="center"><code>&amp;#251;</code></td>
<td></td>
</tr>
<tr>
<td align="center">ü</td>
<td align="center"><code>&amp;#252;</code></td>
<td></td>
</tr>
<tr>
<td align="center">y</td>
<td align="center"><code>&amp;#253;</code></td>
<td></td>
</tr>
<tr>
<td align="center">t</td>
<td align="center"><code>&amp;#254;</code></td>
<td></td>
</tr>
<tr>
<td align="center">ÿ</td>
<td align="center"><code>&amp;#255;</code></td>
<td></td>
</tr>
<tr>
<td align="center">ƒ</td>
<td align="center"><code>&amp;fnof; </code></td>
<td></td>
</tr>
<tr>
<td align="center">Α</td>
<td align="center"><code>&amp;Alpha; </code></td>
<td></td>
</tr>
<tr>
<td align="center">Β</td>
<td align="center"><code>&amp;Beta; </code></td>
<td></td>
</tr>
<tr>
<td align="center">Γ</td>
<td align="center"><code>&amp;Gamma; </code></td>
<td></td>
</tr>
<tr>
<td align="center">Δ</td>
<td align="center"><code>&amp;Delta; </code></td>
<td></td>
</tr>
<tr>
<td align="center">Ε</td>
<td align="center"><code>&amp;Epsilon; </code></td>
<td></td>
</tr>
<tr>
<td align="center">Ζ</td>
<td align="center"><code>&amp;Zeta; </code></td>
<td></td>
</tr>
<tr>
<td align="center">Η</td>
<td align="center"><code>&amp;Eta; </code></td>
<td></td>
</tr>
<tr>
<td align="center">Θ</td>
<td align="center"><code>&amp;Theta; </code></td>
<td></td>
</tr>
<tr>
<td align="center">Ι</td>
<td align="center"><code>&amp;Iota; </code></td>
<td></td>
</tr>
<tr>
<td align="center">Κ</td>
<td align="center"><code>&amp;Kappa; </code></td>
<td></td>
</tr>
<tr>
<td align="center">Λ</td>
<td align="center"><code>&amp;Lambda; </code></td>
<td></td>
</tr>
<tr>
<td align="center">Μ</td>
<td align="center"><code>&amp;Mu; </code></td>
<td></td>
</tr>
<tr>
<td align="center">Ν</td>
<td align="center"><code>&amp;Nu; </code></td>
<td></td>
</tr>
<tr>
<td align="center">Ξ</td>
<td align="center"><code>&amp;Xi; </code></td>
<td></td>
</tr>
<tr>
<td align="center">Ο</td>
<td align="center"><code>&amp;Omicron; </code></td>
<td></td>
</tr>
<tr>
<td align="center">Π</td>
<td align="center"><code>&amp;Pi; </code></td>
<td></td>
</tr>
<tr>
<td align="center">Ρ</td>
<td align="center"><code>&amp;Rho; </code></td>
<td></td>
</tr>
<tr>
<td align="center">Σ</td>
<td align="center"><code>&amp;Sigma; </code></td>
<td></td>
</tr>
<tr>
<td align="center">Τ</td>
<td align="center"><code>&amp;Tau; </code></td>
<td></td>
</tr>
<tr>
<td align="center">Υ</td>
<td align="center"><code>&amp;Upsilon; </code></td>
<td></td>
</tr>
<tr>
<td align="center">Φ</td>
<td align="center"><code>&amp;Phi; </code></td>
<td></td>
</tr>
<tr>
<td align="center">Χ</td>
<td align="center"><code>&amp;Chi; </code></td>
<td></td>
</tr>
<tr>
<td align="center">Ψ</td>
<td align="center"><code>&amp;Psi; </code></td>
<td></td>
</tr>
<tr>
<td align="center">Ω</td>
<td align="center"><code>&amp;Omega; </code></td>
<td></td>
</tr>
<tr>
<td align="center">α</td>
<td align="center"><code>&amp;alpha; </code></td>
<td></td>
</tr>
<tr>
<td align="center">β</td>
<td align="center"><code>&amp;beta; </code></td>
<td></td>
</tr>
<tr>
<td align="center">γ</td>
<td align="center"><code>&amp;gamma; </code></td>
<td></td>
</tr>
<tr>
<td align="center">δ</td>
<td align="center"><code>&amp;delta; </code></td>
<td></td>
</tr>
<tr>
<td align="center">ε</td>
<td align="center"><code>&amp;epsilon; </code></td>
<td></td>
</tr>
<tr>
<td align="center">ζ</td>
<td align="center"><code>&amp;zeta; </code></td>
<td></td>
</tr>
<tr>
<td align="center">η</td>
<td align="center"><code>&amp;eta; </code></td>
<td></td>
</tr>
<tr>
<td align="center">θ</td>
<td align="center"><code>&amp;theta; </code></td>
<td></td>
</tr>
<tr>
<td align="center">ι</td>
<td align="center"><code>&amp;iota; </code></td>
<td></td>
</tr>
<tr>
<td align="center">κ</td>
<td align="center"><code>&amp;kappa; </code></td>
<td></td>
</tr>
<tr>
<td align="center">λ</td>
<td align="center"><code>&amp;lambda; </code></td>
<td></td>
</tr>
<tr>
<td align="center">μ</td>
<td align="center"><code>&amp;mu; </code></td>
<td></td>
</tr>
<tr>
<td align="center">ν</td>
<td align="center"><code>&amp;nu; </code></td>
<td></td>
</tr>
<tr>
<td align="center">ξ</td>
<td align="center"><code>&amp;xi; </code></td>
<td></td>
</tr>
<tr>
<td align="center">ο</td>
<td align="center"><code>&amp;omicron; </code></td>
<td></td>
</tr>
<tr>
<td align="center">π</td>
<td align="center"><code>&amp;pi; </code></td>
<td></td>
</tr>
<tr>
<td align="center">ρ</td>
<td align="center"><code>&amp;rho; </code></td>
<td></td>
</tr>
<tr>
<td align="center">ς</td>
<td align="center"><code>&amp;sigmaf; </code></td>
<td></td>
</tr>
<tr>
<td align="center">σ</td>
<td align="center"><code>&amp;sigma; </code></td>
<td></td>
</tr>
<tr>
<td align="center">τ</td>
<td align="center"><code>&amp;tau; </code></td>
<td></td>
</tr>
<tr>
<td align="center">υ</td>
<td align="center"><code>&amp;upsilon; </code></td>
<td></td>
</tr>
<tr>
<td align="center">φ</td>
<td align="center"><code>&amp;phi; </code></td>
<td></td>
</tr>
<tr>
<td align="center">χ</td>
<td align="center"><code>&amp;chi; </code></td>
<td></td>
</tr>
<tr>
<td align="center">ψ</td>
<td align="center"><code>&amp;psi; </code></td>
<td></td>
</tr>
<tr>
<td align="center">ω</td>
<td align="center"><code>&amp;omega; </code></td>
<td></td>
</tr>
<tr>
<td align="center">ϑ</td>
<td align="center"><code>&amp;thetasym; </code></td>
<td></td>
</tr>
<tr>
<td align="center">ϒ</td>
<td align="center"><code>&amp;upsih; </code></td>
<td></td>
</tr>
<tr>
<td align="center">ϖ</td>
<td align="center"><code>&amp;piv; </code></td>
<td></td>
</tr>
<tr>
<td align="center">•</td>
<td align="center"><code>&amp;bull; </code></td>
<td></td>
</tr>
<tr>
<td align="center">…</td>
<td align="center"><code>&amp;hellip; </code></td>
<td></td>
</tr>
<tr>
<td align="center">′</td>
<td align="center"><code>&amp;prime; </code></td>
<td></td>
</tr>
<tr>
<td align="center">″</td>
<td align="center"><code>&amp;Prime; </code></td>
<td></td>
</tr>
<tr>
<td align="center">￣</td>
<td align="center"><code>&amp;oline; </code></td>
<td></td>
</tr>
<tr>
<td align="center">⁄</td>
<td align="center"><code>&amp;frasl; </code></td>
<td></td>
</tr>
<tr>
<td align="center">℘</td>
<td align="center"><code>&amp;weierp; </code></td>
<td></td>
</tr>
<tr>
<td align="center">ℑ</td>
<td align="center"><code>&amp;image; </code></td>
<td></td>
</tr>
<tr>
<td align="center">ℜ</td>
<td align="center"><code>&amp;real; </code></td>
<td></td>
</tr>
<tr>
<td align="center">™</td>
<td align="center"><code>&amp;trade; </code></td>
<td></td>
</tr>
<tr>
<td align="center">ℵ</td>
<td align="center"><code>&amp;alefsym; </code></td>
<td></td>
</tr>
<tr>
<td align="center">←</td>
<td align="center"><code>&amp;larr; </code></td>
<td></td>
</tr>
<tr>
<td align="center">↑</td>
<td align="center"><code>&amp;uarr; </code></td>
<td></td>
</tr>
<tr>
<td align="center">→</td>
<td align="center"><code>&amp;rarr; </code></td>
<td></td>
</tr>
<tr>
<td align="center">↓</td>
<td align="center"><code>&amp;darr; </code></td>
<td></td>
</tr>
<tr>
<td align="center">↔</td>
<td align="center"><code>&amp;harr; </code></td>
<td></td>
</tr>
<tr>
<td align="center">↵</td>
<td align="center"><code>&amp;crarr; </code></td>
<td></td>
</tr>
<tr>
<td align="center">⇐</td>
<td align="center"><code>&amp;lArr; </code></td>
<td></td>
</tr>
<tr>
<td align="center">⇑</td>
<td align="center"><code>&amp;uArr; </code></td>
<td></td>
</tr>
<tr>
<td align="center">⇒</td>
<td align="center"><code>&amp;rArr; </code></td>
<td></td>
</tr>
<tr>
<td align="center">⇓</td>
<td align="center"><code>&amp;dArr; </code></td>
<td></td>
</tr>
<tr>
<td align="center">⇔</td>
<td align="center"><code>&amp;hArr; </code></td>
<td></td>
</tr>
<tr>
<td align="center">∀</td>
<td align="center"><code>&amp;forall; </code></td>
<td></td>
</tr>
<tr>
<td align="center">∂</td>
<td align="center"><code>&amp;part; </code></td>
<td></td>
</tr>
<tr>
<td align="center">∃</td>
<td align="center"><code>&amp;exist; </code></td>
<td></td>
</tr>
<tr>
<td align="center">∅</td>
<td align="center"><code>&amp;empty; </code></td>
<td></td>
</tr>
<tr>
<td align="center">∇</td>
<td align="center"><code>&amp;nabla; </code></td>
<td></td>
</tr>
<tr>
<td align="center">∈</td>
<td align="center"><code>&amp;isin; </code></td>
<td></td>
</tr>
<tr>
<td align="center">∉</td>
<td align="center"><code>&amp;notin; </code></td>
<td></td>
</tr>
<tr>
<td align="center">∋</td>
<td align="center"><code>&amp;ni; </code></td>
<td></td>
</tr>
<tr>
<td align="center">∏</td>
<td align="center"><code>&amp;prod; </code></td>
<td></td>
</tr>
<tr>
<td align="center">∑</td>
<td align="center"><code>&amp;sum; </code></td>
<td></td>
</tr>
<tr>
<td align="center">−</td>
<td align="center"><code>&amp;minus; </code></td>
<td></td>
</tr>
<tr>
<td align="center">∗</td>
<td align="center"><code>&amp;lowast; </code></td>
<td></td>
</tr>
<tr>
<td align="center">√</td>
<td align="center"><code>&amp;radic; </code></td>
<td></td>
</tr>
<tr>
<td align="center">∝</td>
<td align="center"><code>&amp;prop; </code></td>
<td></td>
</tr>
<tr>
<td align="center">∞</td>
<td align="center"><code>&amp;infin; </code></td>
<td></td>
</tr>
<tr>
<td align="center">∠</td>
<td align="center"><code>&amp;ang; </code></td>
<td></td>
</tr>
<tr>
<td align="center">∧</td>
<td align="center"><code>&amp;and; </code></td>
<td></td>
</tr>
<tr>
<td align="center">∨</td>
<td align="center"><code>&amp;or; </code></td>
<td></td>
</tr>
<tr>
<td align="center">∩</td>
<td align="center"><code>&amp;cap; </code></td>
<td></td>
</tr>
<tr>
<td align="center">∪</td>
<td align="center"><code>&amp;cup; </code></td>
<td></td>
</tr>
<tr>
<td align="center">∫</td>
<td align="center"><code>&amp;int; </code></td>
<td></td>
</tr>
<tr>
<td align="center">∴</td>
<td align="center"><code>&amp;there4; </code></td>
<td></td>
</tr>
<tr>
<td align="center">～</td>
<td align="center"><code>&amp;sim; </code></td>
<td></td>
</tr>
<tr>
<td align="center">≅</td>
<td align="center"><code>&amp;cong; </code></td>
<td></td>
</tr>
<tr>
<td align="center">≈</td>
<td align="center"><code>&amp;asymp; </code></td>
<td></td>
</tr>
<tr>
<td align="center">≠</td>
<td align="center"><code>&amp;ne; </code></td>
<td></td>
</tr>
<tr>
<td align="center">≡</td>
<td align="center"><code>&amp;equiv; </code></td>
<td></td>
</tr>
<tr>
<td align="center">≤</td>
<td align="center"><code>&amp;le; </code></td>
<td></td>
</tr>
<tr>
<td align="center">≥</td>
<td align="center"><code>&amp;ge; </code></td>
<td></td>
</tr>
<tr>
<td align="center">⊂</td>
<td align="center"><code>&amp;sub; </code></td>
<td></td>
</tr>
<tr>
<td align="center">⊃</td>
<td align="center"><code>&amp;sup; </code></td>
<td></td>
</tr>
<tr>
<td align="center">⊄</td>
<td align="center"><code>&amp;nsub; </code></td>
<td></td>
</tr>
<tr>
<td align="center">⊆</td>
<td align="center"><code>&amp;sube; </code></td>
<td></td>
</tr>
<tr>
<td align="center">⊇</td>
<td align="center"><code>&amp;supe; </code></td>
<td></td>
</tr>
<tr>
<td align="center">⊕</td>
<td align="center"><code>&amp;oplus; </code></td>
<td></td>
</tr>
<tr>
<td align="center">⊗</td>
<td align="center"><code>&amp;otimes; </code></td>
<td></td>
</tr>
<tr>
<td align="center">⊥</td>
<td align="center"><code>&amp;perp; </code></td>
<td></td>
</tr>
<tr>
<td align="center">⋅</td>
<td align="center"><code>&amp;sdot; </code></td>
<td></td>
</tr>
<tr>
<td align="center">⌈</td>
<td align="center"><code>&amp;lceil; </code></td>
<td></td>
</tr>
<tr>
<td align="center">⌉</td>
<td align="center"><code>&amp;rceil; </code></td>
<td></td>
</tr>
<tr>
<td align="center">⌊</td>
<td align="center"><code>&amp;lfloor; </code></td>
<td></td>
</tr>
<tr>
<td align="center">⌋</td>
<td align="center"><code>&amp;rfloor; </code></td>
<td></td>
</tr>
<tr>
<td align="center">⟨</td>
<td align="center"><code>&amp;lang; </code></td>
<td></td>
</tr>
<tr>
<td align="center">⟩</td>
<td align="center"><code>&amp;rang; </code></td>
<td></td>
</tr>
<tr>
<td align="center">◊</td>
<td align="center"><code>&amp;loz; </code></td>
<td></td>
</tr>
<tr>
<td align="center">♠</td>
<td align="center"><code>&amp;spades; </code></td>
<td></td>
</tr>
<tr>
<td align="center">♣</td>
<td align="center"><code>&amp;clubs; </code></td>
<td></td>
</tr>
<tr>
<td align="center">♥</td>
<td align="center"><code>&amp;hearts; </code></td>
<td></td>
</tr>
<tr>
<td align="center">♦</td>
<td align="center"><code>&amp;diams; </code></td>
<td></td>
</tr>
<tr>
<td align="center">“</td>
<td align="center"><code>&amp;quot; </code></td>
<td></td>
</tr>
<tr>
<td align="center">&amp;</td>
<td align="center"><code>&amp;amp; </code></td>
<td></td>
</tr>
<tr>
<td align="center">&lt;</td>
<td align="center"><code>&amp;lt; </code></td>
<td></td>
</tr>
<tr>
<td align="center">&gt;</td>
<td align="center"><code>&amp;gt; </code></td>
<td></td>
</tr>
<tr>
<td align="center">Œ</td>
<td align="center"><code>&amp;OElig; </code></td>
<td></td>
</tr>
<tr>
<td align="center">œ</td>
<td align="center"><code>&amp;oelig; </code></td>
<td></td>
</tr>
<tr>
<td align="center">Š</td>
<td align="center"><code>&amp;Scaron; </code></td>
<td></td>
</tr>
<tr>
<td align="center">š</td>
<td align="center"><code>&amp;scaron; </code></td>
<td></td>
</tr>
<tr>
<td align="center">Ÿ</td>
<td align="center"><code>&amp;Yuml; </code></td>
<td></td>
</tr>
<tr>
<td align="center">ˆ</td>
<td align="center"><code>&amp;circ; </code></td>
<td></td>
</tr>
<tr>
<td align="center">˜</td>
<td align="center"><code>&amp;tilde; </code></td>
<td></td>
</tr>
<tr>
<td align="center">&amp;</td>
<td align="center"><code>nsp; </code></td>
<td></td>
</tr>
<tr>
<td align="center">&amp;</td>
<td align="center"><code>msp; </code></td>
<td></td>
</tr>
<tr>
<td align="center">&amp;</td>
<td align="center"><code>hinsp; </code></td>
<td></td>
</tr>
<tr>
<td align="center">‌</td>
<td align="center"><code>&amp;zwnj; </code></td>
<td></td>
</tr>
<tr>
<td align="center">‍</td>
<td align="center"><code>&amp;zwj; </code></td>
<td></td>
</tr>
<tr>
<td align="center">‎</td>
<td align="center"><code>&amp;lrm; </code></td>
<td></td>
</tr>
<tr>
<td align="center">‏</td>
<td align="center"><code>&amp;rlm; </code></td>
<td></td>
</tr>
<tr>
<td align="center">–</td>
<td align="center"><code>&amp;ndash; </code></td>
<td></td>
</tr>
<tr>
<td align="center">—</td>
<td align="center"><code>&amp;mdash; </code></td>
<td></td>
</tr>
<tr>
<td align="center">‘</td>
<td align="center"><code>&amp;lsquo; </code></td>
<td></td>
</tr>
<tr>
<td align="center">’</td>
<td align="center"><code>&amp;rsquo; </code></td>
<td></td>
</tr>
<tr>
<td align="center">‚</td>
<td align="center"><code>&amp;sbquo; </code></td>
<td></td>
</tr>
<tr>
<td align="center">“</td>
<td align="center"><code>&amp;ldquo; </code></td>
<td></td>
</tr>
<tr>
<td align="center">”</td>
<td align="center"><code>&amp;rdquo; </code></td>
<td></td>
</tr>
<tr>
<td align="center">„</td>
<td align="center"><code>&amp;bdquo; </code></td>
<td></td>
</tr>
<tr>
<td align="center">†</td>
<td align="center"><code>&amp;dagger; </code></td>
<td></td>
</tr>
<tr>
<td align="center">‡</td>
<td align="center"><code>&amp;Dagger; </code></td>
<td></td>
</tr>
<tr>
<td align="center">‰</td>
<td align="center"><code>&amp;permil; </code></td>
<td></td>
</tr>
<tr>
<td align="center">‹</td>
<td align="center"><code>&amp;lsaquo; </code></td>
<td></td>
</tr>
<tr>
<td align="center">›</td>
<td align="center"><code>&amp;rsaquo; </code></td>
<td></td>
</tr>
<tr>
<td align="center">€</td>
<td align="center"><code>&amp;euro;</code></td>
<td></td>
</tr>
</tbody></table>
<h2 id="颜色表"><a href="#颜色表" class="headerlink" title="颜色表"></a><font color="#0000FF">颜色表</font></h2><table><tbody><tr><th>颜色名</th><th>十六进制颜色值</th><th>颜色</th></tr><tr><td><font color="AliceBlue"> AliceBlue</font></td><td><font color="#F0F8FF">#F0F8FF</font></td><td bgcolor="#F0F8FF">rgb(240, 248, 255)</td></tr><tr><td><font color="AntiqueWhite">AntiqueWhite</font></td><td><font color="#FAEBD7">#FAEBD7</font></td><td bgcolor="#FAEBD7">rgb(250, 235, 215)</td></tr><tr><td><font color="Aqua">Aqua</font></td><td><font color="#00FFFF">#00FFFF</font></td><td bgcolor="#00FFFF">rgb(0, 255, 255)</td></tr><tr><td><font color="Aquamarine">Aquamarine</font></td><td><font color="#7FFFD4">#7FFFD4</font></td><td bgcolor="#7FFFD4">rgb(127, 255, 212)</td></tr><tr><td><font color="Azure">Azure</font></td><td><font color="#F0FFFF">#F0FFFF</font></td><td bgcolor="#F0FFFF">rgb(240, 255, 255)</td></tr><tr><td><font color="Beige">Beige</font></td><td><font color="#F5F5DC">#F5F5DC</font></td><td bgcolor="#F5F5DC">rgb(245, 245, 220)</td></tr><tr><td><font color="Bisque">Bisque</font></td><td><font color="#FFE4C4">#FFE4C4</font></td><td bgcolor="#FFE4C4">rgb(255, 228, 196)</td></tr><tr><td><font color="Black">Black</font></td><td><font color="#000000">#000000</font></td><td bgcolor="#000000">rgb(0, 0, 0)</td></tr><tr><td><font color="BlanchedAlmond">BlanchedAlmond</font></td><td><font color="#FFEBCD">#FFEBCD</font></td><td bgcolor="#FFEBCD">rgb(255, 235, 205)</td></tr><tr><td><font color="Blue">Blue</font></td><td><font color="#0000FF">#0000FF</font></td><td bgcolor="#0000FF">rgb(0, 0, 255)</td></tr><tr><td><font color="BlueViolet">BlueViolet</font></td><td><font color="#8A2BE2">#8A2BE2</font></td><td bgcolor="#8A2BE2">rgb(138, 43, 226)</td></tr><tr><td><font color="Brown">Brown</font></td><td><font color="#A52A2A">#A52A2A</font></td><td bgcolor="#A52A2A">rgb(165, 42, 42)</td></tr><tr><td><font color="BurlyWood">BurlyWood</font></td><td><font color="#DEB887">#DEB887</font></td><td bgcolor="#DEB887">rgb(222, 184, 135)</td></tr><tr><td><font color="CadetBlue">CadetBlue</font></td><td><font color="#5F9EA0">#5F9EA0</font></td><td bgcolor="#5F9EA0">rgb(95, 158, 160)</td></tr><tr><td><font color="Chartreuse">Chartreuse</font></td><td><font color="#7FFF00">#7FFF00</font></td><td bgcolor="#7FFF00">rgb(127, 255, 0)</td></tr><tr><td><font color="Chocolate">Chocolate</font></td><td><font color="#D2691E">#D2691E</font></td><td bgcolor="#D2691E">rgb(210, 105, 30)</td></tr><tr><td><font color="Coral">Coral</font></td><td><font color="#FF7F50">#FF7F50</font></td><td bgcolor="#FF7F50">rgb(255, 127, 80)</td></tr><tr><td><font color="CornflowerBlue">CornflowerBlue</font></td><td><font color="#6495ED">#6495ED</font></td><td bgcolor="#6495ED">rgb(100, 149, 237)</td></tr><tr><td><font color="Cornsilk">Cornsilk</font></td><td><font color="#FFF8DC">#FFF8DC</font></td><td bgcolor="#FFF8DC">rgb(255, 248, 220)</td></tr><tr><td><font color="Crimson">Crimson</font></td><td><font color="#DC143C">#DC143C</font></td><td bgcolor="#DC143C">rgb(220, 20, 60)</td></tr><tr><td><font color="Cyan">Cyan</font></td><td><font color="#00FFFF">#00FFFF</font></td><td bgcolor="#00FFFF">rgb(0, 255, 255)</td></tr><tr><td><font color="DarkBlue">DarkBlue</font></td><td><font color="#00008B">#00008B</font></td><td bgcolor="#00008B">rgb(0, 0, 139)</td></tr><tr><td><font color="DarkCyan">DarkCyan</font></td><td><font color="#008B8B">#008B8B</font></td><td bgcolor="#008B8B">rgb(0, 139, 139)</td></tr><tr><td><font color="DarkGoldenRod">DarkGoldenRod</font></td><td><font color="#B8860B">#B8860B</font></td><td bgcolor="#B8860B">rgb(184, 134, 11)</td></tr><tr><td><font color="DarkGray">DarkGray</font></td><td><font color="#A9A9A9">#A9A9A9</font></td><td bgcolor="#A9A9A9">rgb(169, 169, 169)</td></tr><tr><td><font color="DarkGreen">DarkGreen</font></td><td><font color="#006400">#006400</font></td><td bgcolor="#006400">rgb(0, 100, 0)</td></tr><tr><td><font color="DarkKhaki">DarkKhaki</font></td><td><font color="#BDB76B">#BDB76B</font></td><td bgcolor="#BDB76B">rgb(189, 183, 107)</td></tr><tr><td><font color="DarkMagenta">DarkMagenta</font></td><td><font color="#8B008B">#8B008B</font></td><td bgcolor="#8B008B">rgb(139, 0, 139)</td></tr><tr><td><font color="DarkOliveGreen">DarkOliveGreen</font></td><td><font color="#556B2F">#556B2F</font></td><td bgcolor="#556B2F">rgb(85, 107, 47)</td></tr><tr><td><font color="Darkorange">Darkorange</font></td><td><font color="#FF8C00">#FF8C00</font></td><td bgcolor="#FF8C00">rgb(255, 140, 0)</td></tr><tr><td><font color="DarkOrchid">DarkOrchid</font></td><td><font color="#9932CC">#9932CC</font></td><td bgcolor="#9932CC">rgb(153, 50, 204)</td></tr><tr><td><font color="DarkRed">DarkRed</font></td><td><font color="#8B0000">#8B0000</font></td><td bgcolor="#8B0000">rgb(139, 0, 0)</td></tr><tr><td><font color="DarkSalmon">DarkSalmon</font></td><td><font color="#E9967A">#E9967A</font></td><td bgcolor="#E9967A">rgb(233, 150, 122)</td></tr><tr><td><font color="DarkSeaGreen">DarkSeaGreen</font></td><td><font color="#8FBC8F">#8FBC8F</font></td><td bgcolor="#8FBC8F">rgb(143, 188, 143)</td></tr><tr><td><font color="DarkSlateBlue">DarkSlateBlue</font></td><td><font color="#483D8B">#483D8B</font></td><td bgcolor="#483D8B">rgb(72, 61, 139)</td></tr><tr><td><font color="DarkSlateGray">DarkSlateGray</font></td><td><font color="#2F4F4F">#2F4F4F</font></td><td bgcolor="#2F4F4F">rgb(47, 79, 79)</td></tr><tr><td><font color="DarkTurquoise">DarkTurquoise</font></td><td><font color="#00CED1">#00CED1</font></td><td bgcolor="#00CED1">rgb(0, 206, 209)</td></tr><tr><td><font color="DarkViolet">DarkViolet</font></td><td><font color="#9400D3">#9400D3</font></td><td bgcolor="#9400D3">rgb(148, 0, 211)</td></tr><tr><td><font color="DeepPink">DeepPink</font></td><td><font color="#FF1493">#FF1493</font></td><td bgcolor="#FF1493">rgb(255, 20, 147)</td></tr><tr><td><font color="DeepSkyBlue">DeepSkyBlue</font></td><td><font color="#00BFFF">#00BFFF</font></td><td bgcolor="#00BFFF">rgb(0, 191, 255)</td></tr><tr><td><font color="DimGray">DimGray</font></td><td><font color="#696969">#696969</font></td><td bgcolor="#696969">rgb(105, 105, 105)</td></tr><tr><td><font color="DodgerBlue">DodgerBlue</font></td><td><font color="#1E90FF">#1E90FF</font></td><td bgcolor="#1E90FF">rgb(30, 144, 255)</td></tr><tr><td><font color="Feldspar">Feldspar</font></td><td><font color="#D19275">#D19275</font></td><td bgcolor="#D19275">rgb(209, 146, 117)</td></tr><tr><td><font color="FireBrick">FireBrick</font></td><td><font color="#B22222">#B22222</font></td><td bgcolor="#B22222">rgb(178, 34, 34)</td></tr><tr><td><font color="FloralWhite">FloralWhite</font></td><td><font color="#FFFAF0">#FFFAF0</font></td><td bgcolor="#FFFAF0">rgb(255, 250, 240)</td></tr><tr><td><font color="ForestGreen">ForestGreen</font></td><td><font color="#228B22">#228B22</font></td><td bgcolor="#228B22">rgb(34, 139, 34)</td></tr><tr><td><font color="Fuchsia">Fuchsia</font></td><td><font color="#FF00FF">#FF00FF</font></td><td bgcolor="#FF00FF">rgb(255, 0, 255)</td></tr><tr><td><font color="Gainsboro">Gainsboro</font></td><td><font color="#DCDCDC">#DCDCDC</font></td><td bgcolor="#DCDCDC">rgb(220, 220, 220)</td></tr><tr><td><font color="GhostWhite">GhostWhite</font></td><td><font color="#F8F8FF">#F8F8FF</font></td><td bgcolor="#F8F8FF">rgb(248, 248, 255)</td></tr><tr><td><font color="Gold">Gold</font></td><td><font color="#FFD700">#FFD700</font></td><td bgcolor="#FFD700">rgb(255, 215, 0)</td></tr><tr><td><font color="GoldenRod">GoldenRod</font></td><td><font color="#DAA520">#DAA520</font></td><td bgcolor="#DAA520">rgb(218, 165, 32)</td></tr><tr><td><font color="Gray">Gray</font></td><td><font color="#808080">#808080</font></td><td bgcolor="#808080">rgb(128, 128, 128)</td></tr><tr><td><font color="Green">Green</font></td><td><font color="#008000">#008000</font></td><td bgcolor="#008000">rgb(0, 128, 0)</td></tr><tr><td><font color="GreenYellow">GreenYellow</font></td><td><font color="#ADFF2F">#ADFF2F</font></td><td bgcolor="#ADFF2F">rgb(173, 255, 47)</td></tr><tr><td><font color="HoneyDew">HoneyDew</font></td><td><font color="#F0FFF0">#F0FFF0</font></td><td bgcolor="#F0FFF0">rgb(240, 255, 240)</td></tr><tr><td><font color="HotPink">HotPink</font></td><td><font color="#FF69B4">#FF69B4</font></td><td bgcolor="#FF69B4">rgb(255, 105, 180)</td></tr><tr><td><font color="IndianRed">IndianRed</font></td><td><font color="#CD5C5C">#CD5C5C</font></td><td bgcolor="#CD5C5C">rgb(205, 92, 92)</td></tr><tr><td><font color="Indigo">Indigo</font></td><td><font color="#4B0082">#4B0082</font></td><td bgcolor="#4B0082">rgb(75, 0, 130)</td></tr><tr><td><font color="Ivory">Ivory</font></td><td><font color="#FFFFF0">#FFFFF0</font></td><td bgcolor="#FFFFF0">rgb(255, 255, 240)</td></tr><tr><td><font color="Khaki">Khaki</font></td><td><font color="#F0E68C">#F0E68C</font></td><td bgcolor="#F0E68C">rgb(240, 230, 140)</td></tr><tr><td><font color="Lavender">Lavender</font></td><td><font color="#E6E6FA">#E6E6FA</font></td><td bgcolor="#E6E6FA">rgb(230, 230, 250)</td></tr><tr><td><font color="LavenderBlush">LavenderBlush</font></td><td><font color="#FFF0F5">#FFF0F5</font></td><td bgcolor="#FFF0F5">rgb(255, 240, 245)</td></tr><tr><td><font color="LawnGreen">LawnGreen</font></td><td><font color="#7CFC00">#7CFC00</font></td><td bgcolor="#7CFC00">rgb(124, 252, 0)</td></tr><tr><td><font color="LemonChiffon">LemonChiffon</font></td><td><font color="#FFFACD">#FFFACD</font></td><td bgcolor="#FFFACD">rgb(255, 250, 205)</td></tr><tr><td><font color="LightBlue">LightBlue</font></td><td><font color="#ADD8E6">#ADD8E6</font></td><td bgcolor="#ADD8E6">rgb(173, 216, 230)</td></tr><tr><td><font color="LightCoral">LightCoral</font></td><td><font color="#F08080">#F08080</font></td><td bgcolor="#F08080">rgb(240, 128, 128)</td></tr><tr><td><font color="LightCyan">LightCyan</font></td><td><font color="#E0FFFF">#E0FFFF</font></td><td bgcolor="#E0FFFF">rgb(224, 255, 255)</td></tr><tr><td><font color="LightGoldenRodYellow">LightGoldenRodYellow</font></td><td><font color="#FAFAD2">#FAFAD2</font></td><td bgcolor="#FAFAD2">rgb(250, 250, 210)</td></tr><tr><td><font color="LightGrey">LightGrey</font></td><td><font color="#D3D3D3">#D3D3D3</font></td><td bgcolor="#D3D3D3">rgb(211, 211, 211)</td></tr><tr><td><font color="LightGreen">LightGreen</font></td><td><font color="#90EE90">#90EE90</font></td><td bgcolor="#90EE90">rgb(144, 238, 144)</td></tr><tr><td><font color="LightPink">LightPink</font></td><td><font color="#FFB6C1">#FFB6C1</font></td><td bgcolor="#FFB6C1">rgb(255, 182, 193)</td></tr><tr><td><font color="LightSalmon">LightSalmon</font></td><td><font color="#FFA07A">#FFA07A</font></td><td bgcolor="#FFA07A">rgb(255, 160, 122)</td></tr><tr><td><font color="LightSeaGreen">LightSeaGreen</font></td><td><font color="#20B2AA">#20B2AA</font></td><td bgcolor="#20B2AA">rgb(32, 178, 170)</td></tr><tr><td><font color="LightSkyBlue">LightSkyBlue</font></td><td><font color="#87CEFA">#87CEFA</font></td><td bgcolor="#87CEFA">rgb(135, 206, 250)</td></tr><tr><td><font color="LightSlateBlue">LightSlateBlue</font></td><td><font color="#8470FF">#8470FF</font></td><td bgcolor="#8470FF">rgb(132, 112, 255)</td></tr><tr><td><font color="LightSlateGray">LightSlateGray</font></td><td><font color="#778899">#778899</font></td><td bgcolor="#778899">rgb(119, 136, 153)</td></tr><tr><td><font color="LightSteelBlue">LightSteelBlue</font></td><td><font color="#B0C4DE">#B0C4DE</font></td><td bgcolor="#B0C4DE">rgb(176, 196, 222)</td></tr><tr><td><font color="LightYellow">LightYellow</font></td><td><font color="#FFFFE0">#FFFFE0</font></td><td bgcolor="#FFFFE0">rgb(255, 255, 224)</td></tr><tr><td><font color="Lime">Lime</font></td><td><font color="#00FF00">#00FF00</font></td><td bgcolor="#00FF00">rgb(0, 255, 0)</td></tr><tr><td><font color="LimeGreen">LimeGreen</font></td><td><font color="#32CD32">#32CD32</font></td><td bgcolor="#32CD32">rgb(50, 205, 50)</td></tr><tr><td><font color="Linen">Linen</font></td><td><font color="#FAF0E6">#FAF0E6</font></td><td bgcolor="#FAF0E6">rgb(250, 240, 230)</td></tr><tr><td><font color="Magenta">Magenta</font></td><td><font color="#FF00FF">#FF00FF</font></td><td bgcolor="#FF00FF">rgb(255, 0, 255)</td></tr><tr><td><font color="Maroon">Maroon</font></td><td><font color="#800000">#800000</font></td><td bgcolor="#800000">rgb(128, 0, 0)</td></tr><tr><td><font color="MediumAquaMarine">MediumAquaMarine</font></td><td><font color="#66CDAA">#66CDAA</font></td><td bgcolor="#66CDAA">rgb(102, 205, 170)</td></tr><tr><td><font color="MediumBlue">MediumBlue</font></td><td><font color="#0000CD">#0000CD</font></td><td bgcolor="#0000CD">rgb(0, 0, 205)</td></tr><tr><td><font color="MediumOrchid">MediumOrchid</font></td><td><font color="#BA55D3">#BA55D3</font></td><td bgcolor="#BA55D3">rgb(186, 85, 211)</td></tr><tr><td><font color="MediumPurple">MediumPurple</font></td><td><font color="#9370D8">#9370D8</font></td><td bgcolor="#9370D8">rgb(147, 112, 216)</td></tr><tr><td><font color="MediumSeaGreen">MediumSeaGreen</font></td><td><font color="#3CB371">#3CB371</font></td><td bgcolor="#3CB371">rgb(60, 179, 113)</td></tr><tr><td><font color="MediumSlateBlue">MediumSlateBlue</font></td><td><font color="#7B68EE">#7B68EE</font></td><td bgcolor="#7B68EE">rgb(123, 104, 238)</td></tr><tr><td><font color="MediumSpringGreen">MediumSpringGreen</font></td><td><font color="#00FA9A">#00FA9A</font></td><td bgcolor="#00FA9A">rgb(0, 250, 154)</td></tr><tr><td><font color="MediumTurquoise">MediumTurquoise</font></td><td><font color="#48D1CC">#48D1CC</font></td><td bgcolor="#48D1CC">rgb(72, 209, 204)</td></tr><tr><td><font color="MediumVioletRed">MediumVioletRed</font></td><td><font color="#C71585">#C71585</font></td><td bgcolor="#C71585">rgb(199, 21, 133)</td></tr><tr><td><font color="MidnightBlue">MidnightBlue</font></td><td><font color="#191970">#191970</font></td><td bgcolor="#191970">rgb(25, 25, 112)</td></tr><tr><td><font color="MintCream">MintCream</font></td><td><font color="#F5FFFA">#F5FFFA</font></td><td bgcolor="#F5FFFA">rgb(245, 255, 250)</td></tr><tr><td><font color="MistyRose">MistyRose</font></td><td><font color="#FFE4E1">#FFE4E1</font></td><td bgcolor="#FFE4E1">rgb(255, 228, 225)</td></tr><tr><td><font color="Moccasin">Moccasin</font></td><td><font color="#FFE4B5">#FFE4B5</font></td><td bgcolor="#FFE4B5">rgb(255, 228, 181)</td></tr><tr><td><font color="NavajoWhite">NavajoWhite</font></td><td><font color="#FFDEAD">#FFDEAD</font></td><td bgcolor="#FFDEAD">rgb(255, 222, 173)</td></tr><tr><td><font color="Navy">Navy</font></td><td><font color="#000080">#000080</font></td><td bgcolor="#000080">rgb(0, 0, 128)</td></tr><tr><td><font color="OldLace">OldLace</font></td><td><font color="#FDF5E6">#FDF5E6</font></td><td bgcolor="#FDF5E6">rgb(253, 245, 230)</td></tr><tr><td><font color="Olive">Olive</font></td><td><font color="#808000">#808000</font></td><td bgcolor="#808000">rgb(128, 128, 0)</td></tr><tr><td><font color="OliveDrab">OliveDrab</font></td><td><font color="#6B8E23">#6B8E23</font></td><td bgcolor="#6B8E23">rgb(107, 142, 35)</td></tr><tr><td><font color="Orange">Orange</font></td><td><font color="#FFA500">#FFA500</font></td><td bgcolor="#FFA500">rgb(255, 165, 0)</td></tr><tr><td><font color="OrangeRed">OrangeRed</font></td><td><font color="#FF4500">#FF4500</font></td><td bgcolor="#FF4500">rgb(255, 69, 0)</td></tr><tr><td><font color="Orchid">Orchid</font></td><td><font color="#DA70D6">#DA70D6</font></td><td bgcolor="#DA70D6">rgb(218, 112, 214)</td></tr><tr><td><font color="PaleGoldenRod">PaleGoldenRod</font></td><td><font color="#EEE8AA">#EEE8AA</font></td><td bgcolor="#EEE8AA">rgb(238, 232, 170)</td></tr><tr><td><font color="PaleGreen">PaleGreen</font></td><td><font color="#98FB98">#98FB98</font></td><td bgcolor="#98FB98">rgb(152, 251, 152)</td></tr><tr><td><font color="PaleTurquoise">PaleTurquoise</font></td><td><font color="#AFEEEE">#AFEEEE</font></td><td bgcolor="#AFEEEE">rgb(175, 238, 238)</td></tr><tr><td><font color="PaleVioletRed">PaleVioletRed</font></td><td><font color="#D87093">#D87093</font></td><td bgcolor="#D87093">rgb(216, 112, 147)</td></tr><tr><td><font color="PapayaWhip">PapayaWhip</font></td><td><font color="#FFEFD5">#FFEFD5</font></td><td bgcolor="#FFEFD5">rgb(255, 239, 213)</td></tr><tr><td><font color="PeachPuff">PeachPuff</font></td><td><font color="#FFDAB9">#FFDAB9</font></td><td bgcolor="#FFDAB9">rgb(255, 218, 185)</td></tr><tr><td><font color="Peru">Peru</font></td><td><font color="#CD853F">#CD853F</font></td><td bgcolor="#CD853F">rgb(205, 133, 63)</td></tr><tr><td><font color="Pink">Pink</font></td><td><font color="#FFC0CB">#FFC0CB</font></td><td bgcolor="#FFC0CB">rgb(255, 192, 203)</td></tr><tr><td><font color="Plum">Plum</font></td><td><font color="#DDA0DD">#DDA0DD</font></td><td bgcolor="#DDA0DD">rgb(221, 160, 221)</td></tr><tr><td><font color="PowderBlue">PowderBlue</font></td><td><font color="#B0E0E6">#B0E0E6</font></td><td bgcolor="#B0E0E6">rgb(176, 224, 230)</td></tr><tr><td><font color="Purple">Purple</font></td><td><font color="#800080">#800080</font></td><td bgcolor="#800080">rgb(128, 0, 128)</td></tr><tr><td><font color="Red">Red</font></td><td><font color="#FF0000">#FF0000</font></td><td bgcolor="#FF0000">rgb(255, 0, 0)</td></tr><tr><td><font color="RosyBrown">RosyBrown</font></td><td><font color="#BC8F8F">#BC8F8F</font></td><td bgcolor="#BC8F8F">rgb(188, 143, 143)</td></tr><tr><td><font color="RoyalBlue">RoyalBlue</font></td><td><font color="#4169E1">#4169E1</font></td><td bgcolor="#4169E1">rgb(65, 105, 225)</td></tr><tr><td><font color="SaddleBrown">SaddleBrown</font></td><td><font color="#8B4513">#8B4513</font></td><td bgcolor="#8B4513">rgb(139, 69, 19)</td></tr><tr><td><font color="Salmon">Salmon</font></td><td><font color="#FA8072">#FA8072</font></td><td bgcolor="#FA8072">rgb(250, 128, 114)</td></tr><tr><td><font color="SandyBrown">SandyBrown</font></td><td><font color="#F4A460">#F4A460</font></td><td bgcolor="#F4A460">rgb(244, 164, 96)</td></tr><tr><td><font color="SeaGreen">SeaGreen</font></td><td><font color="#2E8B57">#2E8B57</font></td><td bgcolor="#2E8B57">rgb(46, 139, 87)</td></tr><tr><td><font color="SeaShell">SeaShell</font></td><td><font color="#FFF5EE">#FFF5EE</font></td><td bgcolor="#FFF5EE">rgb(255, 245, 238)</td></tr><tr><td><font color="Sienna">Sienna</font></td><td><font color="#A0522D">#A0522D</font></td><td bgcolor="#A0522D">rgb(160, 82, 45)</td></tr><tr><td><font color="Silver">Silver</font></td><td><font color="#C0C0C0">#C0C0C0</font></td><td bgcolor="#C0C0C0">rgb(192, 192, 192)</td></tr><tr><td><font color="SkyBlue">SkyBlue</font></td><td><font color="#87CEEB">#87CEEB</font></td><td bgcolor="#87CEEB">rgb(135, 206, 235)</td></tr><tr><td><font color="SlateBlue">SlateBlue</font></td><td><font color="#6A5ACD">#6A5ACD</font></td><td bgcolor="#6A5ACD">rgb(106, 90, 205)</td></tr><tr><td><font color="SlateGray">SlateGray</font></td><td><font color="#708090">#708090</font></td><td bgcolor="#708090">rgb(112, 128, 144)</td></tr><tr><td><font color="Snow">Snow</font></td><td><font color="#FFFAFA">#FFFAFA</font></td><td bgcolor="#FFFAFA">rgb(255, 250, 250)</td></tr><tr><td><font color="SpringGreen">SpringGreen</font></td><td><font color="#00FF7F">#00FF7F</font></td><td bgcolor="#00FF7F">rgb(0, 255, 127)</td></tr><tr><td><font color="SteelBlue">SteelBlue</font></td><td><font color="#4682B4">#4682B4</font></td><td bgcolor="#4682B4">rgb(70, 130, 180)</td></tr><tr><td><font color="Tan">Tan</font></td><td><font color="#D2B48C">#D2B48C</font></td><td bgcolor="#D2B48C">rgb(210, 180, 140)</td></tr><tr><td><font color="Teal">Teal</font></td><td><font color="#008080">#008080</font></td><td bgcolor="#008080">rgb(0, 128, 128)</td></tr><tr><td><font color="Thistle">Thistle</font></td><td><font color="#D8BFD8">#D8BFD8</font></td><td bgcolor="#D8BFD8">rgb(216, 191, 216)</td></tr><tr><td><font color="Tomato">Tomato</font></td><td><font color="#FF6347">#FF6347</font></td><td bgcolor="#FF6347">rgb(255, 99, 71)</td></tr><tr><td><font color="Turquoise">Turquoise</font></td><td><font color="#40E0D0">#40E0D0</font></td><td bgcolor="#40E0D0">rgb(64, 224, 208)</td></tr><tr><td><font color="Violet">Violet</font></td><td><font color="#EE82EE">#EE82EE</font></td><td bgcolor="#EE82EE">rgb(238, 130, 238)</td></tr><tr><td><font color="VioletRed">VioletRed</font></td><td><font color="#D02090">#D02090</font></td><td bgcolor="#D02090">rgb(208, 32, 144)</td></tr><tr><td><font color="Wheat">Wheat</font></td><td><font color="#F5DEB3">#F5DEB3</font></td><td bgcolor="#F5DEB3">rgb(245, 222, 179)</td></tr><tr><td><font color="White">White</font></td><td><font color="#FFFFFF">#FFFFFF</font></td><td bgcolor="#FFFFFF">rgb(255, 255, 255)</td></tr><tr><td><font color="WhiteSmoke">WhiteSmoke</font></td><td><font color="#F5F5F5">#F5F5F5</font></td><td bgcolor="#F5F5F5">rgb(245, 245, 245)</td></tr><tr><td><font color="Yellow">Yellow</font></td><td><font color="#FFFF00">#FFFF00</font></td><td bgcolor="#FFFF00">rgb(255, 255, 0)</td></tr><tr><td><font color="YellowGreen">YellowGreen</font></td><td><font color="#9ACD32">#9ACD32</font></td><td bgcolor="#9ACD32">rgb(154, 205, 50)</td></tr></tbody></table>

]]></content>
      <categories>
        <category>原创</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>[原创] ESXI 打造最强家庭软路由系统 ROS+LEDE + 全能 NAS 方案 (2018 版)</title>
    <url>/2018/08/10/ESXI%E6%89%93%E9%80%A0%E6%9C%80%E5%BC%BA%E5%AE%B6%E5%BA%AD%E8%BD%AF%E8%B7%AF%E7%94%B1%E7%B3%BB%E7%BB%9F-ROS-LEDE-%E5%85%A8%E8%83%BDNAS/</url>
    <content><![CDATA[<p>  玩了大半年的软路由和 NAS、给大伙分享一下我用家庭 NAS 完整解决方案。ROS+LEDE+DSM 黑群晖 + Debian。我使用的实体机是芯盛美迷你主机。使用这个主机来实现的好处是</p>
<ol>
<li>一台设备就实现了所有功能，不会占用地方。</li>
<li>省电。主机功耗在 18W / 小时，整体功耗大约在 35W / 小时左右 (包含光猫，WIFI，玩客云，小爱同学)。</li>
<li>安静。主机采用铝板被动散热，所以整机非常安静。(夏天还是需要用个 USB 风扇辅助散热一下的)。</li>
<li>群晖和 Linux 上的应用基本都会有手机 APP 支持，可以在手机 APP 上操作，非常方便。</li>
<li>比起 windows 平台，要实现同样功能，使用 Linux 平台会在 CPU 等资源消耗方面低很多。</li>
</ol>
<p>  下面简单说下分工</p>
<ul>
<li>ROS - 主路由的工作：VRRP+PCC 多线负载、DHCP、端口映射、VPN 服务器、花生壳 DDNS。</li>
<li>LEDE - 旁路由的工作：KMS 微软激活、koolproxy 广告过滤、美元服务、frpc 内网穿透、阿里云 DDNS 等各种路由应用。</li>
<li>DSM 黑群晖 + debian 的工作：数据存储、文件共享、PT 下载、Docker、Emby、SVN 版本控制、LNMP、手机终端数据同步等等。</li>
</ul>
<p>

</p><p>首先，先上我们的主角的照片。<img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_esxiesxi_001.png"><br>主角配置：</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>配置</th>
</tr>
</thead>
<tbody><tr>
<td> CPU</td>
<td>I7-4600U</td>
</tr>
<tr>
<td> 内存</td>
<td> 8G DDR3L + 4G DDR3L</td>
</tr>
<tr>
<td> 网卡</td>
<td> Realtek 8168 * 4 (自带 2 个，MiniPCI 扩展了 2 个)</td>
</tr>
<tr>
<td> 硬盘</td>
<td> 4T 2.5 寸 HDD + 128G msata SSD + 1T msata SSD</td>
</tr>
</tbody></table>
<p>接着上图 K2P 和玩客云：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_esxiesxi_002.png"><br>上网络拓扑图：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ESXI-DSM-Debian.png"></p>
<blockquote>
<p>Backup-PC 上面装了 5 块硬盘，ROS 每天凌晨 4 点自动网络唤醒 Backup-PC, 将当天数据做一个本地备份后关机。关键数据有 4 处备份。本地备份、玩客云、百度云、onedrive、以保证数据安全。这样做第一会比平时硬盘全开省电不少，第二比组 RAID1 硬盘的空间利用率更高。第三安全总不可能 4 个地方的数据同时坏吧！</p>
</blockquote>
<h2 id="安装需要的虚拟机"><a href="#安装需要的虚拟机" class="headerlink" title="安装需要的虚拟机"></a>安装需要的虚拟机</h2><h3 id="安装ESXI6-5"><a href="#安装ESXI6-5" class="headerlink" title="安装ESXI6.5"></a>安装 ESXI6.5</h3><p><a href="https://zealot.top/ESXI6-5-%E5%AE%89%E8%A3%85%E8%AF%A6%E7%BB%86%E6%AD%A5%E9%AA%A4.html"><i class="fa fa-link">ESXI 详细安装步骤点这里</i></a></p>
<h3 id="安装ROS"><a href="#安装ROS" class="headerlink" title="安装ROS"></a>安装 ROS</h3><p><a href="https://zealot.top/ESXI-%E5%AE%89%E8%A3%85%E8%99%9A%E6%8B%9F%E6%9C%BAROS.html#more"><i class="fa fa-link">ROS 详细安装步骤点这里</i></a></p>
<h3 id="安装LEDE"><a href="#安装LEDE" class="headerlink" title="安装LEDE"></a>安装 LEDE</h3><p><a href="https://zealot.top/lede2-6-%E8%AF%A6%E7%BB%86%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4.html"><i class="fa fa-link">LEDE 详细安装步骤点这里</i></a></p>
<hr>
<h2 id="配置虚拟机"><a href="#配置虚拟机" class="headerlink" title="配置虚拟机"></a>配置虚拟机</h2><h3 id="配置ROS"><a href="#配置ROS" class="headerlink" title="配置ROS"></a>配置 ROS</h3><p>先按下面的方法，把 ROS 配置好，让其可以正常上网。<br><a href="http://zealot.top/tags/ROS/"><i class="fa fa-link">ROS 配置步骤点这里</i></a></p>
<ul>
<li><h4 id="ROS的DHCP配置"><a href="#ROS的DHCP配置" class="headerlink" title="ROS的DHCP配置"></a> ROS 的 DHCP 配置</h4></li>
</ul>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros100.png"></p>
<ul>
<li><h4 id="选择LAN网卡"><a href="#选择LAN网卡" class="headerlink" title="选择LAN网卡"></a>选择 LAN 网卡</h4></li>
</ul>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros101.png"></p>
<ul>
<li><h4 id="网段设置，我用的31段。这个你可以自由设置。"><a href="#网段设置，我用的31段。这个你可以自由设置。" class="headerlink" title="网段设置，我用的31段。这个你可以自由设置。"></a>网段设置，我用的 31 段。这个你可以自由设置。</h4></li>
</ul>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros102.png"></p>
<ul>
<li><h4 id="划重点，这里要设置成下面LEDE的IP地址。"><a href="#划重点，这里要设置成下面LEDE的IP地址。" class="headerlink" title="划重点，这里要设置成下面LEDE的IP地址。"></a>划重点，这里要设置成下面 LEDE 的 IP 地址。</h4></li>
</ul>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros103.png"></p>
<ul>
<li><h4 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h4></li>
</ul>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros104.png"></p>
<h3 id="配置LEDE"><a href="#配置LEDE" class="headerlink" title="配置LEDE"></a>配置 LEDE</h3><ul>
<li><h4 id="开启LEDE虚拟机"><a href="#开启LEDE虚拟机" class="headerlink" title="开启LEDE虚拟机"></a>开启 LEDE 虚拟机</h4></li>
</ul>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_lede13.png"></p>
<ul>
<li><h4 id="进入虚拟机LEDE控制台"><a href="#进入虚拟机LEDE控制台" class="headerlink" title="进入虚拟机LEDE控制台"></a>进入虚拟机 LEDE 控制台</h4></li>
</ul>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_lede14.png"></p>
<ul>
<li><h4 id="配置网卡"><a href="#配置网卡" class="headerlink" title="配置网卡"></a>配置网卡</h4></li>
</ul>
<p>在命令行输入</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">nano /etc/config/network</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_lede16.png"><br>将网卡配置更改为下面的内容，然后按 <code>Ctrl+X</code> 保存退出。注意：IP 和网关需要根据自己的网络来修改，</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">config interface 'loopback'</span><br><span class="line">        option ifname 'lo'</span><br><span class="line">        option proto 'static'</span><br><span class="line">        option ipaddr '127.0.0.1'</span><br><span class="line">        option netmask '255.0.0.0'</span><br><span class="line"></span><br><span class="line">config globals 'globals'</span><br><span class="line">        option ula_prefix 'fdf1:53e1:6bd9::/48'</span><br><span class="line"></span><br><span class="line">config interface 'lan'</span><br><span class="line">        option type 'bridge'</span><br><span class="line">        option proto 'static'</span><br><span class="line">        option ipaddr '192.168.31.40'</span><br><span class="line">        option netmask '255.255.255.0'</span><br><span class="line">        option ip6assign '60'</span><br><span class="line">        option ifname 'eth0'</span><br><span class="line">        option gateway '192.168.31.250'</span><br><span class="line">        option dns '223.5.5.5'</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>IP 设置成跟 ROS 为同一网段，网关设置成 ROS 的 IP 地址 <code>option ipaddr</code> 代表 IP 地址。<code>option gateway</code> 代表网关</p>
</blockquote>
<p>
![](https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_lede17.png)
输入下面的命令，重启 LEDE 网络
</p><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">/etc/init.d/network restart</span><br></pre></td></tr></tbody></table></figure>
![](https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_lede18.png)
浏览器输入IP:192.168.31.40，访问LEDE
配置LAN
![](https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_lede19.png)
关闭DHCP服务器
![](https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_lede20.png)
更新软件中心及固件。
![](https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_lede21.png)
![](https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_lede22.png)
自此LEDE的配置就完成了。

<h3 id="KMS，广告过滤，美元。"><a href="#KMS，广告过滤，美元。" class="headerlink" title="KMS，广告过滤，美元。"></a>KMS，广告过滤，美元。</h3><ul>
<li><h4 id="KMS微软激活"><a href="#KMS微软激活" class="headerlink" title="KMS微软激活"></a>KMS 微软激活</h4></li>
</ul>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_lede23.png"><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_lede24.png"><br>激活 WINDOWS, 首先安装 vol 大客户版 windows 和 office，然后以管理员权限运行 CMD. 运行下面的命令</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">激活Windows</span><br><span class="line">cd C:\Windows\System32</span><br><span class="line">CSCRIPT /NOLOGO SLMGR.VBS /SKMS 192.168.31.1</span><br><span class="line">CSCRIPT /NOLOGO SLMGR.VBS /ATO</span><br><span class="line">CSCRIPT /NOLOGO SLMGR.VBS /XPR</span><br><span class="line">---------------------------------------------</span><br><span class="line">激活Office2016（以64位为例子）</span><br><span class="line">cd C:\Program Files\Microsoft Office\Office16</span><br><span class="line">CSCRIPT OSPP.VBS /SETHST:192.168.31.1</span><br><span class="line">CSCRIPT OSPP.VBS /ACT</span><br><span class="line">CSCRIPT OSPP.VBS /DSTATUS</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>记住：192.168.31.1 这个地址，要改成你自己的 LEDE 的 IP。</p>
</blockquote>
<ul>
<li><h4 id="koolproxy广告过滤"><a href="#koolproxy广告过滤" class="headerlink" title="koolproxy广告过滤"></a>koolproxy 广告过滤</h4></li>
</ul>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_lede25.png"><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_lede26.png"><br>开启第三方规则，我开这三个规则过滤视频广告是最优的。你们也可以自己试试。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_lede27.png"></p>
<ul>
<li><h4 id="美元服务"><a href="#美元服务" class="headerlink" title="美元服务"></a>美元服务</h4></li>
</ul>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_lede28.png"><br>开启美元，输入自己的 SS 节点，然后添加。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_lede29.png"><br>选择刚才添加的节点，提交.<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_lede30.png"><br>第一次开启美元，记得要更新一下规则.<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_lede31.png"></p>
]]></content>
      <categories>
        <category>原创</category>
      </categories>
      <tags>
        <tag>vmware</tag>
      </tags>
  </entry>
  <entry>
    <title>[原创] Hexo-Github 搭建自己的博客 --- 心得汇总 2018 版（主题配置篇）</title>
    <url>/2018/07/25/Hexo-Github%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A22/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>我这篇文章主要是讲解以 next 主题的各项具体设置，让自己的博客更加美化。（网上有很多关于 Next 主题的配置方法，我主要是把网上找到的各个设置做个汇总吧）</p>
<p>NexT 是一款简洁优雅且易于使用的主题，配置比较简单，只需要稍微修改配置文件即可，功能也比较全，分类、归档、标签显示明了，让人一看就知道干嘛的。</p>
<hr>
<h3 id="设置侧边栏设置圆形可旋转头像"><a href="#设置侧边栏设置圆形可旋转头像" class="headerlink" title="设置侧边栏设置圆形可旋转头像"></a>设置侧边栏设置圆形可旋转头像</h3><p>设置效果：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo14.gif" align="left" style=" width:180px;height:80 px"></p>
<p><br><br><br><br><br><br></p>
<p>设置方法：</p>
<p>找到生成的 Hexo 目录 <code>themes/next/source/css_common/components/sidebar</code> 下的 <code>sidebar-author.styl</code>，将里面的 css 样式内容全部替换为：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">.site-author-image {</span><br><span class="line">  margin: 0 auto;</span><br><span class="line">  padding: $site-author-image-padding;</span><br><span class="line">  max-width: $site-author-image-width;</span><br><span class="line">  height: $site-author-image-height;</span><br><span class="line">  border: $site-author-image-border-width solid $site-author-image-border-color;</span><br><span class="line"></span><br><span class="line">  border-radius: 50%;</span><br><span class="line">  -webkit-border-radius: 50%;</span><br><span class="line">  -moz-border-radius: 50%;</span><br><span class="line">  transition: 1.4s all;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">.site-author-image:hover {</span><br><span class="line">    -webkit-transform: rotate(360deg);</span><br><span class="line">    -moz-transform: rotate(360deg);</span><br><span class="line">    -ms-transform: rotate(360deg);</span><br><span class="line">    -transform: rotate(360deg);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">.site-author-name {</span><br><span class="line">  margin: $site-author-name-margin;</span><br><span class="line">  text-align: $site-author-name-align;</span><br><span class="line">  color: $site-author-name-color;</span><br><span class="line">  font-weight: $site-author-name-weight;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">.site-description {</span><br><span class="line">  margin-top: $site-description-margin-top;</span><br><span class="line">  text-align: $site-description-align;</span><br><span class="line">  font-size: $site-description-font-size;</span><br><span class="line">  color: $site-description-color;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<hr>
<h3 id="添加动态背景"><a href="#添加动态背景" class="headerlink" title="添加动态背景"></a>添加动态背景</h3><p>设置效果：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo15.gif" align="left" style=" width:380px;height:280 px"></p>
<p><br><br><br><br><br><br><br>设置方法：</p>
<p>打开生成的 Hexo 目录 <code>themes/next/layout/_layout.swig</code> 文件，<br>在 <code>&lt;/body&gt;</code> 上面添加代码 (注意不要放在 <code>&lt;/head&gt;</code> 的后面)</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">{% if theme.canvas_nest %}</span><br><span class="line">&lt;script type="text/javascript"</span><br><span class="line">color="0,0,255" opacity='0.7' zIndex="-2" count="99" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"&gt;&lt;/script&gt;</span><br><span class="line">{% endif %}</span><br></pre></td></tr></tbody></table></figure>

<p>配置项说明<br><code>color ：线条颜色, 默认: '0,0,0'；三个数字分别为(R,G,B)</code><br><code>opacity: 线条透明度（0~1）, 默认: 0.5</code><br><code>count: 线条的总数量, 默认: 150</code><br><code>zIndex: 背景的z-index属性，css属性用于控制所在层的位置, 默认: -1</code></p>
<p>然后打开主题配置文件，修改 <code>canvas_nest</code> 为 <code>true</code></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">canvas_nest: true</span><br></pre></td></tr></tbody></table></figure>

<hr>
<h3 id="点击出现桃心效果"><a href="#点击出现桃心效果" class="headerlink" title="点击出现桃心效果"></a>点击出现桃心效果</h3><p>设置效果：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo16.gif" align="left" style=" width:100px;height:50 px"></p>
<p><br><br><br><br><br><br><br>设置方法：</p>
<p>在网址输入如下<br><a href="http://7u2ss1.com1.z0.glb.clouddn.com/love.js">http://7u2ss1.com1.z0.glb.clouddn.com/love.js</a><br>然后将里面的代码 copy 一下，新建 <code>love.js</code> 文件并且将代码复制进去，然后保存。<br>将 <code>love.js</code> 文件放到路径 <code>themes/next/source/js/src</code> 里面，然后打开 <code>themes/next/layout/_layout.swig</code> 文件，在末尾（在前面引用会出现找不到的 bug）<br>添加以下代码：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;!-- 页面点击小红心 --&gt;</span><br><span class="line">&lt;script type="text/javascript" src="/js/src/love.js"&gt;&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

<hr>
<h3 id="添加RSS"><a href="#添加RSS" class="headerlink" title="添加RSS"></a>添加 RSS</h3><p>设置效果：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo17.jpg" align="left" style=" width:160px;height:130 px"></p>
<p><br><br><br><br><br>设置方法：<br>执行以下命令安装 RSS 插件</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">npm install hexo-generator-feed --save</span><br></pre></td></tr></tbody></table></figure>

<p>编辑网站根目录下的<code>_config.yml</code>，添加以下代码开启</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">plugin:</span><br><span class="line">- hexo-generator-feed</span><br><span class="line">feed:</span><br><span class="line">type: atom</span><br><span class="line">path: atom.xml</span><br><span class="line">limit: 20</span><br></pre></td></tr></tbody></table></figure>

<hr>
<h3 id="字数统计"><a href="#字数统计" class="headerlink" title="字数统计"></a>字数统计</h3><p>设置效果：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo19.jpg" align="left" style=" width:380px;height:280 px"></p>
<p><br><br><br><br>设置方法：<br>安装统计插件</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">npm i --save hexo-wordcount</span><br></pre></td></tr></tbody></table></figure>
<p>NexT 主题默认已经集成了文章【字数统计】、【阅读时长】统计功能，如果我们需要使用，只需要在主题配置文件 <code>themes/next/_config.yml</code> 中打开 <code>wordcount</code> 统计功能即可。如下所示：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># Post wordcount display settings</span><br><span class="line"># Dependencies: https://github.com/willin/hexo-wordcount</span><br><span class="line">post_wordcount:</span><br><span class="line">  item_text: true</span><br><span class="line">  wordcount: true         # 单篇 字数统计</span><br><span class="line">  min2read: true          # 单篇 阅读时长</span><br><span class="line">  totalcount: false       # 网站 字数统计</span><br><span class="line">  separated_meta: true</span><br></pre></td></tr></tbody></table></figure>

<p>显示文字<br>打开 <code>post.swig</code> 文件，路径：<code>themes/next/layout/_macro/post.swig</code></p>
<p>修改【字数统计】，找到如下代码：</p>
<p><code>&lt;span title="{{ __('post.wordcount') }}"&gt;</code><br><code>    {{ wordcount(post.content) }}</code><br><code>&lt;/span&gt;</code></p>
<p>添加<code>字</code>到 <code>{{ wordcount(post.content)}}</code>  后面，修改后为：</p>
<p><code>&lt;span title="{{ __('post.wordcount') }}"&gt;</code><br><code>    {{ wordcount(post.content) }} 字</code><br><code>&lt;/span&gt;</code></p>
<p>同理，我们修改【阅读时长】，修改后如下：</p>
<p><code>&lt;span title="{{ __('post.min2read') }}"&gt;</code><br><code>    {{ min2read(post.content) }} 分钟</code><br><code>&lt;/span&gt;</code></p>
<hr>
<h3 id="修改-代码块自定义样式"><a href="#修改-代码块自定义样式" class="headerlink" title="修改``代码块自定义样式"></a>修改 `` 代码块自定义样式</h3><p>设置效果：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo20.jpg" align="left" style=" width:380px;height:280 px"><br><br><br>设置方法：<br>打开 <code>themes/next/source/css/_custom/custom.styl</code>, 向里面加入：(颜色可以自己定义)</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">// Custom styles.</span><br><span class="line">code {</span><br><span class="line">    color: #ff7600;</span><br><span class="line">    background: #fbf7f8;</span><br><span class="line">    margin: 2px;</span><br><span class="line">}</span><br><span class="line">// 大代码块的自定义样式</span><br><span class="line">.highlight, pre {</span><br><span class="line">    margin: 5px 0;</span><br><span class="line">    padding: 5px;</span><br><span class="line">    border-radius: 3px;</span><br><span class="line">}</span><br><span class="line">.highlight, code, pre {</span><br><span class="line">    border: 1px solid #d6d6d6;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<hr>
<h3 id="博文置顶"><a href="#博文置顶" class="headerlink" title="博文置顶"></a>博文置顶</h3><p>设置效果：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo21.jpg" align="left" style=" width:380px;height:280 px"></p>
<p><br><br><br>设置方法：<br>首先安装插件：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">npm uninstall hexo-generator-index --save</span><br><span class="line">npm install hexo-generator-index-pin-top --save</span><br></pre></td></tr></tbody></table></figure>
<p>然后在需要置顶的文章的 <code>Front-matter</code> 中加上 <code>top: true</code> 即可。比如下面这篇文章：</p>
<img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo22.jpg" align="left" style=" width:280px;height:150 px">

<p><br><br><br><br><br><br><br>置顶功能就完成了。</p>
<p>不过置顶的文章显示在最上面之后，如果没有明确的置顶标志，是不是感觉有点怪怪的呢？</p>
<p>设置置顶标志<br>打开：<code>themes/next/layout/_macro</code> 目录下的 <code>post.swig</code> 文件，定位到 <code>&lt;div class="post-meta"&gt;</code> 标签下，插入如下代码：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">{% if post.top %}</span><br><span class="line">  &lt;i class="fa fa-thumb-tack"&gt;&lt;/i&gt;</span><br><span class="line">  &lt;font color=7D26CD&gt;置顶&lt;/font&gt;</span><br><span class="line">  &lt;span class="post-meta-divider"&gt;|&lt;/span&gt;</span><br><span class="line">{% endif %}</span><br></pre></td></tr></tbody></table></figure>

<hr>
<h3 id="结尾添加“本文结束”标记"><a href="#结尾添加“本文结束”标记" class="headerlink" title="结尾添加“本文结束”标记"></a>结尾添加 “本文结束” 标记</h3><p>设置效果：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo23.jpg" align="left" style=" width:380px;height:120 px"></p>
<br>
设置方法：
在路径`themes/next/layout/_macro`中新建`passage-end-tag.swig`文件,并添加以下内容：
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    {% if not is_index %}</span><br><span class="line">        &lt;div style="text-align:center;color: #ccc;font-size:14px;"&gt;</span><br><span class="line">            -------------本文结束</span><br><span class="line">            &lt;i class="fa fa-paw"&gt;&lt;/i&gt;</span><br><span class="line">            感谢您的阅读-------------</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    {% endif %}</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></tbody></table></figure>
接着打开`themes/next/layout/_macro/post.swig`文件，在`post-body`之后，`post-footer`之前添加如下代码,(大概在350行左右的位置)：
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">  {% if not is_index %}</span><br><span class="line">    {% include 'passage-end-tag.swig' %}</span><br><span class="line">  {% endif %}</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></tbody></table></figure>
然后打开主题配置文件`_config.yml`,在末尾添加：
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># 文章末尾添加“本文结束”标记</span><br><span class="line">passage_end_tag:</span><br><span class="line">  enabled: true</span><br></pre></td></tr></tbody></table></figure>

<hr>
<h3 id="修改结尾-标签"><a href="#修改结尾-标签" class="headerlink" title="修改结尾#标签"></a>修改结尾<code>#</code>标签</h3><p>设置效果：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo24.jpg" align="left" style=" width:380px;height:280 px"></p>
<p><br><br><br><br>设置方法：<br>修改模板 <code>themes/next/layout/_macro/post.swig</code> 搜索 <code>rel=”tag”</code>，将后面的<code>#</code>换成</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;i class="fa fa-tag"&gt;&lt;/i&gt;</span><br></pre></td></tr></tbody></table></figure>

<hr>
<h3 id="修改文章内链接文本样式"><a href="#修改文章内链接文本样式" class="headerlink" title="修改文章内链接文本样式"></a>修改文章内链接文本样式</h3><p>设置效果：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo25.jpg" align="left" style=" width:380px;height:180 px"></p>
<p><br><br><br>设置方法：<br>修改文件 <code>themes/next/source/css/_common/components/post/post.styl</code>，在末尾添加如下 <code>css</code> 样式，：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">// 文章内链接文本样式</span><br><span class="line">.post-body p a{</span><br><span class="line">  color: #0593d3;</span><br><span class="line">  border-bottom: none;</span><br><span class="line">  border-bottom: 1px solid #0593d3;</span><br><span class="line">  &amp;:hover {</span><br><span class="line">    color: #fc6423;</span><br><span class="line">    border-bottom: none;</span><br><span class="line">    border-bottom: 1px solid #fc6423;</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>其中选择<code>.post-body</code> 是为了不影响标题，选择 <code>p</code> 是为了不影响首页 “阅读全文” 的显示样式，颜色可以自己定义。</p>
<hr>
<h3 id="主页文章添加阴影效果"><a href="#主页文章添加阴影效果" class="headerlink" title="主页文章添加阴影效果"></a>主页文章添加阴影效果</h3><p>设置效果：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo26.jpg" align="left" style=" width:280px;height:180 px"></p>
<p><br><br><br><br><br><br><br><br><br><br><br><br><br>设置方法：<br>打开 <code>themes/next/source/css/_custom/custom.styl</code>, 在里面加入：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">// 主页文章添加阴影效果</span><br><span class="line"> .post {</span><br><span class="line">   margin-top: 60px;</span><br><span class="line">   margin-bottom: 60px;</span><br><span class="line">   padding: 25px;</span><br><span class="line">   -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5);</span><br><span class="line">   -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>

<hr>
<h3 id="添加站内搜索"><a href="#添加站内搜索" class="headerlink" title="添加站内搜索"></a>添加站内搜索</h3><p>设置效果：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo27.jpg" align="left" style=" width:280px;height:180 px"></p>
<p><br><br><br><br><br><br><br><br><br><br>设置方法：<br>安装 <code>hexo-generator-searchdb</code> 插件</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">npm install hexo-generator-searchdb --save</span><br></pre></td></tr></tbody></table></figure>
<p>编辑<code>_config.yml</code> 站点配置文件，新增以下内容到任意位置：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br><span class="line">  format: html</span><br><span class="line">  limit: 10000</span><br></pre></td></tr></tbody></table></figure>

<p>编辑 <code>themes/next/_config.yml</code> 主题配置文件，启用本地搜索功能，将 <code>local_search:</code> 下面的 <code>enable:</code> 的值，改成 <code>true</code></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># Local search</span><br><span class="line">local_search:</span><br><span class="line">  enable: true</span><br></pre></td></tr></tbody></table></figure>

<hr>
<h3 id="首页不显示全文-只显示预览"><a href="#首页不显示全文-只显示预览" class="headerlink" title="首页不显示全文(只显示预览)"></a>首页不显示全文 (只显示预览)</h3><p>设置效果：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo28.jpg" align="left" style=" width:280px;height:180 px"></p>
<p><br><br><br><br><br><br><br><br>设置方法：<br>打开主题配置文件 <code>/themes/next/_config.yml</code>，将 <code>auto_excerpt</code> 下面的 <code>enable:</code> 的值，改成 <code>true</code></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># Automatically Excerpt. Not recommand.</span><br><span class="line"># Please use &lt;!-- more --&gt; in the post to control excerpt accurately.</span><br><span class="line">auto_excerpt:</span><br><span class="line">enable: true</span><br><span class="line">length: 150</span><br></pre></td></tr></tbody></table></figure>
<p>除了这个方法，还有一个更灵活的方法，直接在编辑的文章中添加 <code>&lt;!--more--&gt;</code> 标记。这样只会显示 <code>&lt;!--more--&gt;</code> 标记之前的那部份。</p>
<hr>
<h3 id="添加顶部加载条"><a href="#添加顶部加载条" class="headerlink" title="添加顶部加载条"></a>添加顶部加载条</h3><p>设置效果：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo17.gif" align="left" style=" width:280px;height:180 px"></p>
<br>
设置方法：
打开`themes/next/_config.yml`主题配置文件，将`pace:`的值,改成`true`
还可以将`pace_theme:`的值，改成相应的名字,变更不同样式的加载条。
<img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo29.png" align="left" style=" width:280px;height:180 px">
<br><br><br><br><br><br><br>


<hr>
<h3 id="添加到百度统计"><a href="#添加到百度统计" class="headerlink" title="添加到百度统计"></a>添加到百度统计</h3><p>设置效果：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo30.jpg" align="left" style=" width:280px;height:180 px"></p>
<p><br><br><br><br><br><br><br>设置方法：<br>首先你要去<a href="http://tongji.baidu.com/">百度统计</a>注册个账号。</p>
<p>将安装代码复制到 github 上的 <code>index.html</code> 文件里面的 <code>&lt;/head&gt;</code> 前面（大约在 150 行左右）<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo33.jpg" align="left" style=" width:280px;height:180 px"><br><br><br><br><br><br><br><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo32.jpg" align="left" style=" width:280px;height:180 px"><br><br><br><br><br><br><br><br><br>然后复制百度统计的 <code>KEY</code><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo31.png" align="left" style=" width:280px;height:180 px"><br><br><br><br><br><br><br>编辑文件 <code>themes/next/_config.yml</code>，将 <code>Baidu Analytics ID</code> 下面的 <code>baidu_analytics:</code> 的值设置成百度统计的 <code>KEY</code></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># Baidu Analytics ID</span><br><span class="line">baidu_analytics: #百度统计的KEY</span><br></pre></td></tr></tbody></table></figure>

<hr>
<h3 id="侧边栏推荐阅读"><a href="#侧边栏推荐阅读" class="headerlink" title="侧边栏推荐阅读"></a>侧边栏推荐阅读</h3><p>设置效果：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo34.jpg" align="left" style=" width:280px;height:180 px"><br><br><br><br><br><br><br><br><br><br>设置方法：<br>编辑文件 <code>themes/next/_config.yml</code>，找到<code># Blog rolls</code> 修改成下面的样子就 OK 了。(links 里面写你想要的链接):</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># Blog rolls</span><br><span class="line">links_icon: link</span><br><span class="line">links_title: 推荐阅读</span><br><span class="line">#links_layout: block</span><br><span class="line">links_layout: inline</span><br><span class="line">links:</span><br><span class="line">  优设: http://www.uisdc.com/</span><br><span class="line">  廖雪峰: https://www.liaoxuefeng.com/</span><br><span class="line">  Web前端导航: http://www.alloyteam.com/nav/</span><br><span class="line">  前端书籍资料: http://www.36zhen.com/t?id=3448</span><br><span class="line">  百度前端技术学院: http://ife.baidu.com/</span><br><span class="line">  google前端开发基础: http://wf.uisdc.com/cn/</span><br></pre></td></tr></tbody></table></figure>

<hr>
<h3 id="生成sitemap文件"><a href="#生成sitemap文件" class="headerlink" title="生成sitemap文件"></a>生成 sitemap 文件</h3><p>设置效果：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo35.jpg" align="left" style=" width:280px;height:180 px"><br><br><br><br><br><br><br><br><br><br>设置方法：<br>首先安装相关插件：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br><span class="line">npm install hexo-generator-baidu-sitemap --save</span><br><span class="line">npm install hexo-generator-seo-friendly-sitemap --save</span><br></pre></td></tr></tbody></table></figure>
<p>注：根据个人喜欢选择合适插件即可</p>
<p>接着修改主题配置文件 <code>themes/next/_config.yml</code>, 找到 <code>menu:</code> 将下面 <code>sitemap</code> 前面的<code>#</code>号去掉，再添加 <code>baidusitemap: /baidusitemap.xml</code></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">menu:</span><br><span class="line">  ......</span><br><span class="line">  sitemap: /sitemap.xml    # 站点地图</span><br><span class="line">  baidusitemap: /baidusitemap.xml</span><br></pre></td></tr></tbody></table></figure>

<hr>
<h3 id="添加联系方式"><a href="#添加联系方式" class="headerlink" title="添加联系方式"></a>添加联系方式</h3><p>设置效果：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo36.jpg" align="left" style=" width:280px;height:180 px"><br><br><br><br><br><br><br><br>设置方法：<br>修改 <code>themes/next/_config.yml</code> 站点配置文件，找到<code># Social Links</code>, 将 <code>social:</code> 下面对应的・<code>#</code>号去掉。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># Value after `||` delimeter is the name of FontAwesome icon. If icon (with or without delimeter) is not specified, globe icon will be loaded.</span><br><span class="line">social:</span><br><span class="line">  GitHub: https://github.com/xmzcl || github</span><br><span class="line">  E-Mail: mailto:18976787@qq.com || envelope</span><br><span class="line">  #Google: https://plus.google.com/yourname || google</span><br><span class="line">  #Twitter: https://twitter.com/yourname || twitter</span><br><span class="line">  #FB Page: https://www.facebook.com/yourname || facebook</span><br><span class="line">  #VK Group: https://vk.com/yourname || vk</span><br><span class="line">  #StackOverflow: https://stackoverflow.com/yourname || stack-overflow</span><br><span class="line">  #YouTube: https://youtube.com/yourname || youtube</span><br><span class="line">  #Instagram: https://instagram.com/yourname || instagram</span><br><span class="line">  #Skype: skype:yourname?call|chat || skype</span><br><span class="line"></span><br><span class="line">social_icons:</span><br><span class="line">  enable: true</span><br><span class="line">  icons_only: false</span><br><span class="line">  transition: false</span><br></pre></td></tr></tbody></table></figure>
<p>注释：seoial_icons 节点中后面的值是 <a href="http://fontawesome.io/icons/">http://fontawesome.io/icons/</a> 中提供的图标的名称。之后其他链接如推特，微博等都可自行增减。</p>
<hr>
<h3 id="添加打赏功能"><a href="#添加打赏功能" class="headerlink" title="添加打赏功能"></a>添加打赏功能</h3><p>设置效果：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo37.jpg" align="left" style=" width:280px;height:180 px"><br><br><br><br><br><br><br><br>设置方法：<br>打开 <code>themes/next/_config.yml</code> 站点配置文件，找到<code># Reward</code> 把 <code>wechatpay:</code> 和 <code>alipay:</code> 前面的<code>#</code>号删除。然后将自己的二维码文件 <code>wechatpay.jpg</code>、<code>alipay.jpg</code> 图片放入 <code>themes/next/source/images</code> 中即可。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># Reward</span><br><span class="line">reward_comment: 坚持原创技术分享，您的支持将鼓励我继续创作！</span><br><span class="line">wechatpay: /images/wechatpay.jpg</span><br><span class="line">alipay: /images/alipay.jpg</span><br><span class="line">#bitcoin: /images/bitcoin.png</span><br></pre></td></tr></tbody></table></figure>

<hr>
<h3 id="文章加密访问"><a href="#文章加密访问" class="headerlink" title="文章加密访问"></a>文章加密访问</h3><p>设置效果：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo18.gif" align="left" style=" width:280px;height:180 px"><br><br><br><br><br><br>设置方法：<br>打开 <code>themes/next/layout/_partials/head.swig</code> 文件。<br>在 <code>&lt;meta name="theme-color" content="{{ theme.android_chrome_color }}"&gt;</code> 下面插入代码：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    (function () {</span><br><span class="line">        if ('{{ page.password }}') {</span><br><span class="line">            if (prompt('请输入文章密码') !== '{{ page.password }}') {</span><br><span class="line">                alert('密码错误！');</span><br><span class="line">                if (history.length === 1) {</span><br><span class="line">                    location.replace("http://xxxxxxx.xxx"); // 这里替换成你的首页</span><br><span class="line">                } else {</span><br><span class="line">                    history.back();</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    })();</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>
<p>然后在需要加密的文章头上添加 <code>password:</code> 标签字段，后面跟上你要设置的密码。如下图：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo38.png" align="left" style=" width:280px;height:180 px"></p>
<p><br><br><br><br><br><br></p>
<hr>
<h3 id="博客加上萌萌的宠物"><a href="#博客加上萌萌的宠物" class="headerlink" title="博客加上萌萌的宠物"></a>博客加上萌萌的宠物</h3><p>设置效果：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo40.jpg" align="left" style=" width:280px;height:180 px"><br><br><br><br><br><br><br>设置方法：<br>首先安装 live2d 插件</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">npm install -save hexo-helper-live2d</span><br></pre></td></tr></tbody></table></figure>
<p>然后在在 hexo 的<code>_config.yml</code> 主站配置文件中结尾处添加下面这些代码：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">live2d:</span><br><span class="line">  enable: true</span><br><span class="line">  scriptFrom: local</span><br><span class="line">  pluginRootPath: live2dw/</span><br><span class="line">  pluginJsPath: lib/</span><br><span class="line">  pluginModelPath: assets/</span><br><span class="line">  model:</span><br><span class="line">    use: live2d-widget-model-wanko</span><br><span class="line">  display:</span><br><span class="line">    position: right</span><br><span class="line">    width: 150</span><br><span class="line">    height: 300</span><br><span class="line">  mobile:</span><br><span class="line">    show: true</span><br></pre></td></tr></tbody></table></figure>
<p>然后刷新一下 hexo 就可以看到效果了.</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo s</span><br></pre></td></tr></tbody></table></figure>

<p><strong>下面这段是出于原创:</strong><br>萌萌宠物网上找了好多资料，发现没有一个能说清楚 live2d 是怎么配置和更换宠物的。所以我在这里给大伙写一下我的经验.<br>如果要变更宠物需要先安装他的插件包，代码如下: <a href="https://www.jianshu.com/p/832b3706cebe">想知道有哪些宠物可以点这里</a></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">npm install live2d-widget-model-z16</span><br></pre></td></tr></tbody></table></figure>
<p>然后在 <code>use: live2d-widget-model-wanko</code> 这串代码中将 <code>live2d-widget-model-wanko</code> 变成你安装的宠物名字，如刚才装的 <code>live2d-widget-model-z16</code><br>再刷新一下 hexo 就可以看到效果了.<br><code>width:150</code> 和 <code>height:300</code> 这二个是代表宠物的宽度和高度。你可以自行设置。也是要刷新 hexo 才可以看到效果.<br>如果在手机上观看博客，萌宠可能会影响观看。将 <code>mobile:</code> 下面的 <code>show:</code> 的值 <code>true</code> 改成 <code>false</code> 之后，在手机上就不会显示萌宠了.</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">mobile:</span><br><span class="line">   show: true</span><br></pre></td></tr></tbody></table></figure>

<hr>
<h3 id="自定义鼠标样式"><a href="#自定义鼠标样式" class="headerlink" title="自定义鼠标样式"></a>自定义鼠标样式</h3><p>设置效果：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo41.jpg" align="left" style=" width:120px;height:80 px"><br><br><br><br><br><br>设置方法：<br>打开 <code>themes/next/source/css/_custom/custom.styl</code>, 在里面添加如下代码：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">// 鼠标样式</span><br><span class="line">  * {</span><br><span class="line">      cursor: url("http://om8u46rmb.bkt.clouddn.com/sword2.ico"),auto!important</span><br><span class="line">  }</span><br><span class="line">  :active {</span><br><span class="line">      cursor: url("http://om8u46rmb.bkt.clouddn.com/sword1.ico"),auto!important</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>
<p>其中 url 里面必须是 ico 图片，ico 图片可以上传到网上，然后获取外链，复制到 url 里就行了。</p>
<div class="note info"><p>小技巧：二个 ICO 图标可以设置成一大一小。这样点击起来，就会有动画效果了。 </p>
</div>

<hr>
<h3 id="修改主题宽度"><a href="#修改主题宽度" class="headerlink" title="修改主题宽度"></a>修改主题宽度</h3><p>设置原因：<br>因为 next 默认的主题宽度觉得有点窄，想把他改宽一点，比较好看。所以就有了下面这个方法<br>设置方法：<br>在 <code>themes/next/source/css/_schemes/Picses/_layout.styl</code> 文件末尾添加如下代码:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">// 以下为新增代码！！</span><br><span class="line">header{ width: 70% !important; }</span><br><span class="line">header.post-header {</span><br><span class="line">  width: auto !important;</span><br><span class="line">}</span><br><span class="line">.container .main-inner { width: 70%; }</span><br><span class="line">.content-wrap { width: calc(100% - 260px); }</span><br><span class="line"></span><br><span class="line">.header {</span><br><span class="line">  +tablet() {</span><br><span class="line">    width: auto !important;</span><br><span class="line">  }</span><br><span class="line">  +mobile() {</span><br><span class="line">    width: auto !important;</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">.container .main-inner {</span><br><span class="line">  +tablet() {</span><br><span class="line">    width: auto !important;</span><br><span class="line">  }</span><br><span class="line">  +mobile() {</span><br><span class="line">    width: auto !important;</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">.content-wrap {</span><br><span class="line">  +tablet() {</span><br><span class="line">    width: 100% !important;</span><br><span class="line">  }</span><br><span class="line">  +mobile() {</span><br><span class="line">    width: 100% !important;</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<hr>
<h3 id="显示阅读百分比"><a href="#显示阅读百分比" class="headerlink" title="显示阅读百分比"></a>显示阅读百分比</h3><p>设置效果：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo44.jpg" align="left" style=" width:120px;height:80 px"><br><br><br><br><br><br>设置方法：<br>打开 <code>themes/next/_config.yml</code> 主题配置文件，找到<code># Scroll percent label in b2t button</code> 将 <code>scrollpercent:</code> 的值，改成 <code>true</code></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># Scroll percent label in b2t button</span><br><span class="line">  scrollpercent: true</span><br></pre></td></tr></tbody></table></figure>

<hr>
<h3 id="点击爆炸效果"><a href="#点击爆炸效果" class="headerlink" title="点击爆炸效果"></a>点击爆炸效果</h3><p>设置效果：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo45.png" align="left" style=" width:280px;height:180 px"><br><br><br><br><br><br><br><br><br><br><br>设置方法：<br>首先在 <code>themes/next/source/js/src</code> 里面建一个叫 <code>fireworks.js</code> 的文件，代码如下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">{% if theme.fireworks %}</span><br><span class="line">   &lt;canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" &gt;&lt;/canvas&gt; </span><br><span class="line">   &lt;script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"&gt;&lt;/script&gt; </span><br><span class="line">   &lt;script type="text/javascript" src="/js/src/fireworks.js"&gt;&lt;/script&gt;</span><br><span class="line">{% endif %}</span><br></pre></td></tr></tbody></table></figure>
<p>再打开 <code>themes/next/_config.yml</code> 主题配置文件，在文件最后添加：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># Fireworks</span><br><span class="line">fireworks: true</span><br></pre></td></tr></tbody></table></figure>

<hr>
<h3 id="隐藏网页底部-powered-By-Hexo-强力驱动"><a href="#隐藏网页底部-powered-By-Hexo-强力驱动" class="headerlink" title="隐藏网页底部 powered By Hexo / 强力驱动"></a>隐藏网页底部 powered By Hexo / 强力驱动</h3><p>设置方法：<br>打开 <code>themes/next/layout/_partials/footer.swig</code>，使用<!-- -->隐藏符号之间的代码即可，或者直接将这段代码删除。<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo46.png" align="left" style=" width:480px;height:380 px"><br><br><br><br><br><br><br><br><br><br><br><br><br></p>
<hr>
<h3 id="设置分页显示"><a href="#设置分页显示" class="headerlink" title="设置分页显示"></a>设置分页显示</h3><p>设置方法<br>打开<code>_config.yml</code> 主站配置文件，找到 <code>index_generator:</code>, 设置成如下代码:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">index_generator:</span><br><span class="line">  path: ''</span><br><span class="line">  per_page: 6</span><br><span class="line">  order_by: -date</span><br><span class="line"></span><br><span class="line">archive_generator:</span><br><span class="line">  per_page: 20</span><br><span class="line">  yearly: true</span><br><span class="line">  monthly: true</span><br><span class="line"></span><br><span class="line">tag_generator:</span><br><span class="line">  per_page: 10</span><br></pre></td></tr></tbody></table></figure>

<p>说明:<code>index_generator:</code> 是设置主页显示多少篇文章开始分页，<code>archive_generator:</code> 是设置归档主页显示多少篇文章开始分页，<code>tag_generator:</code> 是指底分页条显示多少个分页的链接.</p>
<hr>
<h3 id="取消Coding跳转页"><a href="#取消Coding跳转页" class="headerlink" title="取消Coding跳转页"></a>取消 Coding 跳转页</h3><p>设置效果：<br>取消下面这个跳转页面.<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo45.jpg" align="left" style=" width:280px;height:180 px"><br><br><br><br><br><br><br><br>设置方法：<br>打开 <code>themes/next/layout/_partials/footer.swig</code> 文件。将下面的代码添加到如下图的位置.<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo47.png" align="left" style=" width:280px;height:180 px"><br><br><br><br><br><br><br><br></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">{% if theme.footer.powered and theme.footer.theme.enable %}</span><br><span class="line">  &lt;span class="post-meta-divider"&gt;|&lt;/span&gt;</span><br><span class="line">{% endif %}</span><br><span class="line"></span><br><span class="line">  &lt;span&gt;Hosted by &lt;a href="https://pages.coding.me" &gt;Coding Pages&lt;/a&gt;&lt;/span&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>然后在 Coding 网站上，勾选已放置 Hosted by Coding Pages<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo48.png" align="left" style=" width:380px;height:280 px"><br><br><br><br><br><br><br><br></p>
<hr>
<h3 id="加入valine在线评论"><a href="#加入valine在线评论" class="headerlink" title="加入valine在线评论"></a>加入 valine 在线评论</h3><p>设置效果：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo46.jpg" align="left" style=" width:280px;height:180 px"><br><br><br><br><br><br><br>设置方法：<br>首先要先去 <a href="https://leancloud.cn/">LeanCloud</a> 注册一个帐号。然后再创建一个应用.<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo48.jpg" align="left" style=" width:380px;height:280 px"><br><br><br><br><br><br><br>进入应用 -&gt; 设置 -&gt; 应用 key, 获取你的 appid 和 appkey 如图所示：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo47.jpg" align="left" style=" width:480px;height:380 px"><br><br><br><br><br><br><br><br><br><br>拿到 <code>appid</code> 和 <code>appkey</code> 之后，打开 <code>themes/next/_config.yml</code> 主题配置文件，查找 <code>valine</code>，填入 <code>appid</code> 和 <code>appkey</code><br>我的配置:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">valine:</span><br><span class="line">  enable: true</span><br><span class="line">  appid:  your app id</span><br><span class="line">  appkey: your app key</span><br><span class="line">  notify: false # mail notifier , https://github.com/xCss/Valine/wiki</span><br><span class="line">  verify: false # Verification code</span><br><span class="line">  placeholder: ヾﾉ≧∀≦)o来啊，快活啊! </span><br><span class="line">  guest_info: nick,mail,link</span><br><span class="line">  pageSize: 10</span><br></pre></td></tr></tbody></table></figure>

<p>最后！记得在 Leancloud -&gt; 设置 -&gt; 安全中心 -&gt; Web 安全域名 把你的域名加进去．</p>
<p>刷新一下～是不是就能看到评论框了？</p>
<hr>
<h3 id="压缩博客"><a href="#压缩博客" class="headerlink" title="压缩博客"></a>压缩博客</h3><p>设置方法：<br>运行下面的命令安装插件：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">npm install gulp -g</span><br><span class="line">npm install gulp-minify-css gulp-uglify gulp-htmlmin gulp-htmlclean gulp --save</span><br></pre></td></tr></tbody></table></figure>
<p>然后在博客根目录下新建一个 <code>gulpfile.js</code> 的文件，输入下面的代码：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">var gulp = require('gulp');</span><br><span class="line">var minifycss = require('gulp-minify-css');</span><br><span class="line">var uglify = require('gulp-uglify');</span><br><span class="line">var htmlmin = require('gulp-htmlmin');</span><br><span class="line">var htmlclean = require('gulp-htmlclean');</span><br><span class="line">// 压缩 public 目录 css</span><br><span class="line">gulp.task('minify-css', function() {</span><br><span class="line">    return gulp.src('./public/**/*.css')</span><br><span class="line">        .pipe(minifycss())</span><br><span class="line">        .pipe(gulp.dest('./public'));</span><br><span class="line">});</span><br><span class="line">// 压缩 public 目录 html</span><br><span class="line">gulp.task('minify-html', function() {</span><br><span class="line">  return gulp.src('./public/**/*.html')</span><br><span class="line">    .pipe(htmlclean())</span><br><span class="line">    .pipe(htmlmin({</span><br><span class="line">         removeComments: true,</span><br><span class="line">         minifyJS: true,</span><br><span class="line">         minifyCSS: true,</span><br><span class="line">         minifyURLs: true,</span><br><span class="line">    }))</span><br><span class="line">    .pipe(gulp.dest('./public'))</span><br><span class="line">});</span><br><span class="line">// 压缩 public/js 目录 js</span><br><span class="line">gulp.task('minify-js', function() {</span><br><span class="line">    return gulp.src('./public/**/*.js')</span><br><span class="line">        .pipe(uglify())</span><br><span class="line">        .pipe(gulp.dest('./public'));</span><br><span class="line">});</span><br><span class="line">// 执行 gulp 命令时执行的任务</span><br><span class="line">gulp.task('default', [</span><br><span class="line">    'minify-html','minify-css','minify-js'</span><br><span class="line">]);</span><br></pre></td></tr></tbody></table></figure>
<p>对生成博客进行压缩就执行 <code>hexo g &amp;&amp; gulp</code>，就会根据 <code>gulpfile.js</code> 的配置，对博客进行压缩了。</p>
<div class="note info"><p>小技巧： linux 下可以，将下面的代码添加到 <code>~/.bashrc</code> 文件的结尾。</p>
</div>
<p>代码：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">alias up='hexo clean &amp;&amp; hexo g &amp;&amp; hexo d' #部署到网上</span><br><span class="line">alias upg='hexo clean &amp;&amp; hexo g &amp;&amp; gulp &amp;&amp; hexo d' #压缩后部署到网上</span><br></pre></td></tr></tbody></table></figure>
<p>添加完后，刷新 <code>~/.bashrc</code> 文件。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">source ~/.bashrc</span><br></pre></td></tr></tbody></table></figure>

<p>这样部署时只需要输入 <code>up</code> 或者 <code>upg</code> 就可以实现部署了，不用打那么多字了。</p>
<hr>
<h3 id="实现fork-me-on-github"><a href="#实现fork-me-on-github" class="headerlink" title="实现fork me on github"></a>实现 fork me on github</h3><p>设置效果：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo39.png" align="left" style=" width:480px;height:180 px"><br><br><br><br><br>设置方法：<br>点击<a href="https://github.com/blog/273-github-ribbons">这里</a>或者<a href="http://tholman.com/github-corners">这里</a>挑选自己喜欢的样式， 复制代码：</p>
<p>粘贴刚才复制的代码到 <code>themes/next/layout/_layout.swig</code> 文件中，放在 <code>&lt;div class="headband"&gt;&lt;/div&gt;</code> 的下面，并把 href 改为你的 github 地址</p>
<img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo40.png" align="left" style=" width:480px;height:380 px">
<br><br><br><br><br><br><br><br><br><br><br><br><br>

<hr>
<h3 id="显示文章热度"><a href="#显示文章热度" class="headerlink" title="显示文章热度"></a>显示文章热度</h3><p>设置效果：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo42.png"></p>
<p>设置方法：<br>next 主题集成 leanCloud，打开 <code>themes/next/layout/_macro/post.swig</code>, 在画红线的区域添加<code>℃</code></p>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo43.png"><br>打开，<code>themes/next/languages/zh-Hans.yml</code>, 将画红框的改为<code>热度</code>.</p>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo44.png"></p>
<p>打开 <code>themes/next/_config.yml</code> 找到 <code>leancloud_visitors</code>, 将 <code>enable:</code> 改成 <code>true</code>, 再填上自己的 <code>app_id</code> 和 <code>app_key</code>。<a href="#加入valine在线评论">不懂怎么看 app_id 和 app_key 的可以点这里！</a></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">leancloud_visitors:</span><br><span class="line">  enable: true</span><br><span class="line">  app_id: #你自己的id</span><br><span class="line">  app_key: #你自己的key</span><br></pre></td></tr></tbody></table></figure>

<br>

<hr>
<h3 id="hexo载入动画效果"><a href="#hexo载入动画效果" class="headerlink" title="hexo载入动画效果"></a>hexo 载入动画效果</h3><p>设置方法：<br>编辑 <code>themes/netx/_config.yml</code> 找到 <code>motion</code>, 将 <code>enable</code> 的值，改成 <code>true</code></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># Use velocity to animate everything.</span><br><span class="line">motion:</span><br><span class="line">  enable: true</span><br><span class="line">  async: false</span><br><span class="line">  transition:</span><br><span class="line">    # Transition variants:</span><br><span class="line">    # fadeIn | fadeOut | flipXIn | flipXOut | flipYIn | flipYOut | flipBounceXIn | flipBounceXOut | flipBounceYIn | flipBounceYOut</span><br><span class="line">    # swoopIn | swoopOut | whirlIn | whirlOut | shrinkIn | shrinkOut | expandIn | expandOut</span><br><span class="line">    # bounceIn | bounceOut | bounceUpIn | bounceUpOut | bounceDownIn | bounceDownOut | bounceLeftIn | bounceLeftOut | bounceRightIn | bounceRightOut</span><br><span class="line">    # slideUpIn | slideUpOut | slideDownIn | slideDownOut | slideLeftIn | slideLeftOut | slideRightIn | slideRightOut</span><br><span class="line">    # slideUpBigIn | slideUpBigOut | slideDownBigIn | slideDownBigOut | slideLeftBigIn | slideLeftBigOut | slideRightBigIn | slideRightBigOut</span><br><span class="line">    # perspectiveUpIn | perspectiveUpOut | perspectiveDownIn | perspectiveDownOut | perspectiveLeftIn | perspectiveLeftOut | perspectiveRightIn | perspectiveRightOut</span><br><span class="line">    post_block: fadeIn #主页载入效果</span><br><span class="line">    post_header: bounceRightIn #文章标题载入效果</span><br><span class="line">    post_body: slideDownIn</span><br><span class="line">    coll_header: bounceLeftIn</span><br><span class="line">    # Only for Pisces | Gemini.</span><br><span class="line">    sidebar: bounceLeftIn #侧边栏载入效果</span><br></pre></td></tr></tbody></table></figure>

<p><code>#</code>号里都是载入效果，有时间可以自己多试一试！</p>
<hr>
<h3 id="建立md模板"><a href="#建立md模板" class="headerlink" title="建立md模板"></a>建立 md 模板</h3><p>你是在站点文件夹根目录用 <code>hexo new &lt;title&gt;</code> 新建的文章，那么其实它就是将文章的模版文件 <code>~/scaffolds/post.md</code> 复制了一份到 <code>~/blog/source/_posts/</code> 下，所以这也意味着：</p>
<p>你可以直接通过在 <code>~/blog/source/_posts/</code> 下新建.md 结尾的文件来写新的文章。<br>你可以通过自定义文章的模版文件，从而每次命令行新建的文章都会有你自定义的内容。<br>下面是我的 <code>post.md</code> 内容</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">title: {{ title }}</span><br><span class="line">date: {{ date }}</span><br><span class="line"></span><br><span class="line">categories:</span><br><span class="line">/* 分类，支持多级，比如：</span><br><span class="line">- technology</span><br><span class="line">- computer</span><br><span class="line">- computer-aided-art</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">tags:</span><br><span class="line">/* 标签</span><br><span class="line">** 多个可以这样写</span><br><span class="line">- 标签1</span><br><span class="line">- 标签2</span><br><span class="line">- 标签3</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">description:</span><br><span class="line">/* 文章的描述，在每篇文章标题下方显示</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">comments:</span><br><span class="line">/* 是否开启评论</span><br><span class="line">** 默认值是 true</span><br><span class="line">** 要关闭写 false</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">photos:</span><br><span class="line">/* Gallery support，用来支持画廊 / 相册，用法如下：</span><br><span class="line">- photo_url_1</span><br><span class="line">- photo_url_2</span><br><span class="line">- photo_url_3</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">link:</span><br><span class="line">/* 文章的外部链接</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">top: true</span><br><span class="line">/* 文章置顶</span><br><span class="line">** true就是开启，flase就是关闭置顶。</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">password:</span><br><span class="line">/* 文章密码，参考本文"1.20.文章加密访问"</span><br><span class="line">** 需配置好，否则请勿添加！</span><br><span class="line">*/</span><br></pre></td></tr></tbody></table></figure>

<hr>
<h3 id="在博文中添加版权信息"><a href="#在博文中添加版权信息" class="headerlink" title="在博文中添加版权信息"></a>在博文中添加版权信息</h3><p>设置效果：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_hexo100.png"></p>
<p>设置方法：<br>在目录 <code>themes/next/layout/_macro/</code> 下建立 <code>my-copyright.swig</code> 文件，填入下面的代码：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">{% if page.copyright %}</span><br><span class="line">&lt;div class="my_post_copyright"&gt;</span><br><span class="line">  &lt;script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- JS库 sweetalert 可修改路径 --&gt;</span><br><span class="line">  &lt;script src="https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js"&gt;&lt;/script&gt;</span><br><span class="line">  &lt;script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"&gt;&lt;/script&gt;</span><br><span class="line">  &lt;p&gt;&lt;span&gt;本文标题:&lt;/span&gt;&lt;a href="{{ url_for(page.path) }}"&gt;{{ page.title }}&lt;/a&gt;&lt;/p&gt;</span><br><span class="line">  &lt;p&gt;&lt;span&gt;文章作者:&lt;/span&gt;&lt;a href="/" title="访问 {{ theme.author }} 的个人博客"&gt;{{ theme.author }}&lt;/a&gt;&lt;/p&gt;</span><br><span class="line">  &lt;p&gt;&lt;span&gt;发布时间:&lt;/span&gt;{{ page.date.format("YYYY年MM月DD日 - HH:mm") }}&lt;/p&gt;</span><br><span class="line">  &lt;p&gt;&lt;span&gt;最后更新:&lt;/span&gt;{{ page.updated.format("YYYY年MM月DD日 - HH:mm") }}&lt;/p&gt;</span><br><span class="line">  &lt;p&gt;&lt;span&gt;原始链接:&lt;/span&gt;&lt;a href="{{ url_for(page.path) }}" title="{{ page.title }}"&gt;{{ page.permalink }}&lt;/a&gt;</span><br><span class="line">    &lt;span class="copy-path"  title="点击复制文章链接"&gt;&lt;i class="fa fa-clipboard" data-clipboard-text="{{ page.permalink }}"  aria-label="复制成功！"&gt;&lt;/i&gt;&lt;/span&gt;</span><br><span class="line">  &lt;/p&gt;</span><br><span class="line">  &lt;p&gt;&lt;span&gt;许可协议:&lt;/span&gt;&lt;i class="fa fa-creative-commons"&gt;&lt;/i&gt; &lt;a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)"&gt;署名-非商业性使用-禁止演绎 4.0 国际&lt;/a&gt; 转载请保留原文链接及作者。&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var clipboard = new Clipboard('.fa-clipboard');</span><br><span class="line">    $(".fa-clipboard").click(function(){</span><br><span class="line">      clipboard.on('success', function(){</span><br><span class="line">        swal({</span><br><span class="line">          title: "",</span><br><span class="line">          text: '复制成功',</span><br><span class="line">          icon: "success",</span><br><span class="line">          showConfirmButton: true</span><br><span class="line">          });</span><br><span class="line">	});</span><br><span class="line">    });</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">{% endif %}</span><br></pre></td></tr></tbody></table></figure>
<p>在目录 <code>themes/next/source/css/_common/components/post/</code> 下建立 <code>my-post-copyright.styl</code></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">.my_post_copyright {</span><br><span class="line">  width: 85%;</span><br><span class="line">  max-width: 45em;</span><br><span class="line">  margin: 2.8em auto 0;</span><br><span class="line">  padding: 0.5em 1.0em;</span><br><span class="line">  border: 1px solid #d3d3d3;</span><br><span class="line">  font-size: 0.93rem;</span><br><span class="line">  line-height: 1.6em;</span><br><span class="line">  word-break: break-all;</span><br><span class="line">  background: rgba(255,255,255,0.4);</span><br><span class="line">}</span><br><span class="line">.my_post_copyright p{margin:0;}</span><br><span class="line">.my_post_copyright span {</span><br><span class="line">  display: inline-block;</span><br><span class="line">  width: 5.2em;</span><br><span class="line">  color: #b5b5b5;</span><br><span class="line">  font-weight: bold;</span><br><span class="line">}</span><br><span class="line">.my_post_copyright .raw {</span><br><span class="line">  margin-left: 1em;</span><br><span class="line">  width: 5em;</span><br><span class="line">}</span><br><span class="line">.my_post_copyright a {</span><br><span class="line">  color: #808080;</span><br><span class="line">  border-bottom:0;</span><br><span class="line">}</span><br><span class="line">.my_post_copyright a:hover {</span><br><span class="line">  color: #a3d2a3;</span><br><span class="line">  text-decoration: underline;</span><br><span class="line">}</span><br><span class="line">.my_post_copyright:hover .fa-clipboard {</span><br><span class="line">  color: #000;</span><br><span class="line">}</span><br><span class="line">.my_post_copyright .post-url:hover {</span><br><span class="line">  font-weight: normal;</span><br><span class="line">}</span><br><span class="line">.my_post_copyright .copy-path {</span><br><span class="line">  margin-left: 1em;</span><br><span class="line">  width: 1em;</span><br><span class="line">  +mobile(){display:none;}</span><br><span class="line">}</span><br><span class="line">.my_post_copyright .copy-path:hover {</span><br><span class="line">  color: #808080;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>修改 <code>themes/next/layout/_macro/post.swig</code>, 在代码</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">  {% if not is_index %}</span><br><span class="line">    {% include 'passage-end-tag.swig' %}</span><br><span class="line">  {% endif %}</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p>之前添加下面的代码：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">      {% if not is_index %}</span><br><span class="line">        {% include 'my-copyright.swig' %}</span><br><span class="line">      {% endif %}</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_hexo101.png"></p>
<p>修改 <code>themes/next/source/css/_common/components/post/post.styl</code> 文件，在最后一行增加：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">@import "my-post-copyright"</span><br></pre></td></tr></tbody></table></figure>
<p>然后保存退出。</p>
<p>在需要增加版权信息显示的博文抬头，添加 <code>copyright: true</code>。如下图：</p>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_hexo102.png"></p>
<hr>
<h3 id="按文章更新时间排序"><a href="#按文章更新时间排序" class="headerlink" title="按文章更新时间排序"></a>按文章更新时间排序</h3><p>这个功能我单独写了一篇文章，请访问下面的链接了解。</p>
<p><a href="https://zealot.top/%E5%88%A9%E7%94%A8vim%E5%AE%9E%E7%8E%B0HEXO%E6%96%87%E7%AB%A0%E6%8C%89%E6%9B%B4%E6%96%B0%E6%97%B6%E9%97%B4%E6%8E%92%E5%BA%8F.html#more">利用 vim 实现 HEXO 文章按更新时间自动排序</a></p>
<hr>
<h3 id="美化右侧滚动条"><a href="#美化右侧滚动条" class="headerlink" title="美化右侧滚动条"></a>美化右侧滚动条</h3><p>设置效果：</p>
<img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_hexostyle001.png" align="left" style=" width:280px;height:180 px">
<br><br><br><br><br><br><br>


<p>设置方法：<br>打开 <code>themes\next\source\css\_custom\custom.styl</code> 文件，将下面的代码添加进去。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">//设置滚动条的样式</span><br><span class="line">//参考https://segmentfault.com/a/1190000003708894</span><br><span class="line">::-webkit-scrollbar {</span><br><span class="line">      width: 5px;</span><br><span class="line">      height: 5px;</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line">//滚动槽</span><br><span class="line">::-webkit-scrollbar-track {</span><br><span class="line">      background: #eee;</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line">//滚动条滑块</span><br><span class="line">::-webkit-scrollbar-thumb {</span><br><span class="line">      border-radius: 5px;</span><br><span class="line">        background-color: #ccc;</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line">::-webkit-scrollbar-thumb:hover {</span><br><span class="line">      background-color: rgb(247, 149, 51);</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<hr>
<h3 id="优化选择的文字样式"><a href="#优化选择的文字样式" class="headerlink" title="优化选择的文字样式"></a>优化选择的文字样式</h3><p>设置效果：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_hexostyle002.png"></p>
<p>设置方法：<br>打开 <code>themes\next\source\css\_custom\custom.styl</code> 文件，将下面的代码添加进去。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">::selection {</span><br><span class="line">      background-color: rgb(255, 241, 89);</span><br><span class="line">        color: #555;</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<hr>
<h3 id="valine评论实现邮箱提醒"><a href="#valine评论实现邮箱提醒" class="headerlink" title="valine评论实现邮箱提醒"></a>valine 评论实现邮箱提醒</h3><p>这个功能我单独写了一篇文章，请访问下面的链接了解。</p>
<p><a href="https://zealot.top/Hexo%E5%8D%9A%E5%AE%A2%E4%B9%8Bvaline%E8%AF%84%E8%AE%BA%E5%AE%9E%E7%8E%B0%E9%82%AE%E7%AE%B1%E6%8F%90%E9%86%92%E7%9A%84%E6%96%B9%E6%B3%95.html#more">Hexo 博客之 valine 评论实现邮箱提醒的方法</a></p>
<hr>
<p><font size="5" color="red">未完待续…….</font></p>
]]></content>
      <categories>
        <category>原创</category>
      </categories>
  </entry>
  <entry>
    <title>ROS 实现用花生壳做 DDNS</title>
    <url>/2018/07/16/ROS-%E5%AE%9E%E7%8E%B0%E7%94%A8%E8%8A%B1%E7%94%9F%E5%A3%B3%E5%81%9ADDNS/</url>
    <content><![CDATA[<p>ROS6.X 以上版本，动态 DDNS 绑定方法。本人现在使用的 6.46 测试正常。</p>
<h1 id="建立脚本"><a href="#建立脚本" class="headerlink" title="建立脚本"></a>建立脚本</h1><p>用 winbox 登陆 ROS. 在 <code>system</code> 的<code>script</code>下，新建一个脚本。</p>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROSDDNS1.jpg"> </p>
<p>输入脚本名字 <code>ddns</code>，输入下面的代码:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">local ipaddr</span><br><span class="line">local server "http://ddns.oray.com"</span><br><span class="line">local domain "输入你的域名"</span><br><span class="line">local par "/ph/update?hostname=$domain&amp;myip=$ipaddr"</span><br><span class="line">local users "花生壳的用户名"</span><br><span class="line">local paswd "花生壳的密码"</span><br><span class="line">:set ipaddr [/ip address get [/ip address find interface=pppoe-out1] address]</span><br><span class="line">:set ipaddr [:pick $ipaddr 0 ([len $ipaddr] -3)]</span><br><span class="line">/tool fetch url=($server . $par) mode=http user=$users password=$paswd</span><br></pre></td></tr></tbody></table></figure>

<p>备注：如果是多拔的同学，想要选择是用哪条线路的 IP。可以在 <code>interface=pppoe-out1</code> 这里改成你想要的线路。</p>
<h1 id="运行脚本"><a href="#运行脚本" class="headerlink" title="运行脚本"></a>运行脚本</h1><h2 id="在script-list中选择要执行的脚本点Run-Script就运行了。"><a href="#在script-list中选择要执行的脚本点Run-Script就运行了。" class="headerlink" title="在script list中选择要执行的脚本点Run Script就运行了。"></a>在 script list 中选择要执行的脚本点 <code>Run Script</code> 就运行了。</h2><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROSDDNS2.jpg"></p>
<h2 id="建立定时任务，每15分钟自动刷新DDNS"><a href="#建立定时任务，每15分钟自动刷新DDNS" class="headerlink" title="建立定时任务，每15分钟自动刷新DDNS"></a>建立定时任务，每 15 分钟自动刷新 DDNS</h2><p>在 <code>system</code> 的 <code>Scheduler</code> 下，新建一个任务。<br>输入你的任务名，<code>Interval</code> 是执行的时间（我设置的是每 15 分钟执行一次），最后在内容里输入：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">/system script run ddns</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ROSDDNS3.jpg"></p>
<p><font size="5" color="red">大功告成！</font></p>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
  </entry>
  <entry>
    <title>用 shellinabox 实现 web 端进行 ssh 登陆</title>
    <url>/2018/07/16/%E7%94%A8shellinabox%E5%AE%9E%E7%8E%B0web%E7%AB%AF%E8%BF%9B%E8%A1%8Cssh%E7%99%BB%E9%99%86/</url>
    <content><![CDATA[<p>大家经常使用的 ssh 工具，基本都是 putty 或 xhell。今天介绍一下另一个 ssh 登陆方法，用 shellinabox 来实现 web 端 ssh 登陆。</p>
<h1 id="shellinabox的安装"><a href="#shellinabox的安装" class="headerlink" title="shellinabox的安装"></a>shellinabox 的安装</h1><p>On Debian, Ubuntu and Linux Mint</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">sudo apt-get install shellinabox</span><br></pre></td></tr></tbody></table></figure>

<p>On RHEL, CentOS and Fedora</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">yum install openssl shellinabox</span><br></pre></td></tr></tbody></table></figure>

<h1 id="设置："><a href="#设置：" class="headerlink" title="设置："></a>设置：</h1><p>在 debian，ubuntu and Linux Mint 环境下。配置文件 <code>/etc/default/shellinabox</code></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># Should shellinaboxd start automatically</span><br><span class="line">SHELLINABOX_DAEMON_START=1</span><br><span class="line"></span><br><span class="line"># TCP port that shellinboxd's webserver listens on</span><br><span class="line">SHELLINABOX_PORT=4200   #这个就是你使用web终端登陆的端口</span><br><span class="line"></span><br><span class="line"># Parameters that are managed by the system and usually should not need</span><br><span class="line"># changing:</span><br><span class="line"># SHELLINABOX_DATADIR=/var/lib/shellinabox</span><br><span class="line"># SHELLINABOX_USER=shellinabox</span><br><span class="line"># SHELLINABOX_GROUP=shellinabox</span><br><span class="line"></span><br><span class="line"># Any optional arguments (e.g. extra service definitions).  Make sure</span><br><span class="line"># that that argument is quoted.</span><br><span class="line">#</span><br><span class="line">#   Beeps are disabled because of reports of the VLC plugin crashing</span><br><span class="line">#   Firefox on Linux/x86_64.</span><br><span class="line">SHELLINABOX_ARGS="--no-beep"</span><br></pre></td></tr></tbody></table></figure>

<p>在 RHEL, CentOS and Fedora 环境下，配置文件在：<code>/etc/sysconfig/shellinaboxd</code><br>因为我电脑没有装 centos。下面的代码是我贴来的，不过大至都差不多。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># vi /etc/sysconfig/shellinaboxd</span><br><span class="line"># TCP port that shellinboxd's webserver listens on</span><br><span class="line">PORT=6175   #这个就是你使用web终端登陆的端口</span><br><span class="line"></span><br><span class="line"># specify the IP address of a destination SSH server</span><br><span class="line">OPTS="-s /:SSH:172.16.25.125"</span><br><span class="line"></span><br><span class="line"># if you want to restrict access to shellinaboxd from localhost only</span><br><span class="line">OPTS="-s /:SSH:172.16.25.125 --localhost-only"</span><br></pre></td></tr></tbody></table></figure>

<h1 id="启动服务"><a href="#启动服务" class="headerlink" title="启动服务"></a>启动服务</h1><p>Debian, Ubuntu and Linux Mint</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">/etc/init.d/shellinabox start</span><br></pre></td></tr></tbody></table></figure>

<p>RHEL and CentOS</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">systemctl shellinaboxd start</span><br></pre></td></tr></tbody></table></figure>

<h1 id="检查是否启动"><a href="#检查是否启动" class="headerlink" title="检查是否启动"></a>检查是否启动</h1><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># netstat -nap | grep shellinabox</span><br><span class="line">tcp        0      0 0.0.0.0:4200            0.0.0.0:*               LISTEN      12274/shellinaboxd</span><br></pre></td></tr></tbody></table></figure>
<br>

<h1 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h1><p>在任意浏览器中输入 <code>https://你的IP:端口号</code> , 就可以访问你的 linux 了。</p>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_shellinabox.png"></p>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
  </entry>
  <entry>
    <title>ROS VRRP+PCC 实现单线多拔及负载均衡</title>
    <url>/2018/07/14/ROS-vrrp-PCC%E5%AE%9E%E7%8E%B0%E5%8D%95%E7%BA%BF%E5%A4%9A%E6%8B%94%E5%8F%8A%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/</url>
    <content><![CDATA[<p>ROS 是现在最好的软路由系统了，今天跟大家分享一下，怎么用 ROS 实现单线多拔及负载均衡.</p>
<h1 id="配置VRRP"><a href="#配置VRRP" class="headerlink" title="配置VRRP"></a>配置 VRRP</h1><h2 id="配置VRRP虚拟接口"><a href="#配置VRRP虚拟接口" class="headerlink" title="配置VRRP虚拟接口"></a>配置 VRRP 虚拟接口</h2><p>按下图新建一条 vrrp1<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc1.jpg" align="left" style=" width:380px;height:280 px"><br><br><br><br><br><br><br><br><br><br><br><br><br><br>然后点击 VRRP 标签页，<code>Interface</code> 选择你的 WAN 口的网卡，<code>VRID</code> 设置成 <code>1</code>. 然后 OK!<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc2.jpg" align="left" style=" width:380px;height:280 px"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></p>
<p>重复上面的步骤新建多条 VRRP, 新建的第二条就把 VRID 设置成 <code>2</code>. 依次类推.<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc3.jpg" align="left" style=" width:880px;height:380 px"><br><br><br><br></p>
<h2 id="为每个VRRP虚拟接口-设置IP地址"><a href="#为每个VRRP虚拟接口-设置IP地址" class="headerlink" title="为每个VRRP虚拟接口,设置IP地址."></a>为每个 VRRP 虚拟接口，设置 IP 地址.</h2><p>按图片中，将 VRRP 的 IP 地址设置成 10.0.0.1, 依次类推.<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc5.jpg" align="left" style=" width:380px;height:280 px"><br><br><br><br><br><br><br><br><br><br><br><br>&gt;<br></p>
<h2 id="建立pppoe连接"><a href="#建立pppoe连接" class="headerlink" title="建立pppoe连接."></a>建立 pppoe 连接.</h2><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc7.jpg" align="left" style=" width:480px;height:380 px">
<br><br><br><br><br><br><br><br><br><br><br>&gt;<br>
选择VRRP通道
<img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc8.jpg" align="left" style=" width:380px;height:280 px">
<br><br><br><br><br><br><br><br><br><br><br><br><br><br>&gt;<br>
输入宽带帐号密码
<img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc9.jpg" align="left" style=" width:380px;height:280 px">
<br><br><br><br><br><br><br><br><br><br><br><br><br>&gt;<br>
重复建立pppoe步骤,建立多条pppoe连接.如果pppoe有正常拔上号的话,前面会显示一个`R`字.
<img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc10.jpg" align="left" style=" width:480px;height:380 px">
<br><br><br><br><br><br><br><br>&gt;<br>

<h1 id="配置PCC均衡负载"><a href="#配置PCC均衡负载" class="headerlink" title="配置PCC均衡负载"></a>配置 PCC 均衡负载</h1><h2 id="为了端口映射正常-首先每条线路都需要做源进源出的路由标记"><a href="#为了端口映射正常-首先每条线路都需要做源进源出的路由标记" class="headerlink" title="为了端口映射正常,首先每条线路都需要做源进源出的路由标记."></a>为了端口映射正常，首先每条线路都需要做源进源出的路由标记.</h2><p>新建一条规则，建立连接标记<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc11.jpg" align="left" style=" width:480px;height:380 px"><br><br><br><br><br><br><br><br><br><br><br><br>Chain 选择 <code>forward</code> , In.Interface 选择 <code>pppoe-out1</code>, 也就是我们刚才建立的 VRRP 连接.<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc12.jpg" align="left" style=" width:380px;height:280 px"><br><br><br><br><br><br><br><br><br><br><br><br><br>Action: 选择 <code>mark connection</code>,New Connection Mark 填 <code>1st_conn</code>.Passthrouht 上面打勾.<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc13.jpg" align="left" style=" width:380px;height:280 px"><br><br><br><br><br><br><br><br><br><br><br><br><br>接着再建立一条规则，建立路由标记.<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc11.jpg" align="left" style=" width:480px;height:380 px"><br><br><br><br><br><br><br><br><br><br><br><br>Chain 选择 <code>prerouting</code>,Src.Address: 设置成<code>你的内网网段</code> , Connection Mark: 选择 <code>1st_conn</code><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc14.jpg" align="left" style=" width:380px;height:280 px"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>action 选择:<code>mark routing</code> , New Routing Mark: 设置成 <code>1st_route</code><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc15.jpg" align="left" style=" width:380px;height:280 px"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>重复建立连接标记和路由标记步骤，将其它 VRRP 线路也标记进来。第二条线路就把 New Connection Mark 填 <code>2st_conn</code>. Connection Mark: 选择 <code>2st_conn</code>. 依次类推.<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc16.jpg" align="left" style=" width:580px;height:380 px"><br><br><br><br><br></p>
<h2 id="设置PCC规则"><a href="#设置PCC规则" class="headerlink" title="设置PCC规则"></a>设置 PCC 规则</h2><p>建立第一条规则<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc11.jpg" align="left" style=" width:480px;height:380 px"><br><br><br><br><br><br><br><br><br><br><br><br>Chain 选择 <code>prerouting</code>,Src.Address: 设置成<code>你的内网网段</code> , In.Interface 设置成<code>你的lan内网网卡</code><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc17.jpg" align="left" style=" width:380px;height:280 px"><br><br><br><br><br><br><br><br><br><br><br><br><br><br>Per Connection Classifier: 选择 <code>both addresses and ports</code>, 前面这个值<code>你有几条线路设成多少,比方你有6条线路就设置成6</code>, 后面这个值<code>第一条线路设成0,第二条线路设成1,依次类推</code><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc18.jpg" align="left" style=" width:380px;height:280 px"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>Dst. address Type 下面的 Address Type: 设置成 <code>local</code>,<code>Invert</code> 前面打勾.<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc19.jpg" align="left" style=" width:380px;height:280 px"><br><br><br><br><br><br><br><br><br><br><br><br>Action: 选择 <code>mark connection</code>,New Connection Mark 填 <code>1st_conn</code>.Passthrouht 上面打勾.<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc20.jpg" align="left" style=" width:380px;height:280 px"><br><br><br><br><br><br><br><br><br><br><br>&gt;</p>
<p>建立二条规则<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc11.jpg" align="left" style=" width:480px;height:380 px"><br><br><br><br><br><br><br><br><br><br><br><br>Chain 选择 <code>prerouting</code>,Src.Address: 设置成<code>你的内网网段</code> , In.Interface 设置成<code>你的lan内网网卡</code> , Connection Mark: 选择 <code>1st_conn</code><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc21.jpg" align="left" style=" width:380px;height:280 px"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>action 选择:<code>mark routing</code> , New Routing Mark: 设置成 <code>1st_route</code><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc22.jpg" align="left" style=" width:380px;height:280 px"><br><br><br><br><br><br><br><br><br><br><br></p>
<p>建立三条规则<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc11.jpg" align="left" style=" width:480px;height:380 px"><br><br><br><br><br><br><br><br><br><br><br><br>Chain 选择 <code>output</code>,Connection Mark: 选择 <code>1st_conn</code><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc23.jpg" align="left" style=" width:380px;height:280 px"><br><br><br><br><br><br><br><br><br><br><br><br><br><br>action 选择:<code>mark routing</code> , New Routing Mark: 设置成 <code>1st_route</code>,Passthrouht 前面打勾.<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc24.jpg" align="left" style=" width:380px;height:280 px"><br><br><br><br><br><br><br><br><br><br><br><br><br><br>然后再每条线路配置三条规则，依次类推。要记得改 <code>1st_conn</code> 和 <code>1st_route</code> 第一条线路是这样设，第二条线路就要设 <code>2st_conn</code> 和 <code>2st_route</code>, 依次类推<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc25.jpg" align="left" style=" width:380px;height:280 px"><br><br><br><br><br><br><br><br><br><br></p>
<h1 id="设置路由"><a href="#设置路由" class="headerlink" title="设置路由"></a>设置路由</h1><h2 id="新建路由"><a href="#新建路由" class="headerlink" title="新建路由"></a>新建路由</h2><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc26.jpg" align="left" style=" width:480px;height:380 px">
<br><br><br><br><br><br><br><br><br>
Dst.Address:设置成`0.0.0.0/0`,Gateway设置成`pppoe-out1`,Routing Mark:设置成`1st_route`.其它按照图上去设置.
<img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc27.jpg" align="left" style=" width:380px;height:280 px">
<br><br><br><br><br><br><br><br><br><br><br>
重复上面的步骤,为每条线路设置路由.,Gateway设置成`pppoe-out2`,Routing Mark:设置成`2st_route`.其它按照图上去设置.依次类推.
<img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc28.jpg" align="left" style=" width:480px;height:380 px">
<br><br><br><br><br><br><br><br>
## 设置伪装
新建NET规则
<img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc29.jpg" align="left" style=" width:380px;height:280 px">
<br><br><br><br><br><br><br>
Chain:设置为`srcnat`, Src.Address:`设置成你的内网网段`,Dst.Address:`设置成你的内网网段`,然后把取反的叹号勾起来.
<img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc30.jpg" align="left" style=" width:380px;height:280 px">
<br><br><br><br><br><br><br>
action:设置成`masquerade`
<img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_ros_pcc31.jpg" align="left" style=" width:380px;height:280 px">
<br><br><br><br><br>
<font size="5" color="red">大成告功！！</font>

]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>ROS</tag>
      </tags>
  </entry>
  <entry>
    <title>如何关闭 Centos 防火墙？</title>
    <url>/2018/07/09/%E5%A6%82%E4%BD%95%E5%85%B3%E9%97%ADCentos%E9%98%B2%E7%81%AB%E5%A2%99%EF%BC%9F/</url>
    <content><![CDATA[<p>有很多同学初期玩 Centos 时发现明明按照步骤一步步完成了，但是就是无法成功完成所要的功能。这其实是 Centos 自带的防火墙在起作用。下面介绍如何关闭防火墙。</p>
<span id="more"></span>
<p>首选打开 /etc/selinux/config   这个文件</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">vi /etc/selinux/config</span><br></pre></td></tr></tbody></table></figure>
<p>将其中的 SELINUX=enforcing 改成 SELINUX=disabled<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_centos_1.jpg"></p>
<p>保存退出</p>
<p>然后执行</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">systemctl stop firewalld.service </span><br><span class="line">systemctl <span class="built_in">disable</span> firewalld.service </span><br></pre></td></tr></tbody></table></figure>

<p>查看默认防火墙状态（关闭后显示 notrunning，开启后显示 running）</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">firewall-cmd --state</span><br></pre></td></tr></tbody></table></figure>

<p>最后重启 Centos，搞定！</p>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>Centos</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo+Github 搭建自己的博客 --- 心得汇总 2018 版 (安装篇)</title>
    <url>/2018/07/07/hexo%E5%BB%BA%E7%AB%99%E5%BF%83%E5%BE%97/</url>
    <content><![CDATA[<p>自己平时经常在学习和工作中，有做一些笔记．一直有个想法自己建个博客，来整理自己写的这些东西．Google 了半天最终选择用 hexo+github 来实现．</p>
<h3 id="什么是Hexo"><a href="#什么是Hexo" class="headerlink" title="什么是Hexo"></a>什么是 Hexo</h3><p>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。并且有很多人为其制作了很多优秀<br>的主题（theme）。我选择 Hexo 主要有以下五点:</p>
<ul>
<li>主题选择多而且美</li>
<li>一键部署</li>
<li>编译文章速度极快</li>
<li>丰富的插件</li>
<li>支持 MarkDown</li>
</ul>
<p>话不多说，直接进入主题．</p>
<hr>
<h3 id="Hexo的安装"><a href="#Hexo的安装" class="headerlink" title="Hexo的安装"></a>Hexo 的安装</h3><p>因为我用的 debian9 的系统，安装这部分的内容，适合 linux 用户．Windows 安装可以参考下面这二篇文章</p>
<p><a href="https://zhuanlan.zhihu.com/p/26625249">GitHub+Hexo 搭建个人网站详细教程</a></p>
<p><a href="https://blog.csdn.net/gdutxiaoxu/article/details/53576018">手把手教你用 Hexo+Github 搭建属于自己的博客</a></p>
<h4 id="安装准备"><a href="#安装准备" class="headerlink" title="安装准备"></a>安装准备</h4><p>安装 Hexo 相当简单。最主要就是需要下面这二个软件</p>
<ul>
<li>Node.js</li>
<li>Git</li>
</ul>
<h4 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装 Hexo</h4><p>Debian 下要先把 <code>sh</code> 改成 <code>bash</code>, 运行下面的命令，选择<code>否</code>。(Centos 可以跳过这一步！)</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">dpkg-reconfigure dash</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_hexo200.png"><br>下载安装脚本并执行。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">wget -qO- https://raw.github.com/creationix/nvm/master/install.sh | sh</span><br><span class="line">source /root/.bashrc</span><br><span class="line">nvm install stable</span><br></pre></td></tr></tbody></table></figure>

<p>测试安装环境是否准备好了</p>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_npmtest.jpg"></p>
<p>运行安装命令</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> /mnt/blog</span><br><span class="line"><span class="built_in">cd</span> /mnt/blog</span><br><span class="line">npm install -g hexo-cli</span><br><span class="line">hexo init</span><br></pre></td></tr></tbody></table></figure>
<p>这样就安装好了。简单吧！接下来就是把 hexo 运行起来。<br><font color="#FF00FF">备注：</font>/mnt/blog 这个目录，你可以改成你自己要安装的目录。</p>
<hr>
<h4 id="运行hexo"><a href="#运行hexo" class="headerlink" title="运行hexo"></a>运行 hexo</h4><p>注意：所有 hexo 命令都要在自己建的这个 blog 这个主目录来执行。</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">hexo g &amp;&amp; hexo s</span><br></pre></td></tr></tbody></table></figure>
<p>这里说明一下 hexo 的几个常用命令</p>
<p>命令简写<br>hexo init   #初始化博客<br>hexo g == hexo generate #生成博客<br>hexo s == hexo server   #启动服务预览<br>hexo d == hexo deploy  #部署 </p>
<p>常用命令：<br>hexo server #Hexo 会监视文件变动并自动更新，无须重启服务器<br>hexo server -s #静态模式<br>hexo server -p 5000 #更改端口<br>hexo server -i 192.168.1.1 #自定义 IP<br>hexo clean #清除缓存，若是网页正常情况下可以忽略这条命令</p>
<p>测试<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo1.jpg"><br>注意：不要按 Ctrl+C 关掉了</p>
<p>然后在浏览器出输入你的 IP 地址加 4000 端口号就可以正常看到了 hexo 了．<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo2.jpg"></p>
<div class="note info"><p>备注：用 Centos 的同学记得要先把防火墙给关了。<a href="http://xmzcl.coding.me/%E5%A6%82%E4%BD%95%E5%85%B3%E9%97%ADCentos%E9%98%B2%E7%81%AB%E5%A2%99%EF%BC%9F.html">如何关闭 Centos 防火墙？</a></p>
</div>


<hr>
<h3 id="主题（以Next为例）"><a href="#主题（以Next为例）" class="headerlink" title="主题（以Next为例）"></a>主题（以 Next 为例）</h3><p>Hexo 主题是他的强项，网上有非常多的主题支持。都非常好看。想具体了解的话，可以看看这篇 <a href="https://www.zhihu.com/question/24422335">Hexo 有哪些好看的主题？</a></p>
<h4 id="安装主题"><a href="#安装主题" class="headerlink" title="安装主题"></a>安装主题</h4><p>Hexo 安装主题的方式非常简单，只需要将主题文件拷贝至站点目录的 themes 目录下， 然后修改下配置文件即可<br>在这我们使用 git 克隆最新版</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /mnt/blog</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/iissnan/hexo-theme-next themes/next</span><br></pre></td></tr></tbody></table></figure>
<h4 id="启用主题"><a href="#启用主题" class="headerlink" title="启用主题"></a>启用主题</h4><p>将 Next 主题下载到 blog 目录的 themes 主题下的 next 文件夹中。打开站点的_config.yml 配置文件，修改主题为 next<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo3.jpg"></p>
<p>然后打开主题的_config.yml 配置文件，不是站点配置文件，找到 Scheme Settings<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo5.jpg"><br>next 主题有三个样式，我用的是 Pisces，你们可以自己试试看，选择你自己喜欢的样式 (只需要把行首的 #去除，# 是注释)。然后执行</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo s</span><br></pre></td></tr></tbody></table></figure>
<p>再在浏览器输入 IP 地址，就可以看到效果了。</p>
<p>
</p><div class="note info"><p>备注：这里需要注意一下_config.yml 这个文件有二个。一个是站点根目录下有一个_config.yml，叫站点配置文件。另外一个是主题 next 目录下也有一个_config.yml，叫主题配置文件，不要搞错了。</p>
</div>

<hr>
<h3 id="将hexo部署到Github"><a href="#将hexo部署到Github" class="headerlink" title="将hexo部署到Github"></a>将 hexo 部署到 Github</h3><h4 id="去github网站去注册一个帐号"><a href="#去github网站去注册一个帐号" class="headerlink" title="去github网站去注册一个帐号"></a>去 github 网站去注册一个帐号</h4><p>这个我就不说了吧，自行百度。</p>
<h4 id="创建一个xxx-github-io的public仓库"><a href="#创建一个xxx-github-io的public仓库" class="headerlink" title="创建一个xxx.github.io的public仓库"></a>创建一个 xxx.github.io 的 public 仓库</h4><p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo6.jpg"></p>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo7.jpg"></p>
<h4 id="安装-hexo-deployer-git"><a href="#安装-hexo-deployer-git" class="headerlink" title="安装 hexo-deployer-git"></a>安装 hexo-deployer-git</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></tbody></table></figure>
<h4 id="网站配置git"><a href="#网站配置git" class="headerlink" title="网站配置git"></a>网站配置 git</h4><p>把网站的_config.yml 配置文件拉到最后配置 deploy<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo9.jpg"><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo8.jpg"></p>
<p>然后在电脑上配置 git</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">git config --global user.name <span class="string">"你的GitHub用户名"</span></span><br><span class="line">git config --global user.email <span class="string">"你的GitHub注册邮箱"</span></span><br></pre></td></tr></tbody></table></figure>
<p>生成 ssh 密钥文件：运行之后什么都不用输入，直接按三次回车。</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">"你的GitHub注册邮箱"</span></span><br></pre></td></tr></tbody></table></figure>
<p>最终会生成一个文件在用户目录下，打开用户目录，找到.ssh\id_rsa.pub 文件，</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">cat</span> ~/.ssh/id_rsa.pub</span><br></pre></td></tr></tbody></table></figure>
<p>复制里面的内容，<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo12.jpg"><br>打开你的 github 主页，进入个人设置 -&gt; SSH and GPG keys -&gt; New SSH key：<br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo10.jpg"><br><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo11.jpg"></p>
<hr>
<h4 id="大功告成"><a href="#大功告成" class="headerlink" title="大功告成"></a>大功告成</h4><p>输入这条命令将 hexo 部署到 github</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://host.zealot.top:8929/ppi/images/-/raw/master/pictures/2022-10-17_blog_hexo13.jpg"></p>
<p>最后在浏览器中输入 xxxx.github.io 这个网址就可以享受自己的劳动果实了。<br><font color="#FF00FF">技巧：</font> 在命令行输入 <code>alias up='hexo clean &amp;&amp; hexo g &amp;&amp; hexo d'</code> 这样以后直接输入 up。就可以把 hexo 部署到 github 上了。 </p>
]]></content>
      <categories>
        <category>技术分享</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
</search>
